"use strict";!function(){$(function(){new e($(".preloader")),$.each($(".site__index-page"),function(){new t($(this))}),$.each($("body"),function(){new n($(this))}),$.each($(".site__header"),function(){new i($(this))}),$.each($(".main-slider"),function(){new o($(this)),new l($(this))}),$.each($(".expertise__items"),function(){new s($(this))}),$.each($(".reviews"),function(){new r($(this))}),$.each($(".contacts__map"),function(){new d($(this))}),$.each($(".case .main-slider__btn-down"),function(){new a($(this))})});var e=function(e){var t=this,n=$(window),i=e,o=$("body"),s=function(){n.on({load:function(){r()}})},a=function(){o[0].preloader=t,s()},r=function(){i.addClass("preloader_loaded"),setTimeout(function(){i.remove(),$(".site").addClass("site__loaded")},500)};a()},t=function(e){var t=this,n=e,i=$(window),o=$("html, body"),s=!1,a=(n.find(".slide__content"),$(".main-slider")),r=a.find(".main-slider__btn-down"),d=function(){i.on({load:function(){i.width()>=1024&&(s||(l(),f(),s=!0))},resize:function(){i.width()>=1024?(s||(l(),s=!0),f()):s&&(c(),s=!1)}}),r.on({click:function(){return i.width()>=1024?(console.log(300),$(this).parents(".case").length?(o.stop(!0,!1),o.animate({scrollTop:a.innerHeight()},300)):$.fn.fullpage.moveTo(2)):(o.stop(!0,!1),o.animate({scrollTop:a.innerHeight()},300)),!1}})},l=function(){$("#fullpage").fullpage({scrollOverflow:!0,sectionSelector:".slide__content",onLeave:function(e,t,n,i,o){t>1?($(".logo_index").hide(),$(".move").addClass("moves_up animated_moves")):($(".logo_index").show(),setTimeout(function(){$(".move").removeClass("moves_up")},300),setTimeout(function(){$(".move").removeClass("animated_moves")},800));var s=$(".slide__content").eq(t-1).find(".slide__content-inner>div>div");s.hasClass("reviews")&&s.find(".reviews__item").addClass("animation")}})},c=function(){$.fn.fullpage.destroy("all")},f=function(){},h=function(){n[0].obj=t,d()};h()},n=function(e){var t=this,n=e,i=$(window),o=$(".main-slider"),s=$(".case__hero"),a=$("body"),r=function(){i.on({resize:function(){i.width()>=768?l():(a.css({"font-size":"75px"}),o.css({"font-size":"75px"}),s.css({"font-size":"75px"}))}})},d=function(){r(),i.width()>=768&&l(),n[0].obj=t},l=function(){var e;e=i.height()>500?100*(window.innerHeight/900)+"px":100*(500/900)+"px",a.css({"font-size":e}),o.css({"font-size":e}),s.css({"font-size":e})};d()},i=function(e){var t=this,n=e,i=$(window),o=n.find(".site__header__btn"),s=n.find(".site__header-menu"),a=$("html"),r=$("body"),d=function(){n.removeClass("opened"),i.width()<1024&&(a.css({"overflow-y":"auto"}),r.css({"overflow-y":"auto"})),s.attr("style","")},l=function(){i.on({scroll:function(){i.scrollTop()>0?n.addClass("fixed"):n.removeClass("fixed")}}),o.on({click:function(){return n.hasClass("opened")?d():c(),!1}})},c=function(){n.addClass("opened"),i.width()<1024&&(a.css({"overflow-y":"hidden"}),r.css({"overflow-y":"hidden"}))},f=function(){l(),n[0].obj=t,i.scrollTop()>n.innerHeight()/2?n.addClass("fixed"):n.removeClass("fixed")};f()},o=function(e){var t,n=this,i=e,o=$(window),s=$(".site__header"),a=15,r=10,d=5,l=20,c=25,f=0,h=function(){$(document).on("mousemove",".main-slider .swiper-slide",function(e){e=e||window.event;var t=$(this),n=t.find(".move1"),f=t.find(".move2"),h=t.find(".move3"),p=t.find(".move4"),g=t.find(".move5");if(o.width()>1024&&!s.hasClass("opened")&&!$(document).find(".move").hasClass("animated_moves")){var w=e.clientX,v=e.clientY,_=i.width()/2,y=i.height()/2,C=(w-_)/_,b=(v-y)/y;o.outerWidth()>1024&&(u(C,b,a,n),u(C,b,a,$(document).find(".copy_1")),m(C,b,r,f),m(C,b,r,$(document).find(".copy_2")),m(C,b,d,h),m(C,b,d,$(document).find(".copy_3")),u(C,b,l,p),u(C,b,l,$(document).find(".copy_4")),u(C,b,c,g),u(C,b,c,$(document).find(".copy_5")))}}),o.on({load:function(){p(),f=o.width()},resize:function(){if(f!=o.width()&&(f=o.width()+1,o.width()<1024&&g()),o.width()>=1024&&screen.width>=1024&&i.css({height:""}),i.hasClass("main-slider_index")){var e=i.parents(".slide__content").next().find(".slide__content-inner"),t=i.find(".swiper-slide-active").innerHeight();setTimeout(function(){i.find(".swiper-slide-active .move").each(function(){var n=$(this),i=n.position().top,o=n.height();if(i+o>t){var s=n.attr("class").replace(/(^.+\D)(\d+)(\D.+$)/i,"$2"),a=0;if($(".copy_move.copy_"+s).length){var r=$(".copy_move.copy_"+s);$(".slide__content").innerHeight()<$(".main-slider").innerHeight()&&(a=$(".main-slider").innerHeight()-$(".slide__content").innerHeight()),r.offset({top:n.offset().top-a,left:n.offset().left}),r.css({bottom:"auto",right:"auto",width:n.width(),height:n.height()})}else{var d=n.clone(!0);d.addClass("copy_move copy_"+s),e.prepend(d),$(".slide__content").innerHeight()<$(".main-slider").innerHeight()&&(a=$(".main-slider").innerHeight()-$(".slide__content").innerHeight()),d.offset({top:n.offset().top-a,left:n.offset().left}),d.css({bottom:"auto",right:"auto",width:n.width(),height:n.height()})}}else{var s=n.attr("class").replace(/(^.+\D)(\d+)(\D.+$)/i,"$2");$(".copy_move.copy_"+s).remove()}})},1500)}}}),window.addEventListener("orientationchange",function(){setTimeout(function(){screen.width<1024&&g()},500)},!1)},p=function(){t=new Swiper(i.find(".swiper-container"),{spaceBetween:0,slidesPerView:1,speed:700,loop:!0,effect:"fade",fade:{crossFade:!0},autoplayDisableOnInteraction:!1,nextButton:i.find(".swiper-button-next")[0],prevButton:i.find(".swiper-button-prev")[0],onInit:function(e){var t=e.slides.filter(".swiper-slide-active"),n=t.parents(".slide__content").index(),o=$(".slide__content").eq(n+1);if(i.hasClass("main-slider_index")){var s=t.innerHeight();t.find(".move").each(function(){var e=$(this),t=e.position().top,n=e.height();if(t+n>s){var i=e.attr("class").replace(/(^.+\D)(\d+)(\D.+$)/i,"$2"),a=0,r=e.clone(!0);r.addClass("copy_move copy_"+i),o.prepend(r),$(".slide__content").innerHeight()<$(".main-slider").innerHeight()&&(a=$(".main-slider").innerHeight()-$(".slide__content").innerHeight()),r.offset({top:e.offset().top-a,left:e.offset().left}),r.css({bottom:"auto",right:"auto",width:e.width(),height:e.height()})}})}},onSlideChangeStart:function(e){var t=e.slides.filter(".swiper-slide-active"),n=t.parents(".slide__content").index();$(".slide__content").eq(n+1).find(".slide__content-inner");$(".copy_move").remove()},onSlideChangeEnd:function(e){var t=e.slides.filter(".swiper-slide-active"),n=t.parents(".slide__content").index(),o=$(".slide__content").eq(n+1).find(".slide__content-inner");if(i.hasClass("main-slider_index")){var s=t.innerHeight();t.find(".move").each(function(){var e=$(this),t=e.position().top,n=e.height();if(t+n>s){var i=e.attr("class").replace(/(^.+\D)(\d+)(\D.+$)/i,"$2"),a=0,r=e.clone(!0);r.addClass("copy_move copy_"+i),o.prepend(r),$(".slide__content").innerHeight()<$(".main-slider").innerHeight()&&(a=$(".main-slider").innerHeight()-$(".slide__content").innerHeight()),r.offset({top:e.offset().top-a,left:e.offset().left}),r.css({bottom:"auto",right:"auto",width:e.width(),height:e.height()})}})}}})},u=function(e,t,n,i){i.css({"-webkit-transform":"translate( "+-(e*n)+"px,"+-(t*n)+"px )",transform:"translate( "+-(e*n)+"px, "+-(t*n)+"px  )"})},m=function(e,t,n,i){i.css({"-webkit-transform":"translate( "+e*n+"px ,"+t*n+"px  )",transform:"translate( "+e*n+"px , "+t*n+"px  )"})},g=function(){var e=o.height();i.parents(".case").length?i.css({height:e+e/5}):i.css({height:e})},w=function(){i[0].obj=n,h(),o.width()<1024&&g()};w()},s=function(e){var t,n=this,i=e,o=$(window),s=!1,a=function(){o.on({resize:function(){o.width()<768?s||(r(),s=!0):s&&(d(),s=!1)}})},r=function(){t=new Swiper(i.find(".swiper-container"),{slidesPerView:1.9,centeredSlides:!0})},d=function(){t.destroy(!0,!0)},l=function(){i[0].obj=n,a(),o.width()<768&&(s||(r(),s=!0))};l()},a=function(e){var t=this,n=e,i=$("html, body"),o=$(".main-slider__inner-pic"),s=function(){n.on({click:function(){return console.log(300),i.animate({scrollTop:o.innerHeight()},300),!1}})},a=function(){n[0].obj=t,s()};a()},r=function(e){var t,n=this,i=e,o=$(window),s=function(){o.on({resize:function(){}})},a=function(){t=new Swiper(i.find(".swiper-container"),{slidesPerView:1,spaceBetween:30,speed:500,loop:!0,effect:"fade",fade:{crossFade:!0},autoplayDisableOnInteraction:!1,nextButton:i.find(".swiper-button-next")[0],prevButton:i.find(".swiper-button-prev")[0]})},r=function(){i[0].obj=n,s(),a()};r()},d=function(e){var t,n,i=e,o=i.find("#contact-google-map"),s=o.data("map-lat"),a=o.data("map-lng"),r=o.data("map-zoom"),d=$(".contacts__cities .btn"),l=$(window),c=function(){l.on({load:function(){u()},resize:function(){u()}}),google.maps.event.addDomListener(window,"resize",function(){if(d.length){var e={lat:d.filter(".active").data("map-lat"),lng:d.filter(".active").data("map-lng")};t.setCenter(e),f(t.getCenter(),0,50)}}),d.on({click:function(){var e=$(this);if(!e.hasClass("active")){d.removeClass("active"),e.addClass("active");var i={lat:$(this).data("map-lat"),lng:$(this).data("map-lng")};n.setPosition(i),setTimeout(function(){google.maps.event.trigger(t,"resize"),t.setCenter(i),f(t.getCenter(),0,50)},300)}return!1}})},f=function(e,n,i){var o=Math.pow(2,t.getZoom()),s=t.getProjection().fromLatLngToPoint(e),a=new google.maps.Point(n/o||0,i/o||0),r=new google.maps.Point(s.x-a.x,s.y+a.y),d=t.getProjection().fromPointToLatLng(r);t.setCenter(d)},h=function(){var e=new google.maps.StyledMapType([{stylers:[{hue:"#b00040"},{saturation:60},{lightness:-40}]},{elementType:"labels.text.fill",stylers:[{color:"#ff6fa4"}]},{featureType:"water",stylers:[{color:"#B61530"}]},{featureType:"road",stylers:[{color:"#B61530"},{}]},{featureType:"road.local",stylers:[{color:"#B61530"},{lightness:6}]},{featureType:"road.highway",stylers:[{color:"#B61530"},{lightness:-25}]},{featureType:"road.arterial",stylers:[{color:"#B61530"},{lightness:-10}]},{featureType:"transit",stylers:[{color:"#B61530"},{lightness:70}]},{featureType:"transit.line",stylers:[{color:"#B61530"},{lightness:90}]},{featureType:"administrative.country",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#ff6fa4"}]}],{name:"Custom Style"}),i="custom_style";t=new google.maps.Map(o[0],{zoom:r,zoomControl:!1,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,center:{lat:s,lng:a},mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,i]}}),n=new google.maps.Marker({position:{lat:s,lng:a},map:t}),t.mapTypes.set(i,e),t.setMapTypeId(i),google.maps.event.addListenerOnce(t,"idle",function(){if(d.length){var e={lat:d.filter(".active").data("map-lat"),lng:d.filter(".active").data("map-lng")};t.setCenter(e),f(t.getCenter(),0,50)}})},p=function(){google.maps.event.addDomListener(window,"load",h),c(),u()},u=function(){var e=$(".contacts__info");l.width()>=768?(e.innerHeight()>e.innerWidth()?(i.height(e.innerHeight()+.25*e.innerHeight()),i.width(e.innerHeight()+.25*e.innerHeight())):(i.height(e.innerWidth()+.25*e.innerWidth()),i.width(e.innerWidth()+.25*e.innerWidth())),e.parents(".contacts").hasClass("contacts_2")&&(e.innerHeight()>e.innerWidth()?(i.height(e.innerHeight()+.6*e.innerHeight()),i.width(e.innerHeight()+.6*e.innerHeight())):(i.height(e.innerWidth()+.6*e.innerWidth()),i.width(e.innerWidth()+.6*e.innerWidth())))):i.attr("style","")};p()},l=function(e){var t=e,n=t.find(".swiper-slide"),i=$(window),o=function(){i.on({load:function(){},resize:function(){s()}})},s=function(){n.find(".move").each(function(){var e=$(this),t=e.data("views");if(void 0!=t){for(var n=0;n<t.length;n++){var o;i.width()>=1024?o=t[2]:i.width()<1024&&i.width()>=768?o=t[1]:i.width()<768&&(o=t[0])}o.url.length&&e.css({"background-image":'url("'+o.url+'")',top:"auto",right:"auto",bottom:"auto",left:"auto"});for(var s in o.positions)e.css(s,o.positions[s]/100+"em")}})},a=function(){o(),s()};a()}}();
"use strict";!function(){$(function(){$.each($(".case__hero-btn-down"),function(){new n($(this))}),$.each($(".case__hero"),function(){new t($(this))}),$.each($(".featured-products__items"),function(){new i($(this)),new e($(this))})});var t=function(t){var n=this,i=t,e=$(window),o=$(".site__header"),d=15,s=10,r=5,c=20,a=25,h=0,f=function(){i.on({mousemove:function(t){t=t||window.event;var n=$(this),h=n.find(".move1"),f=n.find(".move2"),p=n.find(".move3"),m=n.find(".move4"),v=n.find(".move5");if(e.width()>1024&&!o.hasClass("opened")&&!$(document).find(".move").hasClass("animated_moves")){var l=t.clientX,g=t.clientY,_=i.width()/2,b=i.height()/2,x=(l-_)/_,y=(g-b)/b;e.outerWidth()>1024&&(u(x,y,d,h),u(x,y,d,$(document).find(".copy_1")),w(x,y,s,f),w(x,y,s,$(document).find(".copy_2")),w(x,y,r,p),w(x,y,r,$(document).find(".copy_3")),u(x,y,c,m),u(x,y,c,$(document).find(".copy_4")),u(x,y,a,v),u(x,y,a,$(document).find(".copy_5")))}}}),e.on({load:function(){h=e.width()},resize:function(){h!=e.width()&&(h=e.width()+1,e.width()<1024&&p()),e.width()>=1024&&screen.width>=1024&&(i.css({height:""}),i.parents(".case").css({"padding-top":""})),m()},scroll:function(){}}),window.addEventListener("orientationchange",function(){setTimeout(function(){screen.width<1024&&p()},500)},!1)},u=function(t,n,i,e){e.css({"-webkit-transform":"translate( "+-(t*i)+"px,"+-(n*i)+"px )",transform:"translate( "+-(t*i)+"px, "+-(n*i)+"px  )"})},w=function(t,n,i,e){e.css({"-webkit-transform":"translate( "+t*i+"px ,"+n*i+"px  )",transform:"translate( "+t*i+"px , "+n*i+"px  )"})},p=function(){var t=e.height();i.css({height:t}),i.parents(".case").css({"padding-top":t+20})},m=function(){i.find(".move").each(function(){var t=$(this),n=t.data("views");if(void 0!=n){for(var i=0;i<n.length;i++){var o;e.width()>=1024?o=n[2]:e.width()<1024&&e.width()>=768?o=n[1]:e.width()<768&&(o=n[0])}o.url.length&&t.css({"background-image":'url("'+o.url+'")',top:"auto",right:"auto",bottom:"auto",left:"auto"});for(var d in o.positions)t.css(d,o.positions[d]/100+"em")}})},v=function(){i[0].obj=n,f(),m(),e.width()<1024&&p()};v()},n=function(t){var n=this,i=t,e=$("html, body"),o=$(".case__hero"),d=function(){i.on({click:function(){return e.animate({scrollTop:o.innerHeight()},300),!1}})},s=function(){i[0].obj=n,d()};s()},i=function(t){var n,i=this,e=t,o=$(window),d=!1,s=$(".featured-products"),r=$(".featured-products__disk"),c=function(){o.on({load:function(){o.width()>=768&&f()},resize:function(){o.width()<1024?d||(a(),d=!0):(d&&(h(),d=!1),f()),o.width()<768?r.attr("style",""):f()}})},a=function(){n=new Swiper(e.find(".swiper-container"),{slidesPerView:1,nextButton:e.find(".swiper-button-next")[0],prevButton:e.find(".swiper-button-prev")[0]})},h=function(){n.destroy(!0,!0)},f=function(){var t,n=s.innerHeight(),i=s.innerWidth();t=n>i?i:n,r.width(t),r.height(t),r.css({"margin-top":"-"+t/2+"px","margin-left":"-"+t/2+"px"})},u=function(){e[0].obj=i,c(),o.width()<1024&&(d||(a(),d=!0))};u()},e=function(t){var n=this,i=t,e=(i.find(".featured-products__disk"),i.find(".swiper-slide_aminated")),o=0,d=$(window),s=d.width(),r=function(){d.on({resize:function(){s!=d.width()&&d.width()>=1024&&(s=d.width()+1,c())}})},c=function(){o=d.width()<550?20:d.width()>=550&&d.width()<1200?70:54;var t=(i.height()+o)/2+"px",n=-90,s=e.length,r=360/s;e.each(function(i){var e=$(this),o=r*i+n,d=o*-1;e.css({"-webkit-transform":"rotate("+o+"deg) translate("+t+") rotate("+d+"deg)",transform:"rotate("+o+"deg) translate("+t+") rotate("+d+"deg)"})})},a=function(){i[0].obj=n,r(),d.width()>=1024&&c()};a()}}();
!function(){$(function(){$(".phone").each(function(){new n($(this))})});var n=function(n){var t=this,a=n,o=a.find(".phone__elem"),s=$(window),r=function(){s.on({scroll:function(){s.width()>=768&&c()}})},c=function(){var n,t=s.height(),o=(a.find(".pnone__part"),a.offset().top),r=o-t/2.5,c=o-t/15;s.scrollTop()<r?n=0:s.scrollTop()>c&&(n=1),s.scrollTop()>r&&!(s.scrollTop()>c)&&(n="animation"),l(r,c,n)},l=function(n,t,a){var r=t-n;o.each(function(){var t=$(this),o=0,c=1,l=t.data("translate"),e=t.data("scale"),i=(l-o)/r*(s.scrollTop()-n),f=c+(e-c)/r*(s.scrollTop()-n);0==a?t.css({"-webkit-transform":"translateY("+o+"%) scale( "+c+" )",transform:"translateY("+o+"%) scale( "+c+" )"}):1==a?t.css({"-webkit-transform":"translateY("+l+"%) scale( "+e+" )",transform:"translateY("+l+"%) scale( "+e+" )"}):t.css({"-webkit-transform":"translateY("+i+"%) scale( "+f+" )",transform:"translateY("+i+"%) scale( "+f+" )"})})},e=function(){a[0].obj=t,c(),r()};e()}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LmNhc2UuanMiLCJqcXVlcnkucGhvbmUuanMiXSwibmFtZXMiOlsiJCIsIlByZWxvYWRlciIsImVhY2giLCJQYWdlIiwidGhpcyIsIlpvb21TaXRlIiwiTWVudSIsIk1haW5TbGlkZXIiLCJNYWluU2xpZGVyUGljdHVyZXMiLCJFeHBlcnRpc2VTbGlkZXIiLCJSZXZpZXdzU2xpZGVyIiwiTG9jYXRpb24iLCJTY3JvbGxEb3duIiwib2JqIiwiX3NlbGYiLCJfd2luZG93Iiwid2luZG93IiwiX3ByZWxvYWRlciIsIl9ib2R5IiwiX2FkZEV2ZW50cyIsIm9uIiwibG9hZCIsIl9zaG93U2l0ZSIsIl9pbml0IiwicHJlbG9hZGVyIiwiYWRkQ2xhc3MiLCJzZXRUaW1lb3V0IiwicmVtb3ZlIiwiX29iaiIsIl9kb20iLCJfc3dpcGVySW5pdCIsIl9tYWluU2xpZGVyIiwiZmluZCIsIl9idG5Eb3duIiwid2lkdGgiLCJfaW5pdEZ1bGxQYWdlIiwiX2NlbnRlckNvbnRlbnQiLCJyZXNpemUiLCJfZGVzdHJveUZ1bGxQYWdlIiwiY2xpY2siLCJjb25zb2xlIiwibG9nIiwicGFyZW50cyIsImxlbmd0aCIsInN0b3AiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiaW5uZXJIZWlnaHQiLCJmbiIsImZ1bGxwYWdlIiwibW92ZVRvIiwic2Nyb2xsT3ZlcmZsb3ciLCJzZWN0aW9uU2VsZWN0b3IiLCJvbkxlYXZlIiwiYW5jaG9yTGluayIsImluZGV4Iiwic2xpZGVJbmRleCIsImRpcmVjdGlvbiIsIm5leHRTbGlkZUluZGV4IiwiaGlkZSIsInNob3ciLCJyZW1vdmVDbGFzcyIsImJsb2NrIiwiZXEiLCJoYXNDbGFzcyIsImRlc3Ryb3kiLCJfY2FzZUhlcm8iLCJfb25FdmVudHMiLCJfc2V0U2l6ZSIsImNzcyIsImZvbnQtc2l6ZSIsIm5ld1NpemUiLCJoZWlnaHQiLCJfbWVudUJ0biIsIl9tZW51SXRlbXMiLCJfaHRtbCIsIl9jbG9zZU1lbnUiLCJvdmVyZmxvdy15IiwiYXR0ciIsInNjcm9sbCIsIl9vcGVuTWVudSIsIl9zd2lwZXIxIiwiX2hlYWRlciIsIl9zdGVwMSIsIl9zdGVwMiIsIl9zdGVwMyIsIl9zdGVwNCIsIl9zdGVwNSIsIl9nbG9iYWxXaWR0aCIsImRvY3VtZW50IiwiZSIsImV2ZW50Iiwic2xpZGUiLCJfaW1nMSIsIl9pbWcyIiwiX2ltZzMiLCJfaW1nNCIsIl9pbWc1IiwicGFnZVgiLCJjbGllbnRYIiwicGFnZVkiLCJjbGllbnRZIiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsInBlcmNlbnRGcm9tQ2VudGVyWCIsInBlcmNlbnRGcm9tQ2VudGVyWSIsIm91dGVyV2lkdGgiLCJfbW92ZUJvdHRvbSIsIl9tb3ZlVG9wIiwiX2luaXRTd2lwZXIiLCJfc2V0SGVpZ2h0Iiwic2NyZWVuIiwibmV4dFNlY3Rpb24iLCJuZXh0IiwidmVnZXRhYmxlIiwicG9zIiwicG9zaXRpb24iLCJ0b3AiLCJoZWlnaHRWZWciLCJudW0iLCJyZXBsYWNlIiwiZGlmZiIsIm9sZEltZyIsIm9mZnNldCIsImxlZnQiLCJib3R0b20iLCJyaWdodCIsIm5ld0ltZyIsImNsb25lIiwicHJlcGVuZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJTd2lwZXIiLCJzcGFjZUJldHdlZW4iLCJzbGlkZXNQZXJWaWV3Iiwic3BlZWQiLCJsb29wIiwiZWZmZWN0IiwiZmFkZSIsImNyb3NzRmFkZSIsImF1dG9wbGF5RGlzYWJsZU9uSW50ZXJhY3Rpb24iLCJuZXh0QnV0dG9uIiwicHJldkJ1dHRvbiIsIm9uSW5pdCIsInN3aXBlciIsImFjdFNsaWRlIiwic2xpZGVzIiwiZmlsdGVyIiwic2VjdGlvbkluZGV4Iiwib25TbGlkZUNoYW5nZVN0YXJ0Iiwib25TbGlkZUNoYW5nZUVuZCIsInhQZXJjZW50IiwieVBlcmNlbnQiLCJzdGVwIiwiaW1hZ2UiLCItd2Via2l0LXRyYW5zZm9ybSIsInRyYW5zZm9ybSIsIl9zd2lwZXIiLCJfZGVzdHJveVN3aXBlciIsImNlbnRlcmVkU2xpZGVzIiwiX3Njcm9sbGVyIiwiX21haW5TbGlkZXJQaWMiLCJtYXAiLCJtYXJrZXIiLCJfbWFwIiwiX21hcExhdCIsImRhdGEiLCJfbWFwTG5nIiwiX21hcFpvb20iLCJfYnRuIiwiZ29vZ2xlIiwibWFwcyIsImFkZERvbUxpc3RlbmVyIiwibXlMYXRMbmciLCJsYXQiLCJsbmciLCJzZXRDZW50ZXIiLCJfb2Zmc2V0Q2VudGVyIiwiZ2V0Q2VudGVyIiwiY3VySXRlbSIsInNldFBvc2l0aW9uIiwidHJpZ2dlciIsImxhdGxuZyIsIm9mZnNldHgiLCJvZmZzZXR5Iiwic2NhbGUiLCJNYXRoIiwicG93IiwiZ2V0Wm9vbSIsIndvcmxkQ29vcmRpbmF0ZUNlbnRlciIsImdldFByb2plY3Rpb24iLCJmcm9tTGF0TG5nVG9Qb2ludCIsInBpeGVsT2Zmc2V0IiwiUG9pbnQiLCJ3b3JsZENvb3JkaW5hdGVOZXdDZW50ZXIiLCJ4IiwieSIsIm5ld0NlbnRlciIsImZyb21Qb2ludFRvTGF0TG5nIiwiX2luaXRNYXAiLCJjdXN0b21NYXBUeXBlIiwiU3R5bGVkTWFwVHlwZSIsInN0eWxlcnMiLCJodWUiLCJzYXR1cmF0aW9uIiwibGlnaHRuZXNzIiwiZWxlbWVudFR5cGUiLCJjb2xvciIsImZlYXR1cmVUeXBlIiwidmlzaWJpbGl0eSIsIm5hbWUiLCJjdXN0b21NYXBUeXBlSWQiLCJNYXAiLCJ6b29tIiwiem9vbUNvbnRyb2wiLCJtYXBUeXBlQ29udHJvbCIsInNjYWxlQ29udHJvbCIsInN0cmVldFZpZXdDb250cm9sIiwicm90YXRlQ29udHJvbCIsImNlbnRlciIsIm1hcFR5cGVDb250cm9sT3B0aW9ucyIsIm1hcFR5cGVJZHMiLCJNYXBUeXBlSWQiLCJST0FETUFQIiwiTWFya2VyIiwibWFwVHlwZXMiLCJzZXQiLCJzZXRNYXBUeXBlSWQiLCJhZGRMaXN0ZW5lck9uY2UiLCJjb250ZW50IiwiaW5uZXJXaWR0aCIsIl9zbGlkZSIsIl9hZGRQaWN0dXJlcyIsImRhdGFWaWV3IiwidW5kZWZpbmVkIiwiaSIsIm5lZWRWaWV3IiwidXJsIiwiYmFja2dyb3VuZC1pbWFnZSIsImtleSIsInBvc2l0aW9ucyIsIkNhc2VIZXJvIiwiRmVhdHVyZWRQcm9kdWN0c1NsaWRlciIsIlNsaWRlckZvcm1hdHMiLCJtb3VzZW1vdmUiLCJwYWRkaW5nLXRvcCIsIl9oZXJvUGljIiwiX3NxdWFkIiwiX3NxdWFkRGlzayIsIl9zZXREaXNrU2l6ZSIsIm1hcmdpbi10b3AiLCJtYXJnaW4tbGVmdCIsIl9pdGVtcyIsIl9kaXN0YW5jZSIsIl9wb3NpdGlvbkl0ZW1zIiwicmFkaXVzIiwic3RhcnQiLCJudW1iZXJPZkVsZW1lbnRzIiwic2xpY2UiLCJyb3RhdGUiLCJyb3RhdGVSZXZlcnNlIiwiUGhvbmUiLCJfcGhvbmVFbGVtcyIsIl9jaGVja1Njcm9sbCIsInNjcm9sbFBvaW50Iiwid2luZG93SCIsInRvcFBvcyIsImVuZCIsIl9hbmltYXRpb25FbGVtcyIsInN0YXJ0UG9pbnQiLCJlbmRQb2ludCIsInNlZ21lbnQiLCJjdXJFbGVtIiwidHJhbnNsYXRlU3RhcnQiLCJzY2FsZVN0YXJ0IiwidHJhbnNsYXRlRW5kIiwic2NhbGVFbmQiLCJrb29mVHJhbnNsYXRlIiwia29vZlNjYWxlIl0sIm1hcHBpbmdzIjoiQUFBQSxjQUNBLFdBRUlBLEVBQUcsV0FFQyxHQUFJQyxHQUFXRCxFQUFFLGVBRWpCQSxFQUFFRSxLQUFNRixFQUFFLHFCQUF1QixXQUU3QixHQUFJRyxHQUFNSCxFQUFFSSxTQUloQkosRUFBRUUsS0FBTUYsRUFBRSxRQUFTLFdBRWYsR0FBSUssR0FBVUwsRUFBRUksU0FJcEJKLEVBQUVFLEtBQU1GLEVBQUUsaUJBQWtCLFdBRXhCLEdBQUlNLEdBQU1OLEVBQUVJLFNBSWhCSixFQUFFRSxLQUFNRixFQUFFLGdCQUFpQixXQUV2QixHQUFJTyxHQUFZUCxFQUFFSSxPQUNsQixHQUFJSSxHQUFvQlIsRUFBRUksU0FJOUJKLEVBQUVFLEtBQU1GLEVBQUUscUJBQXNCLFdBRTVCLEdBQUlTLEdBQWlCVCxFQUFFSSxTQUkzQkosRUFBRUUs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RXRILFVBQWEsY0FBZXFILEVBQWdCLGFBQWFDLEVBQVcsT0FJakQsR0FBZlYsRUFFUlEsRUFBUTFNLEtBRUpxRixvQkFBcUIsY0FBZXdILEVBQWMsYUFBYUMsRUFBUyxLQUN4RXhILFVBQWEsY0FBZXVILEVBQWMsYUFBYUMsRUFBUyxPQU1wRUosRUFBUTFNLEtBRUpxRixvQkFBcUIsY0FBZTBILEVBQWUsYUFBYUMsRUFBVSxLQUMxRTFILFVBQWEsY0FBZXlILEVBQWUsYUFBYUMsRUFBVSxVQVFsRjlQLEVBQVEsV0FFSkssRUFBTSxHQUFJZixJQUFNQyxFQUNoQndQLElBQ0FuTSxJQUdSNUMiLCJmaWxlIjoiY2FzZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbiggZnVuY3Rpb24oKSB7XG5cbiAgICAkKCBmdW5jdGlvbigpIHtcblxuICAgICAgICBuZXcgUHJlbG9hZGVyKCAkKCcucHJlbG9hZGVyJykgKTtcblxuICAgICAgICAkLmVhY2goICQoJy5zaXRlX19pbmRleC1wYWdlJyApLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBQYWdlKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnYm9keScpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBab29tU2l0ZSggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5zaXRlX19oZWFkZXInKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgTWVudSggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5tYWluLXNsaWRlcicpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBNYWluU2xpZGVyKCAkKHRoaXMpICk7XG4gICAgICAgICAgICBuZXcgTWFpblNsaWRlclBpY3R1cmVzKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLmV4cGVydGlzZV9faXRlbXMnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgRXhwZXJ0aXNlU2xpZGVyKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnJldmlld3MnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgUmV2aWV3c1NsaWRlciggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5jb250YWN0c19fbWFwJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IExvY2F0aW9uKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLmNhc2UgLm1haW4tc2xpZGVyX19idG4tZG93bicpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBTY3JvbGxEb3duKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG5cbiAgICB9ICk7XG5cbiAgICB2YXIgUHJlbG9hZGVyID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfcHJlbG9hZGVyID0gb2JqLFxuICAgICAgICAgICAgX2JvZHkgPSAkKCdib2R5Jyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93U2l0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9ib2R5WzBdLnByZWxvYWRlciA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaG93U2l0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3ByZWxvYWRlci5hZGRDbGFzcyggJ3ByZWxvYWRlcl9sb2FkZWQnICk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIF9wcmVsb2FkZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zaXRlJykuYWRkQ2xhc3MoICdzaXRlX19sb2FkZWQnICk7XG5cbiAgICAgICAgICAgICAgICB9LDUwMCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgUGFnZSA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX2RvbSA9ICQoICdodG1sLCBib2R5JyApLFxuICAgICAgICAgICAgX3N3aXBlckluaXQgPSBmYWxzZSxcbiAgICAgICAgICAgIF9zd2lwZXIsXG4gICAgICAgICAgICBfc2xpZGVDb250ZW50ID0gX29iai5maW5kKCcuc2xpZGVfX2NvbnRlbnQnKSxcbiAgICAgICAgICAgIF9tYWluU2xpZGVyID0gJCgnLm1haW4tc2xpZGVyJyksXG4gICAgICAgICAgICBfYnRuRG93biA9IF9tYWluU2xpZGVyLmZpbmQoJy5tYWluLXNsaWRlcl9fYnRuLWRvd24nKTtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhX3N3aXBlckluaXQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRGdWxsUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2VudGVyQ29udGVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3dpcGVySW5pdCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhX3N3aXBlckluaXQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRGdWxsUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3dpcGVySW5pdCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2VudGVyQ29udGVudCgpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3N3aXBlckluaXQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Rlc3Ryb3lGdWxsUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3dpcGVySW5pdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9idG5Eb3duLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coMzAwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggJCggdGhpcyApLnBhcmVudHMoICcuY2FzZScgKS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RvbS5zdG9wKCB0cnVlLCBmYWxzZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9tLmFuaW1hdGUoIHsgc2Nyb2xsVG9wOiBfbWFpblNsaWRlci5pbm5lckhlaWdodCgpIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5mbi5mdWxscGFnZS5tb3ZlVG8oMik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9tLnN0b3AoIHRydWUsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RvbS5hbmltYXRlKCB7IHNjcm9sbFRvcDogX21haW5TbGlkZXIuaW5uZXJIZWlnaHQoKSB9LCAzMDAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdEZ1bGxQYWdlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAkKCcjZnVsbHBhZ2UnKS5mdWxscGFnZSgge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbE92ZXJmbG93OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uU2VsZWN0b3I6ICcuc2xpZGVfX2NvbnRlbnQnLFxuICAgICAgICAgICAgICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiggYW5jaG9yTGluaywgaW5kZXgsIHNsaWRlSW5kZXgsIGRpcmVjdGlvbiwgbmV4dFNsaWRlSW5kZXggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpbmRleCA+IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcubG9nb19pbmRleCcpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcubW92ZScpLmFkZENsYXNzKCdtb3Zlc191cCBhbmltYXRlZF9tb3ZlcycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmxvZ29faW5kZXgnKS5zaG93KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm1vdmUnKS5yZW1vdmVDbGFzcygnbW92ZXNfdXAnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5tb3ZlJykucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkX21vdmVzJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA4MDAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJsb2NrID0gJCgnLnNsaWRlX19jb250ZW50JykuZXEoIGluZGV4LTEpLmZpbmQoJy5zbGlkZV9fY29udGVudC1pbm5lcj5kaXY+ZGl2Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBibG9jay5oYXNDbGFzcygncmV2aWV3cycpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suZmluZCgnLnJldmlld3NfX2l0ZW0nKS5hZGRDbGFzcygnYW5pbWF0aW9uJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfZGVzdHJveUZ1bGxQYWdlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLmRlc3Ryb3koJ2FsbCcpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NlbnRlckNvbnRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvL19zbGlkZUNvbnRlbnQuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICB2YXIgY3VyQ29udGVudCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIGN1ckNvbnRlbnRJbm5lciA9IGN1ckNvbnRlbnQuZmluZCgnLnNsaWRlX19jb250ZW50LWlubmVyJyk7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICBjdXJDb250ZW50SW5uZXIuY3NzKCB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICdtaW4taGVpZ2h0JzogX3dpbmRvdy5oZWlnaHQoKVxuICAgICAgICAgICAgICAgIC8vICAgIH0gKTtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgIGlmKCBjdXJDb250ZW50SW5uZXIuZmluZCgnPmRpdicpLmhlaWdodCgpIDwgX3dpbmRvdy5oZWlnaHQoKSApIHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgICAgICBpZiggY3VyQ29udGVudC5maW5kKCcuY29udGFjdHMnKS5sZW5ndGggKSB7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIGlmKCBjdXJDb250ZW50LmZpbmQoJy5jb250YWN0c19fbWFwJykuaGVpZ2h0KCkgPCBjdXJDb250ZW50SW5uZXIuZmluZCgnPmRpdicpLmhlaWdodCgpICkge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgY3VyQ29udGVudElubmVyLmFkZENsYXNzKCdjZW50ZXJlZCcpO1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgY3VyQ29udGVudElubmVyLnJlbW92ZUNsYXNzKCdjZW50ZXJlZCcpO1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICBjdXJDb250ZW50SW5uZXIuYWRkQ2xhc3MoJ2NlbnRlcmVkJyk7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgICAgICBjdXJDb250ZW50SW5uZXIucmVtb3ZlQ2xhc3MoJ2NlbnRlcmVkJyk7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL30gKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuXG5cblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgWm9vbVNpdGUgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX21haW5TbGlkZXIgPSAkKCcubWFpbi1zbGlkZXInKSxcbiAgICAgICAgICAgIF9jYXNlSGVybyA9ICQoJy5jYXNlX19oZXJvJyksXG4gICAgICAgICAgICBfYm9keSA9ICQoICdib2R5JyApO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gNzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldFNpemUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9ib2R5LmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZm9udC1zaXplJzogJzc1cHgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX21haW5TbGlkZXIuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdmb250LXNpemUnOiAnNzVweCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2FzZUhlcm8uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdmb250LXNpemUnOiAnNzVweCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSA3NjggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX3NldFNpemUoKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBuZXdTaXplO1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cuaGVpZ2h0KCkgPiA1MDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbmV3U2l6ZSA9ICgoIDEwMCAqICggd2luZG93LmlubmVySGVpZ2h0IC8gOTAwICkgKSkgKyAncHgnO1xuXG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIG5ld1NpemUgPSAoKCAxMDAgKiAoIDUwMCAvIDkwMCApICkpICsgJ3B4JztcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9ib2R5LmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnZm9udC1zaXplJzogbmV3U2l6ZVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9tYWluU2xpZGVyLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnZm9udC1zaXplJzogbmV3U2l6ZVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9jYXNlSGVyby5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6IG5ld1NpemVcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgTWVudSA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cpLFxuICAgICAgICAgICAgX21lbnVCdG4gPSBfb2JqLmZpbmQoJy5zaXRlX19oZWFkZXJfX2J0bicpLFxuICAgICAgICAgICAgX21lbnVJdGVtcyA9IF9vYmouZmluZCgnLnNpdGVfX2hlYWRlci1tZW51JyksXG4gICAgICAgICAgICBfaHRtbCA9ICQoJ2h0bWwnKSxcbiAgICAgICAgICAgIF9ib2R5ID0gJCgnYm9keScpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfY2xvc2VNZW51ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgIF9ib2R5LmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX21lbnVJdGVtcy5hdHRyKCAnc3R5bGUnLCAnJyApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGw6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cuc2Nyb2xsVG9wKCkgPiAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcygnZml4ZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoJ2ZpeGVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX21lbnVCdG4ub24oIHtcblxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX29iai5oYXNDbGFzcyggJ29wZW5lZCcgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZU1lbnUoKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5NZW51KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vcGVuTWVudSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ29wZW5lZCcgKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9odG1sLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgIF9ib2R5LmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LnNjcm9sbFRvcCgpID4gX29iai5pbm5lckhlaWdodCgpLzIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcygnZml4ZWQnKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcygnZml4ZWQnKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBNYWluU2xpZGVyID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfaGVhZGVyID0gJCggJy5zaXRlX19oZWFkZXInKSxcbiAgICAgICAgICAgIF9zdGVwMSA9IDE1LFxuICAgICAgICAgICAgX3N0ZXAyID0gMTAsXG4gICAgICAgICAgICBfc3RlcDMgPSA1LFxuICAgICAgICAgICAgX3N0ZXA0ID0gMjAsXG4gICAgICAgICAgICBfc3RlcDUgPSAyNSxcbiAgICAgICAgICAgIF9zd2lwZXIxLFxuICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gMDtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFxuICAgICAgICAgICAgICAgICAgICAnbW91c2Vtb3ZlJyxcbiAgICAgICAgICAgICAgICAgICAgJy5tYWluLXNsaWRlciAuc3dpcGVyLXNsaWRlJyxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oIGUgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNsaWRlID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW1nMSA9IHNsaWRlLmZpbmQoJy5tb3ZlMScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbWcyID0gc2xpZGUuZmluZCgnLm1vdmUyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ltZzMgPSBzbGlkZS5maW5kKCcubW92ZTMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW1nNCA9IHNsaWRlLmZpbmQoJy5tb3ZlNCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbWc1ID0gc2xpZGUuZmluZCgnLm1vdmU1Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggX3dpbmRvdy53aWR0aCgpID4gMTAyNCAmJiAhKCBfaGVhZGVyLmhhc0NsYXNzKCdvcGVuZWQnKSApICYmICEoICQoZG9jdW1lbnQpLmZpbmQoJy5tb3ZlJykuaGFzQ2xhc3MoJ2FuaW1hdGVkX21vdmVzJykgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYWdlWCA9IGUuY2xpZW50WCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVkgPSBlLmNsaWVudFksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbGZXaWR0aCA9IF9vYmoud2lkdGgoKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbGZIZWlnaHQgPSBfb2JqLmhlaWdodCgpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudEZyb21DZW50ZXJYID0gKCBwYWdlWCAtIGhhbGZXaWR0aCApIC8gaGFsZldpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50RnJvbUNlbnRlclkgPSAoIHBhZ2VZIC0gaGFsZkhlaWdodCApIC8gaGFsZkhlaWdodDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfd2luZG93Lm91dGVyV2lkdGgoKSA+IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZUJvdHRvbShwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXAxLF9pbWcxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVCb3R0b20ocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwMSwgJChkb2N1bWVudCkuZmluZCgnLmNvcHlfMScpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVUb3AocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwMixfaW1nMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlVG9wKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDIsICQoZG9jdW1lbnQpLmZpbmQoJy5jb3B5XzInKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlVG9wKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDMsX2ltZzMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZVRvcChwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXAzLCAkKGRvY3VtZW50KS5maW5kKCcuY29weV8zJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZUJvdHRvbShwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXA0LF9pbWc0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVCb3R0b20ocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwNCwgJChkb2N1bWVudCkuZmluZCgnLmNvcHlfNCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVCb3R0b20ocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwNSxfaW1nNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlQm90dG9tKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDUsICQoZG9jdW1lbnQpLmZpbmQoJy5jb3B5XzUnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRTd2lwZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfZ2xvYmFsV2lkdGggIT0gX3dpbmRvdy53aWR0aCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpKzE7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgJiYgc2NyZWVuLndpZHRoID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8kKCcubW92ZScpLmF0dHIoJ3N0eWxlJywgJycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfb2JqLmhhc0NsYXNzKCdtYWluLXNsaWRlcl9pbmRleCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRTZWN0aW9uID0gX29iai5wYXJlbnRzKCcuc2xpZGVfX2NvbnRlbnQnKS5uZXh0KCkuZmluZCgnLnNsaWRlX19jb250ZW50LWlubmVyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IF9vYmouZmluZCgnLnN3aXBlci1zbGlkZS1hY3RpdmUnKS5pbm5lckhlaWdodCgpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5zd2lwZXItc2xpZGUtYWN0aXZlIC5tb3ZlJykuZWFjaChmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmVnZXRhYmxlID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSB2ZWdldGFibGUucG9zaXRpb24oKS50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0VmVnID0gdmVnZXRhYmxlLmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggcG9zICsgaGVpZ2h0VmVnID4gaGVpZ2h0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bSA9IHZlZ2V0YWJsZS5hdHRyKCdjbGFzcycpLnJlcGxhY2UoIC8oXi4rXFxEKShcXGQrKShcXEQuKyQpL2ksJyQyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmYgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQoJy5jb3B5X21vdmUuY29weV8nK251bSsnJykubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRJbWcgPSAgJCgnLmNvcHlfbW92ZS5jb3B5XycrbnVtKycnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggJCgnLnNsaWRlX19jb250ZW50JykuaW5uZXJIZWlnaHQoKSA8ICQoJy5tYWluLXNsaWRlcicpLmlubmVySGVpZ2h0KCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmYgPSAkKCcubWFpbi1zbGlkZXInKS5pbm5lckhlaWdodCgpLSQoJy5zbGlkZV9fY29udGVudCcpLmlubmVySGVpZ2h0KClcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkSW1nLm9mZnNldCgge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB2ZWdldGFibGUub2Zmc2V0KCkudG9wLWRpZmYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB2ZWdldGFibGUub2Zmc2V0KCkubGVmdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkSW1nLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHZlZ2V0YWJsZS53aWR0aCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB2ZWdldGFibGUuaGVpZ2h0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3SW1nID0gdmVnZXRhYmxlLmNsb25lKHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0ltZy5hZGRDbGFzcygnY29weV9tb3ZlIGNvcHlfJytudW0rJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0U2VjdGlvbi5wcmVwZW5kKG5ld0ltZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQoJy5zbGlkZV9fY29udGVudCcpLmlubmVySGVpZ2h0KCkgPCAkKCcubWFpbi1zbGlkZXInKS5pbm5lckhlaWdodCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmID0gJCgnLm1haW4tc2xpZGVyJykuaW5uZXJIZWlnaHQoKS0kKCcuc2xpZGVfX2NvbnRlbnQnKS5pbm5lckhlaWdodCgpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0ltZy5vZmZzZXQoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdmVnZXRhYmxlLm9mZnNldCgpLnRvcC1kaWZmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogdmVnZXRhYmxlLm9mZnNldCgpLmxlZnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0ltZy5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB2ZWdldGFibGUud2lkdGgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdmVnZXRhYmxlLmhlaWdodCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bSA9IHZlZ2V0YWJsZS5hdHRyKCdjbGFzcycpLnJlcGxhY2UoIC8oXi4rXFxEKShcXGQrKShcXEQuKyQpL2ksJyQyJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuY29weV9tb3ZlLmNvcHlfJytudW0rJycpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIiwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBzY3JlZW4ud2lkdGggPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwICk7XG5cblxuICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0U3dpcGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc3dpcGVyMSA9IG5ldyBTd2lwZXIoIF9vYmouZmluZCggJy5zd2lwZXItY29udGFpbmVyJyApLCB7XG4gICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDcwMCxcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiAnZmFkZScsXG4gICAgICAgICAgICAgICAgICAgIGZhZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzRmFkZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX29iai5maW5kKCcuc3dpcGVyLWJ1dHRvbi1uZXh0JylbMF0sXG4gICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246IF9vYmouZmluZCgnLnN3aXBlci1idXR0b24tcHJldicpWzBdLFxuICAgICAgICAgICAgICAgICAgICBvbkluaXQ6IGZ1bmN0aW9uKCBzd2lwZXIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3RTbGlkZSA9IHN3aXBlci5zbGlkZXMuZmlsdGVyKCcuc3dpcGVyLXNsaWRlLWFjdGl2ZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb25JbmRleCA9IGFjdFNsaWRlLnBhcmVudHMoJy5zbGlkZV9fY29udGVudCcpLmluZGV4KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFNlY3Rpb24gPSAkKCcuc2xpZGVfX2NvbnRlbnQnKS5lcShzZWN0aW9uSW5kZXgrMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfb2JqLmhhc0NsYXNzKCdtYWluLXNsaWRlcl9pbmRleCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IGFjdFNsaWRlLmlubmVySGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RTbGlkZS5maW5kKCcubW92ZScpLmVhY2goZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmVnZXRhYmxlID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IHZlZ2V0YWJsZS5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodFZlZyA9IHZlZ2V0YWJsZS5oZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggcG9zICsgaGVpZ2h0VmVnID4gaGVpZ2h0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtID0gdmVnZXRhYmxlLmF0dHIoJ2NsYXNzJykucmVwbGFjZSggLyheLitcXEQpKFxcZCspKFxcRC4rJCkvaSwnJDInKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0ltZyA9IHZlZ2V0YWJsZS5jbG9uZSh0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW1nLmFkZENsYXNzKCdjb3B5X21vdmUgY29weV8nK251bSsnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0U2VjdGlvbi5wcmVwZW5kKG5ld0ltZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKCcuc2xpZGVfX2NvbnRlbnQnKS5pbm5lckhlaWdodCgpIDwgJCgnLm1haW4tc2xpZGVyJykuaW5uZXJIZWlnaHQoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmYgPSAkKCcubWFpbi1zbGlkZXInKS5pbm5lckhlaWdodCgpLSQoJy5zbGlkZV9fY29udGVudCcpLmlubmVySGVpZ2h0KClcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbWcub2Zmc2V0KCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB2ZWdldGFibGUub2Zmc2V0KCkudG9wLWRpZmYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogdmVnZXRhYmxlLm9mZnNldCgpLmxlZnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW1nLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHZlZ2V0YWJsZS53aWR0aCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdmVnZXRhYmxlLmhlaWdodCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvblNsaWRlQ2hhbmdlU3RhcnQ6IGZ1bmN0aW9uKCBzd2lwZXIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3RTbGlkZSA9IHN3aXBlci5zbGlkZXMuZmlsdGVyKCcuc3dpcGVyLXNsaWRlLWFjdGl2ZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb25JbmRleCA9IGFjdFNsaWRlLnBhcmVudHMoJy5zbGlkZV9fY29udGVudCcpLmluZGV4KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFNlY3Rpb24gPSAkKCcuc2xpZGVfX2NvbnRlbnQnKS5lcShzZWN0aW9uSW5kZXgrMSkuZmluZCgnLnNsaWRlX19jb250ZW50LWlubmVyJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jb3B5X21vdmUnKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvblNsaWRlQ2hhbmdlRW5kOiBmdW5jdGlvbiggc3dpcGVyICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0U2xpZGUgPSBzd2lwZXIuc2xpZGVzLmZpbHRlcignLnN3aXBlci1zbGlkZS1hY3RpdmUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uSW5kZXggPSBhY3RTbGlkZS5wYXJlbnRzKCcuc2xpZGVfX2NvbnRlbnQnKS5pbmRleCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRTZWN0aW9uID0gJCgnLnNsaWRlX19jb250ZW50JykuZXEoc2VjdGlvbkluZGV4KzEpLmZpbmQoJy5zbGlkZV9fY29udGVudC1pbm5lcicpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfb2JqLmhhc0NsYXNzKCdtYWluLXNsaWRlcl9pbmRleCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IGFjdFNsaWRlLmlubmVySGVpZ2h0KCk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdFNsaWRlLmZpbmQoJy5tb3ZlJykuZWFjaChmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2ZWdldGFibGUgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gdmVnZXRhYmxlLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0VmVnID0gdmVnZXRhYmxlLmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwb3MgKyBoZWlnaHRWZWcgPiBoZWlnaHQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW0gPSB2ZWdldGFibGUuYXR0cignY2xhc3MnKS5yZXBsYWNlKCAvKF4uK1xcRCkoXFxkKykoXFxELiskKS9pLCckMicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmYgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3SW1nID0gdmVnZXRhYmxlLmNsb25lKHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbWcuYWRkQ2xhc3MoJ2NvcHlfbW92ZSBjb3B5XycrbnVtKycnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRTZWN0aW9uLnByZXBlbmQobmV3SW1nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQoJy5zbGlkZV9fY29udGVudCcpLmlubmVySGVpZ2h0KCkgPCAkKCcubWFpbi1zbGlkZXInKS5pbm5lckhlaWdodCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9ICQoJy5tYWluLXNsaWRlcicpLmlubmVySGVpZ2h0KCktJCgnLnNsaWRlX19jb250ZW50JykuaW5uZXJIZWlnaHQoKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0ltZy5vZmZzZXQoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHZlZ2V0YWJsZS5vZmZzZXQoKS50b3AtZGlmZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB2ZWdldGFibGUub2Zmc2V0KCkubGVmdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbWcuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdmVnZXRhYmxlLndpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB2ZWdldGFibGUuaGVpZ2h0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9tb3ZlQm90dG9tID0gZnVuY3Rpb24oIHhQZXJjZW50LCB5UGVyY2VudCwgc3RlcCwgaW1hZ2UgKSB7XG5cbiAgICAgICAgICAgICAgICBpbWFnZS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggJyArIC0oIHhQZXJjZW50ICogc3RlcCApICsgJ3B4LCcgKyAtKCB5UGVyY2VudCAqIHN0ZXAgKSArICdweCApJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoICcgKyAtKCB4UGVyY2VudCAqIHN0ZXAgKSArICdweCwgJyArIC0oIHlQZXJjZW50ICogc3RlcCApICsgJ3B4ICApJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9tb3ZlVG9wID0gZnVuY3Rpb24oIHhQZXJjZW50LCB5UGVyY2VudCwgc3RlcCwgaW1hZ2UgKSB7XG5cbiAgICAgICAgICAgICAgICBpbWFnZS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggJyArICggeFBlcmNlbnQgKiBzdGVwICkgKyAncHggLCcgKyAoIHlQZXJjZW50ICogc3RlcCApICsgJ3B4ICApJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoICcgKyAoIHhQZXJjZW50ICogc3RlcCApICsgJ3B4ICwgJyArICggeVBlcmNlbnQgKiBzdGVwICkgKyAncHggICknXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IF93aW5kb3cuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIF9vYmoucGFyZW50cygnLmNhc2UnKS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0ICsgaGVpZ2h0LzVcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG5cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG5cblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgRXhwZXJ0aXNlU2xpZGVyID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfc3dpcGVySW5pdCA9IGZhbHNlLFxuICAgICAgICAgICAgX3N3aXBlcjtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDc2OCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhX3N3aXBlckluaXQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRTd2lwZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N3aXBlckluaXQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3N3aXBlckluaXQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Rlc3Ryb3lTd2lwZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N3aXBlckluaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXRTd2lwZXIgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9zd2lwZXIgPSBuZXcgU3dpcGVyKCBfb2JqLmZpbmQoICcuc3dpcGVyLWNvbnRhaW5lcicgKSwge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLjksXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2Rlc3Ryb3lTd2lwZXIgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9zd2lwZXIuZGVzdHJveSggdHJ1ZSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDc2OCApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggIV9zd2lwZXJJbml0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfaW5pdFN3aXBlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3N3aXBlckluaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFNjcm9sbERvd24gPSBmdW5jdGlvbiAoIG9iaiApIHtcblxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9zY3JvbGxlciA9ICQoICdodG1sLCBib2R5JyApLFxuICAgICAgICAgICAgX21haW5TbGlkZXJQaWMgPSAkKCcubWFpbi1zbGlkZXJfX2lubmVyLXBpYycpO1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKDMwMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zY3JvbGxlci5hbmltYXRlKCB7IHNjcm9sbFRvcDogX21haW5TbGlkZXJQaWMuaW5uZXJIZWlnaHQoKSB9LCAzMDAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFJldmlld3NTbGlkZXIgPSBmdW5jdGlvbiAoIG9iaiApIHtcblxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcbiAgICAgICAgICAgIF9zd2lwZXI7XG5cbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cblxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdFN3aXBlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3N3aXBlciA9IG5ldyBTd2lwZXIoIF9vYmouZmluZCggJy5zd2lwZXItY29udGFpbmVyJyApLCB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMzAsXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiA1MDAsXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdDogJ2ZhZGUnLFxuICAgICAgICAgICAgICAgICAgICBmYWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcm9zc0ZhZGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXlEaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG5leHRCdXR0b246IF9vYmouZmluZCgnLnN3aXBlci1idXR0b24tbmV4dCcpWzBdLFxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfb2JqLmZpbmQoJy5zd2lwZXItYnV0dG9uLXByZXYnKVswXVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX2luaXRTd2lwZXIoKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgTG9jYXRpb24gPSBmdW5jdGlvbiAoIG9iaiApIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9tYXAgPSBfb2JqLmZpbmQoJyNjb250YWN0LWdvb2dsZS1tYXAnKSxcbiAgICAgICAgICAgIF9tYXBMYXQgPSBfbWFwLmRhdGEoJ21hcC1sYXQnKSxcbiAgICAgICAgICAgIF9tYXBMbmcgPSBfbWFwLmRhdGEoJ21hcC1sbmcnKSxcbiAgICAgICAgICAgIF9tYXBab29tID0gX21hcC5kYXRhKCdtYXAtem9vbScpLFxuICAgICAgICAgICAgX2J0biA9ICQoJy5jb250YWN0c19fY2l0aWVzIC5idG4nKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcbiAgICAgICAgICAgIG1hcCxcbiAgICAgICAgICAgIG1hcmtlcjtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cblxuXG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIoIHdpbmRvdywgJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggX2J0bi5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBteUxhdExuZyA9IHtsYXQ6IF9idG4uZmlsdGVyKCcuYWN0aXZlJykuZGF0YSgnbWFwLWxhdCcpLCBsbmc6IF9idG4uZmlsdGVyKCcuYWN0aXZlJykuZGF0YSgnbWFwLWxuZycpfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnNldENlbnRlciggbXlMYXRMbmcgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX29mZnNldENlbnRlciggbWFwLmdldENlbnRlcigpLCAwLCA1MCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9idG4ub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggIShjdXJJdGVtLmhhc0NsYXNzKCdhY3RpdmUnKSkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYnRuLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBteUxhdExuZyA9IHtsYXQ6ICQodGhpcykuZGF0YSgnbWFwLWxhdCcpLCBsbmc6ICQodGhpcykuZGF0YSgnbWFwLWxuZycpfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXIuc2V0UG9zaXRpb24obXlMYXRMbmcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIobWFwLCAncmVzaXplJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5zZXRDZW50ZXIobXlMYXRMbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2Zmc2V0Q2VudGVyKCBtYXAuZ2V0Q2VudGVyKCksIDAsIDUwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vZmZzZXRDZW50ZXIgPSBmdW5jdGlvbiAoIGxhdGxuZywgb2Zmc2V0eCwgb2Zmc2V0eSApIHtcblxuICAgICAgICAgICAgICAgIHZhciBzY2FsZSA9IE1hdGgucG93KCAyLCBtYXAuZ2V0Wm9vbSgpICksXG4gICAgICAgICAgICAgICAgICAgIHdvcmxkQ29vcmRpbmF0ZUNlbnRlciA9IG1hcC5nZXRQcm9qZWN0aW9uKCkuZnJvbUxhdExuZ1RvUG9pbnQoIGxhdGxuZyApLFxuICAgICAgICAgICAgICAgICAgICBwaXhlbE9mZnNldCA9IG5ldyBnb29nbGUubWFwcy5Qb2ludCggKCBvZmZzZXR4L3NjYWxlICkgfHwgMCwgKCBvZmZzZXR5L3NjYWxlICkgfHwgMCApLFxuICAgICAgICAgICAgICAgICAgICB3b3JsZENvb3JkaW5hdGVOZXdDZW50ZXIgPSBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQoXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29vcmRpbmF0ZUNlbnRlci54IC0gcGl4ZWxPZmZzZXQueCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29vcmRpbmF0ZUNlbnRlci55ICsgcGl4ZWxPZmZzZXQueVxuXG4gICAgICAgICAgICAgICAgICAgICksXG5cbiAgICAgICAgICAgICAgICAgICAgbmV3Q2VudGVyID0gbWFwLmdldFByb2plY3Rpb24oKS5mcm9tUG9pbnRUb0xhdExuZyggd29ybGRDb29yZGluYXRlTmV3Q2VudGVyICk7XG5cbiAgICAgICAgICAgICAgICBtYXAuc2V0Q2VudGVyKCBuZXdDZW50ZXIgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0TWFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXN0b21NYXBUeXBlID0gbmV3IGdvb2dsZS5tYXBzLlN0eWxlZE1hcFR5cGUoW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJodWVcIjogXCIjYjAwMDQwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzYXR1cmF0aW9uXCI6IDYwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlnaHRuZXNzXCI6IC00MFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImxhYmVscy50ZXh0LmZpbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiI2ZmNmZhNFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwid2F0ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiI0I2MTUzMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwicm9hZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjQjYxNTMwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmxvY2FsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiNCNjE1MzBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImxpZ2h0bmVzc1wiOiA2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5oaWdod2F5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiNCNjE1MzBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImxpZ2h0bmVzc1wiOiAtMjVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmFydGVyaWFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiNCNjE1MzBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImxpZ2h0bmVzc1wiOiAtMTBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJ0cmFuc2l0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiNCNjE1MzBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImxpZ2h0bmVzc1wiOiA3MFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInRyYW5zaXQubGluZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjQjYxNTMwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsaWdodG5lc3NcIjogOTBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJhZG1pbmlzdHJhdGl2ZS5jb3VudHJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ2aXNpYmlsaXR5XCI6IFwib2ZmXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJ0cmFuc2l0LnN0YXRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHMudGV4dC5zdHJva2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInZpc2liaWxpdHlcIjogXCJvZmZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInRyYW5zaXQuc3RhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImxhYmVscy50ZXh0LmZpbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiI2ZmNmZhNFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQ3VzdG9tIFN0eWxlJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBjdXN0b21NYXBUeXBlSWQgPSAnY3VzdG9tX3N0eWxlJztcblxuICAgICAgICAgICAgICAgIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoIF9tYXBbMF0sIHtcbiAgICAgICAgICAgICAgICAgICAgem9vbTogX21hcFpvb20sXG4gICAgICAgICAgICAgICAgICAgIHpvb21Db250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWFwVHlwZUNvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZUNvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzdHJlZXRWaWV3Q29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0ZUNvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IHtsYXQ6IF9tYXBMYXQsIGxuZzogX21hcExuZ30sXG4gICAgICAgICAgICAgICAgICAgIG1hcFR5cGVDb250cm9sT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwVHlwZUlkczogW2dvb2dsZS5tYXBzLk1hcFR5cGVJZC5ST0FETUFQLCBjdXN0b21NYXBUeXBlSWRdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjoge2xhdDogX21hcExhdCwgbG5nOiBfbWFwTG5nfSxcbiAgICAgICAgICAgICAgICAgICAgbWFwOiBtYXBcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIG1hcC5tYXBUeXBlcy5zZXQoY3VzdG9tTWFwVHlwZUlkLCBjdXN0b21NYXBUeXBlKTtcbiAgICAgICAgICAgICAgICBtYXAuc2V0TWFwVHlwZUlkKGN1c3RvbU1hcFR5cGVJZCk7XG5cbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lck9uY2UobWFwLCAnaWRsZScsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggX2J0bi5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBteUxhdExuZyA9IHtsYXQ6IF9idG4uZmlsdGVyKCcuYWN0aXZlJykuZGF0YSgnbWFwLWxhdCcpLCBsbmc6IF9idG4uZmlsdGVyKCcuYWN0aXZlJykuZGF0YSgnbWFwLWxuZycpfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnNldENlbnRlciggbXlMYXRMbmcgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX29mZnNldENlbnRlciggbWFwLmdldENlbnRlcigpLCAwLCA1MCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIod2luZG93LCAnbG9hZCcsIF9pbml0TWFwKTtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRIZWlnaHQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gJCgnLmNvbnRhY3RzX19pbmZvJyk7XG5cbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDc2OCApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggY29udGVudC5pbm5lckhlaWdodCgpID4gY29udGVudC5pbm5lcldpZHRoKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouaGVpZ2h0KCBjb250ZW50LmlubmVySGVpZ2h0KCkrKGNvbnRlbnQuaW5uZXJIZWlnaHQoKSowLjI1KSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX29iai53aWR0aCggY29udGVudC5pbm5lckhlaWdodCgpKyhjb250ZW50LmlubmVySGVpZ2h0KCkqMC4yNSkgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouaGVpZ2h0KCBjb250ZW50LmlubmVyV2lkdGgoKSsoY29udGVudC5pbm5lcldpZHRoKCkqMC4yNSkgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoud2lkdGgoIGNvbnRlbnQuaW5uZXJXaWR0aCgpKyhjb250ZW50LmlubmVyV2lkdGgoKSowLjI1KSApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGNvbnRlbnQucGFyZW50cygnLmNvbnRhY3RzJykuaGFzQ2xhc3MoJ2NvbnRhY3RzXzInKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGNvbnRlbnQuaW5uZXJIZWlnaHQoKSA+IGNvbnRlbnQuaW5uZXJXaWR0aCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5oZWlnaHQoIGNvbnRlbnQuaW5uZXJIZWlnaHQoKSsoY29udGVudC5pbm5lckhlaWdodCgpKjAuNikgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLndpZHRoKCBjb250ZW50LmlubmVySGVpZ2h0KCkrKGNvbnRlbnQuaW5uZXJIZWlnaHQoKSowLjYpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouaGVpZ2h0KCBjb250ZW50LmlubmVyV2lkdGgoKSsoY29udGVudC5pbm5lcldpZHRoKCkqMC42KSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoud2lkdGgoIGNvbnRlbnQuaW5uZXJXaWR0aCgpKyhjb250ZW50LmlubmVyV2lkdGgoKSowLjYpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG5cblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5hdHRyKCdzdHlsZScsJycpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIE1haW5TbGlkZXJQaWN0dXJlcyA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3NsaWRlID0gX29iai5maW5kKCcuc3dpcGVyLXNsaWRlJyksXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRQaWN0dXJlcygpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYWRkUGljdHVyZXMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9zbGlkZS5maW5kKCcubW92ZScpLmVhY2goZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVmlldyA9IGN1ckl0ZW0uZGF0YSgndmlld3MnKTtcblxuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBkYXRhVmlldyAhPSB1bmRlZmluZWQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGkgPSAwOyBpIDwgZGF0YVZpZXcubGVuZ3RoOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmVlZFZpZXc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmVlZFZpZXcgPSBkYXRhVmlld1syXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCAmJiBfd2luZG93LndpZHRoKCkgPj03NjggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmVlZFZpZXcgPSBkYXRhVmlld1sxXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggX3dpbmRvdy53aWR0aCgpIDwgNzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRWaWV3ID0gZGF0YVZpZXdbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIG5lZWRWaWV3LnVybC5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1pbWFnZSc6ICd1cmwoXCInKyBuZWVkVmlldy51cmwgKydcIiknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gbmVlZFZpZXcucG9zaXRpb25zKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmNzcygga2V5LCBuZWVkVmlldy5wb3NpdGlvbnNba2V5XS8xMDAgKyAnZW0nICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfYWRkUGljdHVyZXMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuKCBmdW5jdGlvbigpIHtcblxuICAgICQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICQuZWFjaCggJCgnLmNhc2VfX2hlcm8tYnRuLWRvd24nKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgU2Nyb2xsRG93biggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5jYXNlX19oZXJvJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IENhc2VIZXJvKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLmZlYXR1cmVkLXByb2R1Y3RzX19pdGVtcycpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBGZWF0dXJlZFByb2R1Y3RzU2xpZGVyKCAkKHRoaXMpICk7XG4gICAgICAgICAgICBuZXcgU2xpZGVyRm9ybWF0cyggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuXG4gICAgfSApO1xuXG4gICAgdmFyIENhc2VIZXJvID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfaGVhZGVyID0gJCggJy5zaXRlX19oZWFkZXInKSxcbiAgICAgICAgICAgIF9zdGVwMSA9IDE1LFxuICAgICAgICAgICAgX3N0ZXAyID0gMTAsXG4gICAgICAgICAgICBfc3RlcDMgPSA1LFxuICAgICAgICAgICAgX3N0ZXA0ID0gMjAsXG4gICAgICAgICAgICBfc3RlcDUgPSAyNSxcbiAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IDA7XG5cbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIG1vdXNlbW92ZTogZnVuY3Rpb24gKCBlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzbGlkZSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ltZzEgPSBzbGlkZS5maW5kKCcubW92ZTEnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW1nMiA9IHNsaWRlLmZpbmQoJy5tb3ZlMicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbWczID0gc2xpZGUuZmluZCgnLm1vdmUzJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ltZzQgPSBzbGlkZS5maW5kKCcubW92ZTQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW1nNSA9IHNsaWRlLmZpbmQoJy5tb3ZlNScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIF93aW5kb3cud2lkdGgoKSA+IDEwMjQgJiYgISggX2hlYWRlci5oYXNDbGFzcygnb3BlbmVkJykgKSAmJiAhKCAkKGRvY3VtZW50KS5maW5kKCcubW92ZScpLmhhc0NsYXNzKCdhbmltYXRlZF9tb3ZlcycpICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFnZVggPSBlLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VZID0gZS5jbGllbnRZLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYWxmV2lkdGggPSBfb2JqLndpZHRoKCkgLyAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYWxmSGVpZ2h0ID0gX29iai5oZWlnaHQoKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRGcm9tQ2VudGVyWCA9ICggcGFnZVggLSBoYWxmV2lkdGggKSAvIGhhbGZXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudEZyb21DZW50ZXJZID0gKCBwYWdlWSAtIGhhbGZIZWlnaHQgKSAvIGhhbGZIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3dpbmRvdy5vdXRlcldpZHRoKCkgPiAxMDI0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVCb3R0b20ocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwMSxfaW1nMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlQm90dG9tKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDEsICQoZG9jdW1lbnQpLmZpbmQoJy5jb3B5XzEnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlVG9wKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDIsX2ltZzIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZVRvcChwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXAyLCAkKGRvY3VtZW50KS5maW5kKCcuY29weV8yJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZVRvcChwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXAzLF9pbWczKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVUb3AocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwMywgJChkb2N1bWVudCkuZmluZCgnLmNvcHlfMycpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVCb3R0b20ocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwNCxfaW1nNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlQm90dG9tKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDQsICQoZG9jdW1lbnQpLmZpbmQoJy5jb3B5XzQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlQm90dG9tKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDUsX2ltZzUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZUJvdHRvbShwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXA1LCAkKGRvY3VtZW50KS5maW5kKCcuY29weV81JykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9nbG9iYWxXaWR0aCAhPSBfd2luZG93LndpZHRoKCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCkrMTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCAmJiBzY3JlZW4ud2lkdGggPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnBhcmVudHMoJy5jYXNlJykuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwYWRkaW5nLXRvcCc6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgX2FkZFBpY3R1cmVzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBfYW5pbWF0ZUVsZW1zKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIiwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBzY3JlZW4ud2lkdGggPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwICk7XG5cblxuICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hbmltYXRlRWxlbXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gX3dpbmRvdy5zY3JvbGxUb3AoKSxcbiAgICAgICAgICAgICAgICAgICAgb2JqSGVpZ2h0ID0gX29iai5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgZWxlbXMgPSAkKCcubW92ZScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBzY3JvbGxUb3AgPiBvYmpIZWlnaHQvMS41ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZW1zLmFkZENsYXNzKCdhbmltYXRlZF9tb3ZlcycpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtcy5hZGRDbGFzcygnbW92ZXNfdXAnKTtcblxuICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuXG4gICAgICAgICAgICAgICAgICAgICQoJy5jYXNlX19oZXJvLWJ0bi1kb3duJykudHJpZ2dlcignY2xpY2snKVxuXG4gICAgICAgICAgICAgICAgfWVsc2V7XG5cbiAgICAgICAgICAgICAgICAgICAgZWxlbXMucmVtb3ZlQ2xhc3MoJ21vdmVzX3VwJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1zLnJlbW92ZUNsYXNzKCdhbmltYXRlZF9tb3ZlcycpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sIDQwMClcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9tb3ZlQm90dG9tID0gZnVuY3Rpb24oIHhQZXJjZW50LCB5UGVyY2VudCwgc3RlcCwgaW1hZ2UgKSB7XG5cbiAgICAgICAgICAgICAgICBpbWFnZS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggJyArIC0oIHhQZXJjZW50ICogc3RlcCApICsgJ3B4LCcgKyAtKCB5UGVyY2VudCAqIHN0ZXAgKSArICdweCApJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoICcgKyAtKCB4UGVyY2VudCAqIHN0ZXAgKSArICdweCwgJyArIC0oIHlQZXJjZW50ICogc3RlcCApICsgJ3B4ICApJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9tb3ZlVG9wID0gZnVuY3Rpb24oIHhQZXJjZW50LCB5UGVyY2VudCwgc3RlcCwgaW1hZ2UgKSB7XG5cbiAgICAgICAgICAgICAgICBpbWFnZS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggJyArICggeFBlcmNlbnQgKiBzdGVwICkgKyAncHggLCcgKyAoIHlQZXJjZW50ICogc3RlcCApICsgJ3B4ICApJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoICcgKyAoIHhQZXJjZW50ICogc3RlcCApICsgJ3B4ICwgJyArICggeVBlcmNlbnQgKiBzdGVwICkgKyAncHggICknXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IF93aW5kb3cuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9vYmoucGFyZW50cygnLmNhc2UnKS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ3BhZGRpbmctdG9wJzogaGVpZ2h0ICsgMjBcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYWRkUGljdHVyZXMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLm1vdmUnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVZpZXcgPSBjdXJJdGVtLmRhdGEoJ3ZpZXdzJyk7XG5cblxuICAgICAgICAgICAgICAgICAgICBpZiggZGF0YVZpZXcgIT0gdW5kZWZpbmVkICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBpID0gMDsgaSA8IGRhdGFWaWV3Lmxlbmd0aDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5lZWRWaWV3O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRWaWV3ID0gZGF0YVZpZXdbMl07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgJiYgX3dpbmRvdy53aWR0aCgpID49NzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRWaWV3ID0gZGF0YVZpZXdbMV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF93aW5kb3cud2lkdGgoKSA8IDc2OCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZWVkVmlldyA9IGRhdGFWaWV3WzBdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBuZWVkVmlldy51cmwubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtaW1hZ2UnOiAndXJsKFwiJysgbmVlZFZpZXcudXJsICsnXCIpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG5lZWRWaWV3LnBvc2l0aW9ucykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5jc3MoIGtleSwgbmVlZFZpZXcucG9zaXRpb25zW2tleV0vMTAwICsgJ2VtJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9hZGRQaWN0dXJlcygpO1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBTY3JvbGxEb3duID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfc2Nyb2xsZXIgPSAkKCAnaHRtbCwgYm9keScgKSxcbiAgICAgICAgICAgIF9oZXJvUGljID0gJCgnLmNhc2VfX2hlcm8nKTtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vYmoub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2Nyb2xsZXIuYW5pbWF0ZSggeyBzY3JvbGxUb3A6IF9oZXJvUGljLmlubmVySGVpZ2h0KCkgfSwgMzAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBGZWF0dXJlZFByb2R1Y3RzU2xpZGVyID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfc3dpcGVySW5pdCA9IGZhbHNlLFxuICAgICAgICAgICAgX3N3aXBlcixcbiAgICAgICAgICAgIF9zcXVhZCA9ICQoJy5mZWF0dXJlZC1wcm9kdWN0cycpLFxuICAgICAgICAgICAgX3NxdWFkRGlzayA9ICQoJy5mZWF0dXJlZC1wcm9kdWN0c19fZGlzaycpO1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSA3NjggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0RGlza1NpemUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggIV9zd2lwZXJJbml0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbml0U3dpcGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zd2lwZXJJbml0ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9zd2lwZXJJbml0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kZXN0cm95U3dpcGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zd2lwZXJJbml0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldERpc2tTaXplKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDc2OCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zcXVhZERpc2suYXR0cignc3R5bGUnLCcnKVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0RGlza1NpemUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdFN3aXBlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3N3aXBlciA9IG5ldyBTd2lwZXIoIF9vYmouZmluZCggJy5zd2lwZXItY29udGFpbmVyJyApLCB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICAgICAgICAgICAgICAgIG5leHRCdXR0b246IF9vYmouZmluZCgnLnN3aXBlci1idXR0b24tbmV4dCcpWzBdLFxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfb2JqLmZpbmQoJy5zd2lwZXItYnV0dG9uLXByZXYnKVswXVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9kZXN0cm95U3dpcGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc3dpcGVyLmRlc3Ryb3koIHRydWUsIHRydWUpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldERpc2tTaXplID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gX3NxdWFkLmlubmVySGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gX3NxdWFkLmlubmVyV2lkdGgoKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3U2l6ZTtcblxuICAgICAgICAgICAgICAgIGlmKCBoZWlnaHQgPiB3aWR0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICBuZXdTaXplICA9IHdpZHRoXG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIG5ld1NpemUgID0gaGVpZ2h0XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfc3F1YWREaXNrLndpZHRoKCBuZXdTaXplICk7XG4gICAgICAgICAgICAgICAgX3NxdWFkRGlzay5oZWlnaHQoIG5ld1NpemUgKTtcbiAgICAgICAgICAgICAgICBfc3F1YWREaXNrLmNzcygge1xuXG4gICAgICAgICAgICAgICAgICAgICdtYXJnaW4tdG9wJzogJy0nICtuZXdTaXplLzIrICdweCcsXG4gICAgICAgICAgICAgICAgICAgICdtYXJnaW4tbGVmdCc6ICctJyArbmV3U2l6ZS8yKyAncHgnXG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoICFfc3dpcGVySW5pdCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRTd2lwZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zd2lwZXJJbml0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBTbGlkZXJGb3JtYXRzID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX29iaklubmVyID0gX29iai5maW5kKCcuZmVhdHVyZWQtcHJvZHVjdHNfX2Rpc2snKSxcbiAgICAgICAgICAgIF9pdGVtcyA9IF9vYmouZmluZCgnLnN3aXBlci1zbGlkZV9hbWluYXRlZCcpLFxuICAgICAgICAgICAgX2Rpc3RhbmNlID0gMCxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgJ3Jlc2l6ZSc6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9nbG9iYWxXaWR0aCAhPSBfd2luZG93LndpZHRoKCkgJiYgX3dpbmRvdy53aWR0aCgpPj0xMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpICsgMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wb3NpdGlvbkl0ZW1zKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcG9zaXRpb25JdGVtcyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIGlmIChfd2luZG93LndpZHRoKCkgPCA1NTApIHtcblxuICAgICAgICAgICAgICAgICAgICBfZGlzdGFuY2UgPSAyMDtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3dpbmRvdy53aWR0aCgpID49IDU1MCAmJiBfd2luZG93LndpZHRoKCkgPCAxMjAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2Rpc3RhbmNlID0gNzA7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIF9kaXN0YW5jZSA9IDU0O1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHJhZGl1cyA9ICggX29iai5oZWlnaHQoKSArIF9kaXN0YW5jZSkgLyAyICsgJ3B4JyxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSAtOTAsXG4gICAgICAgICAgICAgICAgICAgIG51bWJlck9mRWxlbWVudHMgPSBfaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBzbGljZSA9IDM2MCAvIG51bWJlck9mRWxlbWVudHM7XG5cbiAgICAgICAgICAgICAgICBfaXRlbXMuZWFjaCggZnVuY3Rpb24gKGkpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICByb3RhdGUgPSBzbGljZSAqIGkgKyBzdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVJldmVyc2UgPSByb3RhdGUgKiAtMTtcblxuICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3JvdGF0ZSgnICsgcm90YXRlICsgJ2RlZykgdHJhbnNsYXRlKCcgKyByYWRpdXMgKyAnKSByb3RhdGUoJyArIHJvdGF0ZVJldmVyc2UgKyAnZGVnKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3JvdGF0ZSgnICsgcm90YXRlICsgJ2RlZykgdHJhbnNsYXRlKCcgKyByYWRpdXMgKyAnKSByb3RhdGUoJyArIHJvdGF0ZVJldmVyc2UgKyAnZGVnKSdcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG5cbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpPj0xMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9wb3NpdGlvbkl0ZW1zKCk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG5cbn0gKSgpO1xuIiwiKCBmdW5jdGlvbigpIHtcblxuICAgICQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICQoICcucGhvbmUnICkuZWFjaCggZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgbmV3IFBob25lKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgfSApO1xuXG4gICAgdmFyIFBob25lID0gZnVuY3Rpb24oIG9iaiApIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9waG9uZUVsZW1zID0gX29iai5maW5kKCcucGhvbmVfX2VsZW0nKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24oKSAge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbih7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3dpbmRvdy53aWR0aCgpID49IDc2OCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2hlY2tTY3JvbGwgPSBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgdmFyIHdpbmRvd0ggPSBfd2luZG93LmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBjdXJJdGVtcyA9IF9vYmouZmluZCggJy5wbm9uZV9fcGFydCcgKSxcbiAgICAgICAgICAgICAgICAgICAgdG9wUG9zID0gX29iai5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gdG9wUG9zIC0gd2luZG93SC8yLjUsXG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IHRvcFBvcyAtIHdpbmRvd0gvMTUsXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFBvaW50O1xuXG4gICAgICAgICAgICAgICAgaWYgKCBfd2luZG93LnNjcm9sbFRvcCgpIDwgc3RhcnQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUG9pbnQgPSAwO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggX3dpbmRvdy5zY3JvbGxUb3AoKSA+IGVuZCApIHtcblxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxQb2ludCA9IDE7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy5zY3JvbGxUb3AoKSA+IHN0YXJ0ICYmICEoIF93aW5kb3cuc2Nyb2xsVG9wKCkgPiBlbmQgKSApe1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFBvaW50ID0gJ2FuaW1hdGlvbic7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfYW5pbWF0aW9uRWxlbXMoIHN0YXJ0LCBlbmQsIHNjcm9sbFBvaW50ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYW5pbWF0aW9uRWxlbXMgPSBmdW5jdGlvbiAoc3RhcnRQb2ludCwgZW5kUG9pbnQsIHNjcm9sbFBvaW50KSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgc2VnbWVudCA9IGVuZFBvaW50IC0gc3RhcnRQb2ludDtcblxuICAgICAgICAgICAgICAgIF9waG9uZUVsZW1zLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJFbGVtID0gJCggdGhpcyApLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlU3RhcnQgPSAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVTdGFydCA9IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVFbmQgPSBjdXJFbGVtLmRhdGEoJ3RyYW5zbGF0ZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVFbmQgPSBjdXJFbGVtLmRhdGEoJ3NjYWxlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBrb29mVHJhbnNsYXRlID0gKCB0cmFuc2xhdGVFbmQgLSB0cmFuc2xhdGVTdGFydCApIC8gc2VnbWVudCAqICggX3dpbmRvdy5zY3JvbGxUb3AoKSAtIHN0YXJ0UG9pbnQgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtvb2ZTY2FsZSA9IHNjYWxlU3RhcnQgKyAoIHNjYWxlRW5kIC0gc2NhbGVTdGFydCApIC8gc2VnbWVudCAqICggX3dpbmRvdy5zY3JvbGxUb3AoKSAtIHN0YXJ0UG9pbnQgKTtcblxuXG4gICAgICAgICAgICAgICAgICAgIGlmICggc2Nyb2xsUG9pbnQgPT0gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5jc3MoIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVZKCcgK3RyYW5zbGF0ZVN0YXJ0KyAnJSkgc2NhbGUoICcrc2NhbGVTdGFydCsnICknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWSgnICt0cmFuc2xhdGVTdGFydCsgJyUpIHNjYWxlKCAnK3NjYWxlU3RhcnQrJyApJ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggc2Nyb2xsUG9pbnQgPT0gMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5jc3MoIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVZKCcgK3RyYW5zbGF0ZUVuZCsgJyUpIHNjYWxlKCAnK3NjYWxlRW5kKycgKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGVZKCcgK3RyYW5zbGF0ZUVuZCsgJyUpIHNjYWxlKCAnK3NjYWxlRW5kKycgKSdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckVsZW0uY3NzKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWSgnICtrb29mVHJhbnNsYXRlKyAnJSkgc2NhbGUoICcra29vZlNjYWxlKycgKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGVZKCcgK2tvb2ZUcmFuc2xhdGUrICclKSBzY2FsZSggJytrb29mU2NhbGUrJyApJ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpO1xuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
