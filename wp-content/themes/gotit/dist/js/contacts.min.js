"use strict";!function(){$(function(){new e($(".preloader")),$.each($(".site__index-page"),function(){new t($(this))}),$.each($("body"),function(){new n($(this))}),$.each($(".site__header"),function(){new i($(this))}),$.each($(".main-slider"),function(){new o($(this)),new l($(this))}),$.each($(".expertise__items"),function(){new s($(this))}),$.each($(".reviews"),function(){new r($(this))}),$.each($(".contacts__map"),function(){new d($(this))}),$.each($(".case .main-slider__btn-down"),function(){new a($(this))})});var e=function(e){var t=this,n=$(window),i=e,o=$("body"),s=function(){n.on({load:function(){r()}})},a=function(){o[0].preloader=t,s()},r=function(){i.addClass("preloader_loaded"),setTimeout(function(){i.remove(),$(".site").addClass("site__loaded")},500)};a()},t=function(e){var t=this,n=e,i=$(window),o=$("html, body"),s=!1,a=(n.find(".slide__content"),$(".main-slider")),r=a.find(".main-slider__btn-down"),d=function(){i.on({load:function(){i.width()>=1024&&(s||(l(),f(),s=!0))},resize:function(){i.width()>=1024?(s||(l(),s=!0),f()):s&&(c(),s=!1)}}),r.on({click:function(){return i.width()>=1024?$(this).parents(".case").length?(o.stop(!0,!1),o.animate({scrollTop:a.innerHeight()},300)):$.fn.fullpage.moveTo(2):(o.stop(!0,!1),o.animate({scrollTop:a.innerHeight()},300)),!1}})},l=function(){$("#fullpage").fullpage({scrollOverflow:!0,sectionSelector:".slide__content",onLeave:function(e,t,n,i,o){t>1?($(".logo_index").hide(),$(".move").addClass("moves_up animated_moves")):($(".logo_index").show(),setTimeout(function(){$(".move").removeClass("moves_up")},300),setTimeout(function(){$(".move").removeClass("animated_moves")},800));var s=$(".slide__content").eq(t-1).find(".slide__content-inner>div>div");s.hasClass("reviews")&&s.find(".reviews__item").addClass("animation")}})},c=function(){$.fn.fullpage.destroy("all")},f=function(){},h=function(){n[0].obj=t,d()};h()},n=function(e){var t=this,n=e,i=$(window),o=$(".main-slider"),s=$(".case__hero"),a=$("body"),r=function(){i.on({resize:function(){i.width()>=768?l():(a.css({"font-size":"75px"}),o.css({"font-size":"75px"}),s.css({"font-size":"75px"}))}})},d=function(){r(),i.width()>=768&&l(),n[0].obj=t},l=function(){var e;e=i.height()>500?100*(window.innerHeight/900)+"px":100*(500/900)+"px",a.css({"font-size":e}),o.css({"font-size":e}),s.css({"font-size":e})};d()},i=function(e){var t=this,n=e,i=$(window),o=n.find(".site__header__btn"),s=n.find(".site__header-menu"),a=$("html"),r=$("body"),d=function(){n.removeClass("opened"),i.width()<1024&&(a.css({"overflow-y":"auto"}),r.css({"overflow-y":"auto"})),s.attr("style","")},l=function(){i.on({scroll:function(){i.scrollTop()>0?n.addClass("fixed"):n.removeClass("fixed")}}),o.on({click:function(){return n.hasClass("opened")?d():c(),!1}})},c=function(){n.addClass("opened"),i.width()<1024&&(a.css({"overflow-y":"hidden"}),r.css({"overflow-y":"hidden"}))},f=function(){l(),n[0].obj=t,i.scrollTop()>n.innerHeight()/2?n.addClass("fixed"):n.removeClass("fixed")};f()},o=function(e){var t,n=this,i=e,o=$(window),s=$(".site__header"),a=15,r=10,d=5,l=20,c=25,f=0,h=function(){$(document).on("mousemove",".main-slider .swiper-slide",function(e){e=e||window.event;var t=$(this),n=t.find(".move1:not(.not_move)"),f=t.find(".move2:not(.not_move)"),h=t.find(".move3:not(.not_move)"),p=t.find(".move4:not(.not_move)"),w=t.find(".move5:not(.not_move)");if(o.width()>1024&&!s.hasClass("opened")&&!$(document).find(".move").hasClass("animated_moves")){var v=e.clientX,g=e.clientY,_=i.width()/2,y=i.height()/2,C=(v-_)/_,b=(g-y)/y;o.outerWidth()>1024&&(u(C,b,a,n),u(C,b,a,$(document).find(".copy_1")),m(C,b,r,f),m(C,b,r,$(document).find(".copy_2")),m(C,b,d,h),m(C,b,d,$(document).find(".copy_3")),u(C,b,l,p),u(C,b,l,$(document).find(".copy_4")),u(C,b,c,w),u(C,b,c,$(document).find(".copy_5")))}}),o.on({load:function(){p(),f=o.width()},resize:function(){if(f!=o.width()&&(f=o.width()+1,o.width()<1024&&w()),o.width()>=1024&&screen.width>=1024&&i.css({height:""}),i.hasClass("main-slider_index")){var e=i.parents(".slide__content").next().find(".slide__content-inner"),t=i.find(".swiper-slide-active").innerHeight();setTimeout(function(){i.find(".swiper-slide-active .move").each(function(){var n=$(this),i=n.position().top,o=n.height();if(i+o>t){var s=n.attr("class").replace(/(^.+\D)(\d+)(\D.+$)/i,"$2"),a=0;if($(".copy_move.copy_"+s).length){var r=$(".copy_move.copy_"+s);$(".slide__content").innerHeight()<$(".main-slider").innerHeight()&&(a=$(".main-slider").innerHeight()-$(".slide__content").innerHeight()),r.offset({top:n.offset().top-a,left:n.offset().left}),r.css({bottom:"auto",right:"auto",width:n.width(),height:n.height()})}else{var d=n.clone(!0);d.addClass("copy_move copy_"+s),e.prepend(d),$(".slide__content").innerHeight()<$(".main-slider").innerHeight()&&(a=$(".main-slider").innerHeight()-$(".slide__content").innerHeight()),d.offset({top:n.offset().top-a,left:n.offset().left}),d.css({bottom:"auto",right:"auto",width:n.width(),height:n.height()})}}else{var s=n.attr("class").replace(/(^.+\D)(\d+)(\D.+$)/i,"$2");$(".copy_move.copy_"+s).remove()}})},1500)}}}),window.addEventListener("orientationchange",function(){setTimeout(function(){screen.width<1024&&w()},500)},!1)},p=function(){t=new Swiper(i.find(".swiper-container"),{spaceBetween:0,slidesPerView:1,speed:700,loop:!0,effect:"fade",fade:{crossFade:!0},autoplayDisableOnInteraction:!1,nextButton:i.find(".swiper-button-next")[0],prevButton:i.find(".swiper-button-prev")[0],onInit:function(e){var t=e.slides.filter(".swiper-slide-active"),n=t.parents(".slide__content").index(),o=$(".slide__content").eq(n+1);if(i.hasClass("main-slider_index")){var s=t.innerHeight();t.find(".move").each(function(){var e=$(this),t=e.position().top,n=e.height();if(t+n>s){var i=e.attr("class").replace(/(^.+\D)(\d+)(\D.+$)/i,"$2"),a=0,r=e.clone(!0);r.addClass("copy_move copy_"+i),o.prepend(r),$(".slide__content").innerHeight()<$(".main-slider").innerHeight()&&(a=$(".main-slider").innerHeight()-$(".slide__content").innerHeight()),r.offset({top:e.offset().top-a,left:e.offset().left}),r.css({bottom:"auto",right:"auto",width:e.width(),height:e.height()})}})}},onSlideChangeStart:function(e){var t=e.slides.filter(".swiper-slide-active"),n=t.parents(".slide__content").index();$(".slide__content").eq(n+1).find(".slide__content-inner");$(".copy_move").remove(),t.find(".main-slider__content_pure").length?(i.find(".swiper-button-prev").addClass("colored_pure"),i.find(".swiper-button-next").addClass("colored_pure")):(i.find(".swiper-button-prev").removeClass("colored_pure"),i.find(".swiper-button-next").removeClass("colored_pure"))},onSlideChangeEnd:function(e){var t=e.slides.filter(".swiper-slide-active"),n=t.parents(".slide__content").index(),o=$(".slide__content").eq(n+1).find(".slide__content-inner");if(i.hasClass("main-slider_index")){var s=t.innerHeight();t.find(".move").each(function(){var e=$(this),t=e.position().top,n=e.height();if(t+n>s){var i=e.attr("class").replace(/(^.+\D)(\d+)(\D.+$)/i,"$2"),a=0,r=e.clone(!0);r.addClass("copy_move copy_"+i),o.prepend(r),$(".slide__content").innerHeight()<$(".main-slider").innerHeight()&&(a=$(".main-slider").innerHeight()-$(".slide__content").innerHeight()),r.offset({top:e.offset().top-a,left:e.offset().left}),r.css({bottom:"auto",right:"auto",width:e.width(),height:e.height()})}})}}})},u=function(e,t,n,i){i.css({"-webkit-transform":"translate( "+-(e*n)+"px,"+-(t*n)+"px )",transform:"translate( "+-(e*n)+"px, "+-(t*n)+"px  )"})},m=function(e,t,n,i){i.css({"-webkit-transform":"translate( "+e*n+"px ,"+t*n+"px  )",transform:"translate( "+e*n+"px , "+t*n+"px  )"})},w=function(){var e=o.height();i.parents(".case").length?i.css({height:e+e/5}):i.css({height:e})},v=function(){i[0].obj=n,h(),o.width()<1024&&w()};v()},s=function(e){var t,n=this,i=e,o=$(window),s=!1,a=null,r=function(){o.on({resize:function(){o.width()<a?s||(d(),s=!0):s&&(l(),s=!1)}})},d=function(){t=new Swiper(i.find(".swiper-container"),{slidesPerView:1.9,centeredSlides:!0,onClick:function(e,n){console.log("onClick");var i=e.clickedIndex;e.activeIndex=i,e.updateClasses(),t.slideTo(i,200,!1)}})},l=function(){t.destroy(!0,!0)},c=function(){a=i.parents(".expertise_3").length?1024:768},f=function(){i[0].obj=n,c(),r(),o.width()<a&&(s||(d(),s=!0))};f()},a=function(e){var t=this,n=e,i=$("html, body"),o=$(".main-slider__inner-pic"),s=function(){n.on({click:function(){return i.animate({scrollTop:o.innerHeight()},300),!1}})},a=function(){n[0].obj=t,s()};a()},r=function(e){var t,n=this,i=e,o=$(window),s=function(){o.on({resize:function(){}})},a=function(){t=new Swiper(i.find(".swiper-container"),{slidesPerView:1,spaceBetween:30,speed:500,loop:!0,effect:"fade",fade:{crossFade:!0},autoplayDisableOnInteraction:!1,nextButton:i.find(".swiper-button-next")[0],prevButton:i.find(".swiper-button-prev")[0]})},r=function(){i[0].obj=n,s(),a()};r()},d=function(e){var t,n,i=e,o=i.find("#contact-google-map"),s=o.data("map-lat"),a=o.data("map-lng"),r=o.data("map-zoom"),d=$(".contacts__cities .btn"),l=$(window),c=function(){l.on({load:function(){u()},resize:function(){u()}}),google.maps.event.addDomListener(window,"resize",function(){if(d.length){var e={lat:d.filter(".active").data("map-lat"),lng:d.filter(".active").data("map-lng")};t.setCenter(e),f(t.getCenter(),0,50)}}),d.on({click:function(){var e=$(this);if(!e.hasClass("active")){d.removeClass("active"),e.addClass("active");var i={lat:$(this).data("map-lat"),lng:$(this).data("map-lng")};n.setPosition(i),setTimeout(function(){google.maps.event.trigger(t,"resize"),t.setCenter(i),f(t.getCenter(),0,50)},300)}return!1}})},f=function(e,n,i){var o=Math.pow(2,t.getZoom()),s=t.getProjection().fromLatLngToPoint(e),a=new google.maps.Point(n/o||0,i/o||0),r=new google.maps.Point(s.x-a.x,s.y+a.y),d=t.getProjection().fromPointToLatLng(r);t.setCenter(d)},h=function(){var e=new google.maps.StyledMapType([{stylers:[{hue:"#b00040"},{saturation:60},{lightness:-40}]},{elementType:"labels.text.fill",stylers:[{color:"#ff6fa4"}]},{featureType:"water",stylers:[{color:"#B61530"}]},{featureType:"road",stylers:[{color:"#B61530"},{}]},{featureType:"road.local",stylers:[{color:"#B61530"},{lightness:6}]},{featureType:"road.highway",stylers:[{color:"#B61530"},{lightness:-25}]},{featureType:"road.arterial",stylers:[{color:"#B61530"},{lightness:-10}]},{featureType:"transit",stylers:[{color:"#B61530"},{lightness:70}]},{featureType:"transit.line",stylers:[{color:"#B61530"},{lightness:90}]},{featureType:"administrative.country",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#ff6fa4"}]}],{name:"Custom Style"}),i="custom_style";t=new google.maps.Map(o[0],{zoom:r,zoomControl:!1,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,center:{lat:s,lng:a},mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,i]}}),n=new google.maps.Marker({position:{lat:s,lng:a},map:t}),t.mapTypes.set(i,e),t.setMapTypeId(i),google.maps.event.addListenerOnce(t,"idle",function(){if(d.length){var e={lat:d.filter(".active").data("map-lat"),lng:d.filter(".active").data("map-lng")};t.setCenter(e),f(t.getCenter(),0,50)}})},p=function(){google.maps.event.addDomListener(window,"load",h),c(),u()},u=function(){var e=$(".contacts__inner"),t=$(".contacts__info");l.width()>=768?e.width()>t.innerHeight()?(i.height(e.width()),i.width(e.width())):t.innerHeight()>t.innerWidth()?(i.height(t.innerHeight()+.6*t.innerHeight()),i.width(t.innerHeight()+.6*t.innerHeight())):(i.height(t.innerWidth()+.6*t.innerWidth()),i.width(t.innerWidth()+.6*t.innerWidth())):i.attr("style","")};p()},l=function(e){var t=e,n=t.find(".swiper-slide"),i=$(window),o=function(){i.on({load:function(){},resize:function(){s()}})},s=function(){n.find(".move").each(function(){var e=$(this),t=e.data("views");if(void 0!=t){for(var n=0;n<t.length;n++){var o;i.width()>=1024?o=t[2]:i.width()<1024&&i.width()>=768?o=t[1]:i.width()<768&&(o=t[0])}o.url.length&&e.css({"background-image":'url("'+o.url+'")',top:"auto",right:"auto",bottom:"auto",left:"auto"});for(var s in o.positions)e.css(s,o.positions[s]/100+"em")}})},a=function(){o(),s()};a()}}();
!function(){$(function(){"use strict";$.each($(".contacts__form"),function(){new t($(this))})});var t=function(t){var e=this,n=t,a=n.find("form"),i=n.find('input:required, textarea:required, input[aria-required="true"], textarea[aria-required="true"]'),s=n.find(".contacts__fields-error"),o=n.find(".contacts__fields-textarea"),r=n.find(".contacts__fields-textarea-height"),c=$(".contacts__success .btn"),d=n.find("input#name"),u=n.find("input#contact"),l=n.find("textarea#message"),f=(new XMLHttpRequest,function(){m(),v(),n[0].obj=e}),h=function(){i.each(function(){""===$(this).val()&&$(this).addClass("not-touched")}),i.each(function(){y($(this))})},v=function(){d.attr("data-error","please add your name"),u.attr("data-error","please add your phone or email"),l.attr("data-error","please add your message")},m=function(){$(document).on("mailsent.wpcf7",function(){n.addClass("hidden"),i.val(""),o.attr("style",""),r.html("")}),a.on({submit:function(){h(),i.hasClass("not-touched")?(n.find(".not-touched:first").focus(),s.text(n.find(".not-touched:first").data("error")),s.addClass("visible")):s.removeClass("visible")}}),i.on({keypress:function(){$(this).removeClass("not-touched"),s.removeClass("visible")},keyup:function(){y($(this))}}),c.on({click:function(){return n.removeClass("hidden"),!1}}),o.on({keyup:function(t){var e=$(this).find("textarea").val();return r.html(e),o.css("height",r.innerHeight()),13==t.keyCode&&(console.log(0),o.css("height",r.innerHeight())),!1}})},C=function(t){t.addClass("not-valid"),t.removeClass("valid")},p=function(t){t.removeClass("not-valid"),t.addClass("valid")},_=function(t){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)},y=function(t,e){var n=t.attr("type");return("email"!==n&&"text"!==n||""!==t.val())&&("email"!==n||_(t.val()))?void p(t):(C(t),!1)};e.checkValid=function(){var t=!0;return i.each(function(){$(this).removeClass("not-touched"),$(this).hasClass("not-valid")&&(t=!1)}),t},f()}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LmZvcm0udmFsaWRhdG9yLmpzIl0sIm5hbWVzIjpbIiQiLCJQcmVsb2FkZXIiLCJlYWNoIiwiUGFnZSIsInRoaXMiLCJab29tU2l0ZSIsIk1lbnUiLCJNYWluU2xpZGVyIiwiTWFpblNsaWRlclBpY3R1cmVzIiwiRXhwZXJ0aXNlU2xpZGVyIiwiUmV2aWV3c1NsaWRlciIsIkxvY2F0aW9uIiwiU2Nyb2xsRG93biIsIm9iaiIsIl9zZWxmIiwiX3dpbmRvdyIsIndpbmRvdyIsIl9wcmVsb2FkZXIiLCJfYm9keSIsIl9hZGRFdmVudHMiLCJvbiIsImxvYWQiLCJfc2hvd1NpdGUiLCJfaW5pdCIsInByZWxvYWRlciIsImFkZENsYXNzIiwic2V0VGltZW91dCIsInJlbW92ZSIsIl9vYmoiLCJfZG9tIiwiX3N3aXBlckluaXQiLCJfbWFpblNsaWRlciIsImZpbmQiLCJfYnRuRG93biIsIndpZHRoIiwiX2luaXRGdWxsUGFnZSIsIl9jZW50ZXJDb250ZW50IiwicmVzaXplIiwiX2Rlc3Ryb3lGdWxsUGFnZSIsImNsaWNrIiwicGFyZW50cyIsImxlbmd0aCIsInN0b3AiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiaW5uZXJIZWlnaHQiLCJmbiIsImZ1bGxwYWdlIiwibW92ZVRvIiwic2Nyb2xsT3ZlcmZsb3ciLCJzZWN0aW9uU2VsZWN0b3IiLCJvbkxlYXZlIiwiYW5jaG9yTGluayIsImluZGV4Iiwic2xpZGVJbmRleCIsImRpcmVjdGlvbiIsIm5leHRTbGlkZUluZGV4IiwiaGlkZSIsInNob3ciLCJyZW1vdmVDbGFzcyIsImJsb2NrIiwiZXEiLCJoYXNDbGFzcyIsImRlc3Ryb3kiLCJfY2FzZUhlcm8iLCJfb25FdmVudHMiLCJfc2V0U2l6ZSIsImNzcyIsImZvbnQtc2l6ZSIsIm5ld1NpemUiLCJoZWlnaHQiLCJfbWVudUJ0biIsIl9tZW51SXRlbXMiLCJfaHRtbCIsIl9jbG9zZU1lbnUiLCJvdmVyZmxvdy15IiwiYXR0ciIsInNjcm9sbCIsIl9vcGVuTWVudSIsIl9zd2lwZXIxIiwiX2hlYWRlciIsIl9zdGVwMSIsIl9zdGVwMiIsIl9zdGVwMyIsIl9zdGVwNCIsIl9zdGVwNSIsIl9nbG9iYWxXaWR0aCIsImRvY3VtZW50IiwiZSIsImV2ZW50Iiwic2xpZGUiLCJfaW1nMSIsIl9pbWcyIiwiX2ltZzMiLCJfaW1nNCIsIl9pbWc1IiwicGFnZVgiLCJjbGllbnRYIiwicGFnZVkiLCJjbGllbnRZIiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsInBlcmNlbnRGcm9tQ2VudGVyWCIsInBlcmNlbnRGcm9tQ2VudGVyWSIsIm91dGVyV2lkdGgiLCJfbW92ZUJvdHRvbSIsIl9tb3ZlVG9wIiwiX2luaXRTd2lwZXIiLCJfc2V0SGVpZ2h0Iiwic2NyZWVuIiwibmV4dFNlY3Rpb24iLCJuZXh0IiwidmVnZXRhYmxlIiwicG9zIiwicG9zaXRpb24iLCJ0b3AiLCJoZWlnaHRWZWciLCJudW0iLCJyZXBsYWNlIiwiZGlmZiIsIm9sZEltZyIsIm9mZnNldCIsImxlZnQiLCJib3R0b20iLCJyaWdodCIsIm5ld0ltZyIsImNsb25lIiwicHJlcGVuZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJTd2lwZXIiLCJzcGFjZUJldHdlZW4iLCJzbGlkZXNQZXJWaWV3Iiwic3BlZWQiLCJsb29wIiwiZWZmZWN0IiwiZmFkZSIsImNyb3NzRmFkZSIsImF1dG9wbGF5RGlzYWJsZU9uSW50ZXJhY3Rpb24iLCJuZXh0QnV0dG9uIiwicHJldkJ1dHRvbiIsIm9uSW5pdCIsInN3aXBlciIsImFjdFNsaWRlIiwic2xpZGVzIiwiZmlsdGVyIiwic2VjdGlvbkluZGV4Iiwib25TbGlkZUNoYW5nZVN0YXJ0Iiwib25TbGlkZUNoYW5nZUVuZCIsInhQZXJjZW50IiwieVBlcmNlbnQiLCJzdGVwIiwiaW1hZ2UiLCItd2Via2l0LXRyYW5zZm9ybSIsInRyYW5zZm9ybSIsIl9zd2lwZXIiLCJfc2NyZWVuVmFsIiwiX2Rlc3Ryb3lTd2lwZXIiLCJjZW50ZXJlZFNsaWRlcyIsIm9uQ2xpY2siLCJjb25zb2xlIiwibG9nIiwiY2xpY2tlZCIsImNsaWNrZWRJbmRleCIsImFjdGl2ZUluZGV4IiwidXBkYXRlQ2xhc3NlcyIsInNsaWRlVG8iLCJfc2V0U2NyZWVuVmFsdWUiLCJfc2Nyb2xsZXIiLCJfbWFpblNsaWRlclBpYyIsIm1hcCIsIm1hcmtlciIsIl9tYXAiLCJfbWFwTGF0IiwiZGF0YSIsIl9tYXBMbmciLCJfbWFwWm9vbSIsIl9idG4iLCJnb29nbGUiLCJtYXBzIiwiYWRkRG9tTGlzdGVuZXIiLCJteUxhdExuZyIsImxhdCIsImxuZyIsInNldENlbnRlciIsIl9vZmZzZXRDZW50ZXIiLCJnZXRDZW50ZXIiLCJjdXJJdGVtIiwic2V0UG9zaXRpb24iLCJ0cmlnZ2VyIiwibGF0bG5nIiwib2Zmc2V0eCIsIm9mZnNldHkiLCJzY2FsZSIsIk1hdGgiLCJwb3ciLCJnZXRab29tIiwid29ybGRDb29yZGluYXRlQ2VudGVyIiwiZ2V0UHJvamVjdGlvbiIsImZyb21MYXRMbmdUb1BvaW50IiwicGl4ZWxPZmZzZXQiLCJQb2ludCIsIndvcmxkQ29vcmRpbmF0ZU5ld0NlbnRlciIsIngiLCJ5IiwibmV3Q2VudGVyIiwiZnJvbVBvaW50VG9MYXRMbmciLCJfaW5pdE1hcCIsImN1c3RvbU1hcFR5cGUiLCJTdHlsZWRNYXBUeXBlIiwic3R5bGVycyIsImh1ZSIsInNhdHVyYXRpb24iLCJsaWdodG5lc3MiLCJlbGVtZW50VHlwZSIsImNvbG9yIiwiZmVhdHVyZVR5cGUiLCJ2aXNpYmlsaXR5IiwibmFtZSIsImN1c3RvbU1hcFR5cGVJZCIsIk1hcCIsInpvb20iLCJ6b29tQ29udHJvbCIsIm1hcFR5cGVDb250cm9sIiwic2NhbGVDb250cm9sIiwic3RyZWV0Vmlld0NvbnRyb2wiLCJyb3RhdGVDb250cm9sIiwiY2VudGVyIiwibWFwVHlwZUNvbnRyb2xPcHRpb25zIiwibWFwVHlwZUlkcyIsIk1hcFR5cGVJZCIsIlJPQURNQVAiLCJNYXJrZXIiLCJtYXBUeXBlcyIsInNldCIsInNldE1hcFR5cGVJZCIsImFkZExpc3RlbmVyT25jZSIsImNvbnRlbnRJbm5lciIsImNvbnRlbnRJbmZvIiwiaW5uZXJXaWR0aCIsIl9zbGlkZSIsIl9hZGRQaWN0dXJlcyIsImRhdGFWaWV3IiwidW5kZWZpbmVkIiwiaSIsIm5lZWRWaWV3IiwidXJsIiwiYmFja2dyb3VuZC1pbWFnZSIsImtleSIsInBvc2l0aW9ucyIsIkZvcm1WYWxpZGF0b3IiLCJfZm9ybSIsIl9maWVsZHMiLCJfZXJyb3JNZXNzYWdlIiwiX3RleHRhcmVhRmllbGQiLCJfdGV4dGFyZWFIZWlnaHQiLCJfYnRuU3VjY2VzcyIsIl9pbnB1dE5hbWUiLCJfaW5wdXRDb250YWN0IiwiX2lucHV0TWVzc2FnZSIsIl9jb25zdHJ1Y3RvciIsIlhNTEh0dHBSZXF1ZXN0IiwiX2FkZEF0dHJpYnV0ZXNFcnJvciIsIl9hZGROb3RUb3VjaGVkQ2xhc3MiLCJ2YWwiLCJfdmFsaWRhdGVGaWVsZCIsImh0bWwiLCJzdWJtaXQiLCJmb2N1cyIsInRleHQiLCJrZXlwcmVzcyIsImtleXVwIiwidmFsdWUiLCJrZXlDb2RlIiwiX21ha2VOb3RWYWxpZCIsImZpZWxkIiwiX21ha2VWYWxpZCIsIl92YWxpZGF0ZUVtYWlsIiwiZW1haWwiLCJyZSIsInRlc3QiLCJ0eXBlIiwiY2hlY2tWYWxpZCIsInZhbGlkIl0sIm1hcHBpbmdzIjoiQUFBQSxjQUNBLFdBRUlBLEVBQUcsV0FFQyxHQUFJQyxHQUFXRCxFQUFFLGVBRWpCQSxFQUFFRSxLQUFNRixFQUFFLHFCQUF1QixXQUU3QixHQUFJRyxHQUFNSCxFQUFFSSxTQUloQkosRUFBRUUsS0FBTUYsRUFBRSxRQUFTLFdBRWYsR0FBSUssR0FBVUwsRUFBRUksU0FJcEJKLEVBQUVFLEtBQU1GLEVBQUUsaUJBQWtCLFdBRXhCLEdBQUlNLEdBQU1OLEVBQUVJLFNBSWhCSixFQUFFRSxLQUFNRixFQUFFLGdCQUFpQixXQUV2QixHQUFJTyxHQUFZUCxFQUFFSSxPQUNsQixHQUFJSSxHQUFvQlIsRUFBRUksU0FJOUJKLEVBQUVFLEtBQU1GLEVB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RUFBTXZOLFlBQWEsYUFDbkJ1TixFQUFNelAsU0FBVSxVQUVwQjJQLEVBQWlCLFNBQVdDLEdBQ3hCLEdBQUlDLEdBQUssd0pBQ1QsT0FBT0EsR0FBR0MsS0FBS0YsSUFFbkJiLEVBQWlCLFNBQVdVLEVBQU8xTCxHQUUvQixHQUFJZ00sR0FBT04sRUFBTXRNLEtBQU0sT0FFdkIsUUFBYSxVQUFUNE0sR0FBNkIsU0FBVEEsR0FFQSxLQUFoQk4sRUFBTVgsU0FPRCxVQUFUaUIsR0FDS0osRUFBZ0JGLEVBQU1YLFlBTS9CWSxHQUFZRCxJQWJKRCxFQUFlQyxJQUNSLEdBbUJ2QnBRLEdBQU0yUSxXQUFhLFdBQ2YsR0FBSUMsSUFBUSxDQVVaLE9BUkEvQixHQUFRelAsS0FBTSxXQUNWRixFQUFHSSxNQUFPdUQsWUFBYSxlQUNuQjNELEVBQUdJLE1BQU8wRCxTQUFVLGVBQ3BCNE4sR0FBUSxLQUtUQSxHQUdYdkIiLCJmaWxlIjoiY29udGFjdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4oIGZ1bmN0aW9uKCkge1xuXG4gICAgJCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgbmV3IFByZWxvYWRlciggJCgnLnByZWxvYWRlcicpICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuc2l0ZV9faW5kZXgtcGFnZScgKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgUGFnZSggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJ2JvZHknKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgWm9vbVNpdGUoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuc2l0ZV9faGVhZGVyJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IE1lbnUoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcubWFpbi1zbGlkZXInKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgTWFpblNsaWRlciggJCh0aGlzKSApO1xuICAgICAgICAgICAgbmV3IE1haW5TbGlkZXJQaWN0dXJlcyggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5leHBlcnRpc2VfX2l0ZW1zJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IEV4cGVydGlzZVNsaWRlciggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5yZXZpZXdzJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFJldmlld3NTbGlkZXIoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuY29udGFjdHNfX21hcCcpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBMb2NhdGlvbiggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5jYXNlIC5tYWluLXNsaWRlcl9fYnRuLWRvd24nKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgU2Nyb2xsRG93biggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuXG4gICAgfSApO1xuXG4gICAgdmFyIFByZWxvYWRlciA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX3ByZWxvYWRlciA9IG9iaixcbiAgICAgICAgICAgIF9ib2R5ID0gJCgnYm9keScpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2hvd1NpdGUoKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfYm9keVswXS5wcmVsb2FkZXIgPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2hvd1NpdGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9wcmVsb2FkZXIuYWRkQ2xhc3MoICdwcmVsb2FkZXJfbG9hZGVkJyApO1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBfcHJlbG9hZGVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuc2l0ZScpLmFkZENsYXNzKCAnc2l0ZV9fbG9hZGVkJyApO1xuXG4gICAgICAgICAgICAgICAgfSw1MDApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFBhZ2UgPSBmdW5jdGlvbiAoIG9iaiApIHtcblxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcbiAgICAgICAgICAgIF9kb20gPSAkKCAnaHRtbCwgYm9keScgKSxcbiAgICAgICAgICAgIF9zd2lwZXJJbml0ID0gZmFsc2UsXG4gICAgICAgICAgICBfc3dpcGVyLFxuICAgICAgICAgICAgX3NsaWRlQ29udGVudCA9IF9vYmouZmluZCgnLnNsaWRlX19jb250ZW50JyksXG4gICAgICAgICAgICBfbWFpblNsaWRlciA9ICQoJy5tYWluLXNsaWRlcicpLFxuICAgICAgICAgICAgX2J0bkRvd24gPSBfbWFpblNsaWRlci5maW5kKCcubWFpbi1zbGlkZXJfX2J0bi1kb3duJyk7XG5cbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggIV9zd2lwZXJJbml0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbml0RnVsbFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NlbnRlckNvbnRlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N3aXBlckluaXQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggIV9zd2lwZXJJbml0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbml0RnVsbFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N3aXBlckluaXQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NlbnRlckNvbnRlbnQoKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9zd2lwZXJJbml0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kZXN0cm95RnVsbFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N3aXBlckluaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuRG93bi5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggJCggdGhpcyApLnBhcmVudHMoICcuY2FzZScgKS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RvbS5zdG9wKCB0cnVlLCBmYWxzZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9tLmFuaW1hdGUoIHsgc2Nyb2xsVG9wOiBfbWFpblNsaWRlci5pbm5lckhlaWdodCgpIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNle1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZm4uZnVsbHBhZ2UubW92ZVRvKDIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RvbS5zdG9wKCB0cnVlLCBmYWxzZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uYW5pbWF0ZSggeyBzY3JvbGxUb3A6IF9tYWluU2xpZGVyLmlubmVySGVpZ2h0KCkgfSwgMzAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXRGdWxsUGFnZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgJCgnI2Z1bGxwYWdlJykuZnVsbHBhZ2UoIHtcblxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxPdmVyZmxvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvblNlbGVjdG9yOiAnLnNsaWRlX19jb250ZW50JyxcbiAgICAgICAgICAgICAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24oIGFuY2hvckxpbmssIGluZGV4LCBzbGlkZUluZGV4LCBkaXJlY3Rpb24sIG5leHRTbGlkZUluZGV4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggaW5kZXggPiAxICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmxvZ29faW5kZXgnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm1vdmUnKS5hZGRDbGFzcygnbW92ZXNfdXAgYW5pbWF0ZWRfbW92ZXMnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5sb2dvX2luZGV4Jykuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5tb3ZlJykucmVtb3ZlQ2xhc3MoJ21vdmVzX3VwJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcubW92ZScpLnJlbW92ZUNsYXNzKCdhbmltYXRlZF9tb3ZlcycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgODAwICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBibG9jayA9ICQoJy5zbGlkZV9fY29udGVudCcpLmVxKCBpbmRleC0xKS5maW5kKCcuc2xpZGVfX2NvbnRlbnQtaW5uZXI+ZGl2PmRpdicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggYmxvY2suaGFzQ2xhc3MoJ3Jldmlld3MnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLmZpbmQoJy5yZXZpZXdzX19pdGVtJykuYWRkQ2xhc3MoJ2FuaW1hdGlvbicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2Rlc3Ryb3lGdWxsUGFnZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgJC5mbi5mdWxscGFnZS5kZXN0cm95KCdhbGwnKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jZW50ZXJDb250ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy9fc2xpZGVDb250ZW50LmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgdmFyIGN1ckNvbnRlbnQgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICBjdXJDb250ZW50SW5uZXIgPSBjdXJDb250ZW50LmZpbmQoJy5zbGlkZV9fY29udGVudC1pbm5lcicpO1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgY3VyQ29udGVudElubmVyLmNzcygge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAnbWluLWhlaWdodCc6IF93aW5kb3cuaGVpZ2h0KClcbiAgICAgICAgICAgICAgICAvLyAgICB9ICk7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICBpZiggY3VyQ29udGVudElubmVyLmZpbmQoJz5kaXYnKS5oZWlnaHQoKSA8IF93aW5kb3cuaGVpZ2h0KCkgKSB7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgaWYoIGN1ckNvbnRlbnQuZmluZCgnLmNvbnRhY3RzJykubGVuZ3RoICkge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICBpZiggY3VyQ29udGVudC5maW5kKCcuY29udGFjdHNfX21hcCcpLmhlaWdodCgpIDwgY3VyQ29udGVudElubmVyLmZpbmQoJz5kaXYnKS5oZWlnaHQoKSApIHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIGN1ckNvbnRlbnRJbm5lci5hZGRDbGFzcygnY2VudGVyZWQnKTtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIGN1ckNvbnRlbnRJbm5lci5yZW1vdmVDbGFzcygnY2VudGVyZWQnKTtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgY3VyQ29udGVudElubmVyLmFkZENsYXNzKCdjZW50ZXJlZCcpO1xuICAgICAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgY3VyQ29udGVudElubmVyLnJlbW92ZUNsYXNzKCdjZW50ZXJlZCcpO1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy99ICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcblxuXG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFpvb21TaXRlID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9tYWluU2xpZGVyID0gJCgnLm1haW4tc2xpZGVyJyksXG4gICAgICAgICAgICBfY2FzZUhlcm8gPSAkKCcuY2FzZV9faGVybycpLFxuICAgICAgICAgICAgX2JvZHkgPSAkKCAnYm9keScgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDc2OCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRTaXplKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6ICc3NXB4J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tYWluU2xpZGVyLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZm9udC1zaXplJzogJzc1cHgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Nhc2VIZXJvLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZm9udC1zaXplJzogJzc1cHgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gNzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9zZXRTaXplKCk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldFNpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgbmV3U2l6ZTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LmhlaWdodCgpID4gNTAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgIG5ld1NpemUgPSAoKCAxMDAgKiAoIHdpbmRvdy5pbm5lckhlaWdodCAvIDkwMCApICkpICsgJ3B4JztcblxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBuZXdTaXplID0gKCggMTAwICogKCA1MDAgLyA5MDAgKSApKSArICdweCc7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6IG5ld1NpemVcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfbWFpblNsaWRlci5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6IG5ld1NpemVcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfY2FzZUhlcm8uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICdmb250LXNpemUnOiBuZXdTaXplXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIE1lbnUgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93KSxcbiAgICAgICAgICAgIF9tZW51QnRuID0gX29iai5maW5kKCcuc2l0ZV9faGVhZGVyX19idG4nKSxcbiAgICAgICAgICAgIF9tZW51SXRlbXMgPSBfb2JqLmZpbmQoJy5zaXRlX19oZWFkZXItbWVudScpLFxuICAgICAgICAgICAgX2h0bWwgPSAkKCdodG1sJyksXG4gICAgICAgICAgICBfYm9keSA9ICQoJ2JvZHknKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2Nsb3NlTWVudSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9odG1sLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9tZW51SXRlbXMuYXR0ciggJ3N0eWxlJywgJycgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LnNjcm9sbFRvcCgpID4gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoJ2ZpeGVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCdmaXhlZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9tZW51QnRuLm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9vYmouaGFzQ2xhc3MoICdvcGVuZWQnICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VNZW51KCk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuTWVudSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb3Blbk1lbnUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdvcGVuZWQnICk7XG5cbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICBfaHRtbC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG5cbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy5zY3JvbGxUb3AoKSA+IF9vYmouaW5uZXJIZWlnaHQoKS8yICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoJ2ZpeGVkJyk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoJ2ZpeGVkJyk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgTWFpblNsaWRlciA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX2hlYWRlciA9ICQoICcuc2l0ZV9faGVhZGVyJyksXG4gICAgICAgICAgICBfc3RlcDEgPSAxNSxcbiAgICAgICAgICAgIF9zdGVwMiA9IDEwLFxuICAgICAgICAgICAgX3N0ZXAzID0gNSxcbiAgICAgICAgICAgIF9zdGVwNCA9IDIwLFxuICAgICAgICAgICAgX3N0ZXA1ID0gMjUsXG4gICAgICAgICAgICBfc3dpcGVyMSxcbiAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IDA7XG5cbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbihcbiAgICAgICAgICAgICAgICAgICAgJ21vdXNlbW92ZScsXG4gICAgICAgICAgICAgICAgICAgICcubWFpbi1zbGlkZXIgLnN3aXBlci1zbGlkZScsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCBlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzbGlkZSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ltZzEgPSBzbGlkZS5maW5kKCcubW92ZTE6bm90KC5ub3RfbW92ZSknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW1nMiA9IHNsaWRlLmZpbmQoJy5tb3ZlMjpub3QoLm5vdF9tb3ZlKScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbWczID0gc2xpZGUuZmluZCgnLm1vdmUzOm5vdCgubm90X21vdmUpJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ltZzQgPSBzbGlkZS5maW5kKCcubW92ZTQ6bm90KC5ub3RfbW92ZSknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW1nNSA9IHNsaWRlLmZpbmQoJy5tb3ZlNTpub3QoLm5vdF9tb3ZlKScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIF93aW5kb3cud2lkdGgoKSA+IDEwMjQgJiYgISggX2hlYWRlci5oYXNDbGFzcygnb3BlbmVkJykgKSAmJiAhKCAkKGRvY3VtZW50KS5maW5kKCcubW92ZScpLmhhc0NsYXNzKCdhbmltYXRlZF9tb3ZlcycpICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFnZVggPSBlLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VZID0gZS5jbGllbnRZLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYWxmV2lkdGggPSBfb2JqLndpZHRoKCkgLyAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYWxmSGVpZ2h0ID0gX29iai5oZWlnaHQoKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRGcm9tQ2VudGVyWCA9ICggcGFnZVggLSBoYWxmV2lkdGggKSAvIGhhbGZXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudEZyb21DZW50ZXJZID0gKCBwYWdlWSAtIGhhbGZIZWlnaHQgKSAvIGhhbGZIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3dpbmRvdy5vdXRlcldpZHRoKCkgPiAxMDI0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVCb3R0b20ocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwMSxfaW1nMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlQm90dG9tKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDEsICQoZG9jdW1lbnQpLmZpbmQoJy5jb3B5XzEnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlVG9wKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDIsX2ltZzIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZVRvcChwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXAyLCAkKGRvY3VtZW50KS5maW5kKCcuY29weV8yJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZVRvcChwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXAzLF9pbWczKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVUb3AocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwMywgJChkb2N1bWVudCkuZmluZCgnLmNvcHlfMycpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVCb3R0b20ocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwNCxfaW1nNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlQm90dG9tKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDQsICQoZG9jdW1lbnQpLmZpbmQoJy5jb3B5XzQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlQm90dG9tKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDUsX2ltZzUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZUJvdHRvbShwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXA1LCAkKGRvY3VtZW50KS5maW5kKCcuY29weV81JykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbml0U3dpcGVyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2dsb2JhbFdpZHRoICE9IF93aW5kb3cud2lkdGgoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKSsxO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICYmIHNjcmVlbi53aWR0aCA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vJCgnLm1vdmUnKS5hdHRyKCdzdHlsZScsICcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX29iai5oYXNDbGFzcygnbWFpbi1zbGlkZXJfaW5kZXgnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0U2VjdGlvbiA9IF9vYmoucGFyZW50cygnLnNsaWRlX19jb250ZW50JykubmV4dCgpLmZpbmQoJy5zbGlkZV9fY29udGVudC1pbm5lcicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBfb2JqLmZpbmQoJy5zd2lwZXItc2xpZGUtYWN0aXZlJykuaW5uZXJIZWlnaHQoKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcuc3dpcGVyLXNsaWRlLWFjdGl2ZSAubW92ZScpLmVhY2goZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZlZ2V0YWJsZSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gdmVnZXRhYmxlLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodFZlZyA9IHZlZ2V0YWJsZS5oZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHBvcyArIGhlaWdodFZlZyA+IGhlaWdodCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW0gPSB2ZWdldGFibGUuYXR0cignY2xhc3MnKS5yZXBsYWNlKCAvKF4uK1xcRCkoXFxkKykoXFxELiskKS9pLCckMicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKCcuY29weV9tb3ZlLmNvcHlfJytudW0rJycpLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkSW1nID0gICQoJy5jb3B5X21vdmUuY29weV8nK251bSsnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQoJy5zbGlkZV9fY29udGVudCcpLmlubmVySGVpZ2h0KCkgPCAkKCcubWFpbi1zbGlkZXInKS5pbm5lckhlaWdodCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmID0gJCgnLm1haW4tc2xpZGVyJykuaW5uZXJIZWlnaHQoKS0kKCcuc2xpZGVfX2NvbnRlbnQnKS5pbm5lckhlaWdodCgpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZEltZy5vZmZzZXQoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdmVnZXRhYmxlLm9mZnNldCgpLnRvcC1kaWZmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogdmVnZXRhYmxlLm9mZnNldCgpLmxlZnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZEltZy5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB2ZWdldGFibGUud2lkdGgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdmVnZXRhYmxlLmhlaWdodCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0ltZyA9IHZlZ2V0YWJsZS5jbG9uZSh0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbWcuYWRkQ2xhc3MoJ2NvcHlfbW92ZSBjb3B5XycrbnVtKycnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFNlY3Rpb24ucHJlcGVuZChuZXdJbWcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKCcuc2xpZGVfX2NvbnRlbnQnKS5pbm5lckhlaWdodCgpIDwgJCgnLm1haW4tc2xpZGVyJykuaW5uZXJIZWlnaHQoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9ICQoJy5tYWluLXNsaWRlcicpLmlubmVySGVpZ2h0KCktJCgnLnNsaWRlX19jb250ZW50JykuaW5uZXJIZWlnaHQoKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbWcub2Zmc2V0KCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHZlZ2V0YWJsZS5vZmZzZXQoKS50b3AtZGlmZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHZlZ2V0YWJsZS5vZmZzZXQoKS5sZWZ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbWcuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdmVnZXRhYmxlLndpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHZlZ2V0YWJsZS5oZWlnaHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW0gPSB2ZWdldGFibGUuYXR0cignY2xhc3MnKS5yZXBsYWNlKCAvKF4uK1xcRCkoXFxkKykoXFxELiskKS9pLCckMicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNvcHlfbW92ZS5jb3B5XycrbnVtKycnKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDE1MDAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggc2NyZWVuLndpZHRoIDwgMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMCApO1xuXG5cbiAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdFN3aXBlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3N3aXBlcjEgPSBuZXcgU3dpcGVyKCBfb2JqLmZpbmQoICcuc3dpcGVyLWNvbnRhaW5lcicgKSwge1xuICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiA3MDAsXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdDogJ2ZhZGUnLFxuICAgICAgICAgICAgICAgICAgICBmYWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcm9zc0ZhZGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXlEaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG5leHRCdXR0b246IF9vYmouZmluZCgnLnN3aXBlci1idXR0b24tbmV4dCcpWzBdLFxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfb2JqLmZpbmQoJy5zd2lwZXItYnV0dG9uLXByZXYnKVswXSxcbiAgICAgICAgICAgICAgICAgICAgb25Jbml0OiBmdW5jdGlvbiggc3dpcGVyICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0U2xpZGUgPSBzd2lwZXIuc2xpZGVzLmZpbHRlcignLnN3aXBlci1zbGlkZS1hY3RpdmUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uSW5kZXggPSBhY3RTbGlkZS5wYXJlbnRzKCcuc2xpZGVfX2NvbnRlbnQnKS5pbmRleCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRTZWN0aW9uID0gJCgnLnNsaWRlX19jb250ZW50JykuZXEoc2VjdGlvbkluZGV4KzEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX29iai5oYXNDbGFzcygnbWFpbi1zbGlkZXJfaW5kZXgnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSBhY3RTbGlkZS5pbm5lckhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0U2xpZGUuZmluZCgnLm1vdmUnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZlZ2V0YWJsZSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSB2ZWdldGFibGUucG9zaXRpb24oKS50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHRWZWcgPSB2ZWdldGFibGUuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHBvcyArIGhlaWdodFZlZyA+IGhlaWdodCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bSA9IHZlZ2V0YWJsZS5hdHRyKCdjbGFzcycpLnJlcGxhY2UoIC8oXi4rXFxEKShcXGQrKShcXEQuKyQpL2ksJyQyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdJbWcgPSB2ZWdldGFibGUuY2xvbmUodHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0ltZy5hZGRDbGFzcygnY29weV9tb3ZlIGNvcHlfJytudW0rJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFNlY3Rpb24ucHJlcGVuZChuZXdJbWcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggJCgnLnNsaWRlX19jb250ZW50JykuaW5uZXJIZWlnaHQoKSA8ICQoJy5tYWluLXNsaWRlcicpLmlubmVySGVpZ2h0KCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmID0gJCgnLm1haW4tc2xpZGVyJykuaW5uZXJIZWlnaHQoKS0kKCcuc2xpZGVfX2NvbnRlbnQnKS5pbm5lckhlaWdodCgpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW1nLm9mZnNldCgge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdmVnZXRhYmxlLm9mZnNldCgpLnRvcC1kaWZmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHZlZ2V0YWJsZS5vZmZzZXQoKS5sZWZ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0ltZy5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB2ZWdldGFibGUud2lkdGgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHZlZ2V0YWJsZS5oZWlnaHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25TbGlkZUNoYW5nZVN0YXJ0OiBmdW5jdGlvbiggc3dpcGVyICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0U2xpZGUgPSBzd2lwZXIuc2xpZGVzLmZpbHRlcignLnN3aXBlci1zbGlkZS1hY3RpdmUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uSW5kZXggPSBhY3RTbGlkZS5wYXJlbnRzKCcuc2xpZGVfX2NvbnRlbnQnKS5pbmRleCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRTZWN0aW9uID0gJCgnLnNsaWRlX19jb250ZW50JykuZXEoc2VjdGlvbkluZGV4KzEpLmZpbmQoJy5zbGlkZV9fY29udGVudC1pbm5lcicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuY29weV9tb3ZlJykucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBhY3RTbGlkZS5maW5kKCcubWFpbi1zbGlkZXJfX2NvbnRlbnRfcHVyZScpLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLnN3aXBlci1idXR0b24tcHJldicpLmFkZENsYXNzKCdjb2xvcmVkX3B1cmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5zd2lwZXItYnV0dG9uLW5leHQnKS5hZGRDbGFzcygnY29sb3JlZF9wdXJlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5zd2lwZXItYnV0dG9uLXByZXYnKS5yZW1vdmVDbGFzcygnY29sb3JlZF9wdXJlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcuc3dpcGVyLWJ1dHRvbi1uZXh0JykucmVtb3ZlQ2xhc3MoJ2NvbG9yZWRfcHVyZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25TbGlkZUNoYW5nZUVuZDogZnVuY3Rpb24oIHN3aXBlciApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdFNsaWRlID0gc3dpcGVyLnNsaWRlcy5maWx0ZXIoJy5zd2lwZXItc2xpZGUtYWN0aXZlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbkluZGV4ID0gYWN0U2xpZGUucGFyZW50cygnLnNsaWRlX19jb250ZW50JykuaW5kZXgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0U2VjdGlvbiA9ICQoJy5zbGlkZV9fY29udGVudCcpLmVxKHNlY3Rpb25JbmRleCsxKS5maW5kKCcuc2xpZGVfX2NvbnRlbnQtaW5uZXInKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX29iai5oYXNDbGFzcygnbWFpbi1zbGlkZXJfaW5kZXgnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSBhY3RTbGlkZS5pbm5lckhlaWdodCgpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RTbGlkZS5maW5kKCcubW92ZScpLmVhY2goZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmVnZXRhYmxlID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IHZlZ2V0YWJsZS5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodFZlZyA9IHZlZ2V0YWJsZS5oZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggcG9zICsgaGVpZ2h0VmVnID4gaGVpZ2h0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtID0gdmVnZXRhYmxlLmF0dHIoJ2NsYXNzJykucmVwbGFjZSggLyheLitcXEQpKFxcZCspKFxcRC4rJCkvaSwnJDInKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0ltZyA9IHZlZ2V0YWJsZS5jbG9uZSh0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW1nLmFkZENsYXNzKCdjb3B5X21vdmUgY29weV8nK251bSsnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0U2VjdGlvbi5wcmVwZW5kKG5ld0ltZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKCcuc2xpZGVfX2NvbnRlbnQnKS5pbm5lckhlaWdodCgpIDwgJCgnLm1haW4tc2xpZGVyJykuaW5uZXJIZWlnaHQoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmYgPSAkKCcubWFpbi1zbGlkZXInKS5pbm5lckhlaWdodCgpLSQoJy5zbGlkZV9fY29udGVudCcpLmlubmVySGVpZ2h0KClcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbWcub2Zmc2V0KCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB2ZWdldGFibGUub2Zmc2V0KCkudG9wLWRpZmYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogdmVnZXRhYmxlLm9mZnNldCgpLmxlZnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW1nLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHZlZ2V0YWJsZS53aWR0aCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdmVnZXRhYmxlLmhlaWdodCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfbW92ZUJvdHRvbSA9IGZ1bmN0aW9uKCB4UGVyY2VudCwgeVBlcmNlbnQsIHN0ZXAsIGltYWdlICkge1xuXG4gICAgICAgICAgICAgICAgaW1hZ2UuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGUoICcgKyAtKCB4UGVyY2VudCAqIHN0ZXAgKSArICdweCwnICsgLSggeVBlcmNlbnQgKiBzdGVwICkgKyAncHggKScsXG4gICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAnICsgLSggeFBlcmNlbnQgKiBzdGVwICkgKyAncHgsICcgKyAtKCB5UGVyY2VudCAqIHN0ZXAgKSArICdweCAgKSdcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfbW92ZVRvcCA9IGZ1bmN0aW9uKCB4UGVyY2VudCwgeVBlcmNlbnQsIHN0ZXAsIGltYWdlICkge1xuXG4gICAgICAgICAgICAgICAgaW1hZ2UuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGUoICcgKyAoIHhQZXJjZW50ICogc3RlcCApICsgJ3B4ICwnICsgKCB5UGVyY2VudCAqIHN0ZXAgKSArICdweCAgKScsXG4gICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAnICsgKCB4UGVyY2VudCAqIHN0ZXAgKSArICdweCAsICcgKyAoIHlQZXJjZW50ICogc3RlcCApICsgJ3B4ICApJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRIZWlnaHQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSBfd2luZG93LmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBfb2JqLnBhcmVudHMoJy5jYXNlJykubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCArIGhlaWdodC81XG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuXG5cbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIEV4cGVydGlzZVNsaWRlciA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX3N3aXBlckluaXQgPSBmYWxzZSxcbiAgICAgICAgICAgIF9zd2lwZXIsXG4gICAgICAgICAgICBfc2NyZWVuVmFsID0gbnVsbDtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IF9zY3JlZW5WYWwgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggIV9zd2lwZXJJbml0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbml0U3dpcGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zd2lwZXJJbml0ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9zd2lwZXJJbml0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kZXN0cm95U3dpcGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zd2lwZXJJbml0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0U3dpcGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc3dpcGVyID0gbmV3IFN3aXBlciggX29iai5maW5kKCAnLnN3aXBlci1jb250YWluZXInICksIHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMS45LFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKHN3aXBlciwgZXZlbnQpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnb25DbGljaycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpY2tlZCA9IHN3aXBlci5jbGlja2VkSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2lwZXIuYWN0aXZlSW5kZXggPSBjbGlja2VkO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpcGVyLnVwZGF0ZUNsYXNzZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zd2lwZXIuc2xpZGVUbyhjbGlja2VkLCAyMDAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9kZXN0cm95U3dpcGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc3dpcGVyLmRlc3Ryb3koIHRydWUsIHRydWUpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldFNjcmVlblZhbHVlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCBfb2JqLnBhcmVudHMoJy5leHBlcnRpc2VfMycpLmxlbmd0aCApICB7XG5cbiAgICAgICAgICAgICAgICAgICAgX3NjcmVlblZhbCA9IDEwMjRcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX3NjcmVlblZhbCA9IDc2OFxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9zZXRTY3JlZW5WYWx1ZSgpO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCBfc2NyZWVuVmFsICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCAhX3N3aXBlckluaXQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbml0U3dpcGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc3dpcGVySW5pdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgU2Nyb2xsRG93biA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3Njcm9sbGVyID0gJCggJ2h0bWwsIGJvZHknICksXG4gICAgICAgICAgICBfbWFpblNsaWRlclBpYyA9ICQoJy5tYWluLXNsaWRlcl9faW5uZXItcGljJyk7XG5cbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3Njcm9sbGVyLmFuaW1hdGUoIHsgc2Nyb2xsVG9wOiBfbWFpblNsaWRlclBpYy5pbm5lckhlaWdodCgpIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgUmV2aWV3c1NsaWRlciA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX3N3aXBlcjtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0U3dpcGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc3dpcGVyID0gbmV3IFN3aXBlciggX29iai5maW5kKCAnLnN3aXBlci1jb250YWluZXInICksIHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiAnZmFkZScsXG4gICAgICAgICAgICAgICAgICAgIGZhZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzRmFkZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX29iai5maW5kKCcuc3dpcGVyLWJ1dHRvbi1uZXh0JylbMF0sXG4gICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246IF9vYmouZmluZCgnLnN3aXBlci1idXR0b24tcHJldicpWzBdXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfaW5pdFN3aXBlcigpO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBMb2NhdGlvbiA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX21hcCA9IF9vYmouZmluZCgnI2NvbnRhY3QtZ29vZ2xlLW1hcCcpLFxuICAgICAgICAgICAgX21hcExhdCA9IF9tYXAuZGF0YSgnbWFwLWxhdCcpLFxuICAgICAgICAgICAgX21hcExuZyA9IF9tYXAuZGF0YSgnbWFwLWxuZycpLFxuICAgICAgICAgICAgX21hcFpvb20gPSBfbWFwLmRhdGEoJ21hcC16b29tJyksXG4gICAgICAgICAgICBfYnRuID0gJCgnLmNvbnRhY3RzX19jaXRpZXMgLmJ0bicpLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgbWFwLFxuICAgICAgICAgICAgbWFya2VyO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuXG5cbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lciggd2luZG93LCAncmVzaXplJywgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBfYnRuLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG15TGF0TG5nID0ge2xhdDogX2J0bi5maWx0ZXIoJy5hY3RpdmUnKS5kYXRhKCdtYXAtbGF0JyksIGxuZzogX2J0bi5maWx0ZXIoJy5hY3RpdmUnKS5kYXRhKCdtYXAtbG5nJyl9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuc2V0Q2VudGVyKCBteUxhdExuZyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2Zmc2V0Q2VudGVyKCBtYXAuZ2V0Q2VudGVyKCksIDAsIDUwKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2J0bi5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKGN1ckl0ZW0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9idG4ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG15TGF0TG5nID0ge2xhdDogJCh0aGlzKS5kYXRhKCdtYXAtbGF0JyksIGxuZzogJCh0aGlzKS5kYXRhKCdtYXAtbG5nJyl9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlci5zZXRQb3NpdGlvbihteUxhdExuZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcihtYXAsICdyZXNpemUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnNldENlbnRlcihteUxhdExuZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vZmZzZXRDZW50ZXIoIG1hcC5nZXRDZW50ZXIoKSwgMCwgNTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29mZnNldENlbnRlciA9IGZ1bmN0aW9uICggbGF0bG5nLCBvZmZzZXR4LCBvZmZzZXR5ICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gTWF0aC5wb3coIDIsIG1hcC5nZXRab29tKCkgKSxcbiAgICAgICAgICAgICAgICAgICAgd29ybGRDb29yZGluYXRlQ2VudGVyID0gbWFwLmdldFByb2plY3Rpb24oKS5mcm9tTGF0TG5nVG9Qb2ludCggbGF0bG5nICksXG4gICAgICAgICAgICAgICAgICAgIHBpeGVsT2Zmc2V0ID0gbmV3IGdvb2dsZS5tYXBzLlBvaW50KCAoIG9mZnNldHgvc2NhbGUgKSB8fCAwLCAoIG9mZnNldHkvc2NhbGUgKSB8fCAwICksXG4gICAgICAgICAgICAgICAgICAgIHdvcmxkQ29vcmRpbmF0ZU5ld0NlbnRlciA9IG5ldyBnb29nbGUubWFwcy5Qb2ludChcblxuICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRDb29yZGluYXRlQ2VudGVyLnggLSBwaXhlbE9mZnNldC54LFxuICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRDb29yZGluYXRlQ2VudGVyLnkgKyBwaXhlbE9mZnNldC55XG5cbiAgICAgICAgICAgICAgICAgICAgKSxcblxuICAgICAgICAgICAgICAgICAgICBuZXdDZW50ZXIgPSBtYXAuZ2V0UHJvamVjdGlvbigpLmZyb21Qb2ludFRvTGF0TG5nKCB3b3JsZENvb3JkaW5hdGVOZXdDZW50ZXIgKTtcblxuICAgICAgICAgICAgICAgIG1hcC5zZXRDZW50ZXIoIG5ld0NlbnRlciApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXRNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1c3RvbU1hcFR5cGUgPSBuZXcgZ29vZ2xlLm1hcHMuU3R5bGVkTWFwVHlwZShbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImh1ZVwiOiBcIiNiMDAwNDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNhdHVyYXRpb25cIjogNjBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsaWdodG5lc3NcIjogLTQwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjZmY2ZmE0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJ3YXRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjQjYxNTMwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJyb2FkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiNCNjE1MzBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge31cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInJvYWQubG9jYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiI0I2MTUzMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlnaHRuZXNzXCI6IDZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmhpZ2h3YXlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiI0I2MTUzMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlnaHRuZXNzXCI6IC0yNVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuYXJ0ZXJpYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiI0I2MTUzMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlnaHRuZXNzXCI6IC0xMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInRyYW5zaXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiI0I2MTUzMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlnaHRuZXNzXCI6IDcwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwidHJhbnNpdC5saW5lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiNCNjE1MzBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImxpZ2h0bmVzc1wiOiA5MFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcImFkbWluaXN0cmF0aXZlLmNvdW50cnlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInZpc2liaWxpdHlcIjogXCJvZmZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInRyYW5zaXQuc3RhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImxhYmVscy50ZXh0LnN0cm9rZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidmlzaWJpbGl0eVwiOiBcIm9mZlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwidHJhbnNpdC5zdGF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjZmY2ZmE0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdDdXN0b20gU3R5bGUnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGN1c3RvbU1hcFR5cGVJZCA9ICdjdXN0b21fc3R5bGUnO1xuXG4gICAgICAgICAgICAgICAgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcCggX21hcFswXSwge1xuICAgICAgICAgICAgICAgICAgICB6b29tOiBfbWFwWm9vbSxcbiAgICAgICAgICAgICAgICAgICAgem9vbUNvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtYXBUeXBlQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHN0cmVldFZpZXdDb250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcm90YXRlQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcjoge2xhdDogX21hcExhdCwgbG5nOiBfbWFwTG5nfSxcbiAgICAgICAgICAgICAgICAgICAgbWFwVHlwZUNvbnRyb2xPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXBUeXBlSWRzOiBbZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVAsIGN1c3RvbU1hcFR5cGVJZF1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7bGF0OiBfbWFwTGF0LCBsbmc6IF9tYXBMbmd9LFxuICAgICAgICAgICAgICAgICAgICBtYXA6IG1hcFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbWFwLm1hcFR5cGVzLnNldChjdXN0b21NYXBUeXBlSWQsIGN1c3RvbU1hcFR5cGUpO1xuICAgICAgICAgICAgICAgIG1hcC5zZXRNYXBUeXBlSWQoY3VzdG9tTWFwVHlwZUlkKTtcblxuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyT25jZShtYXAsICdpZGxlJywgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBfYnRuLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG15TGF0TG5nID0ge2xhdDogX2J0bi5maWx0ZXIoJy5hY3RpdmUnKS5kYXRhKCdtYXAtbGF0JyksIGxuZzogX2J0bi5maWx0ZXIoJy5hY3RpdmUnKS5kYXRhKCdtYXAtbG5nJyl9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuc2V0Q2VudGVyKCBteUxhdExuZyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2Zmc2V0Q2VudGVyKCBtYXAuZ2V0Q2VudGVyKCksIDAsIDUwKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lcih3aW5kb3csICdsb2FkJywgX2luaXRNYXApO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRJbm5lciA9ICQoJy5jb250YWN0c19faW5uZXInKSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudEluZm8gPSAkKCcuY29udGFjdHNfX2luZm8nKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gNzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjb250ZW50SW5uZXIud2lkdGgoKSA+IGNvbnRlbnRJbmZvLmlubmVySGVpZ2h0KCkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5oZWlnaHQoIGNvbnRlbnRJbm5lci53aWR0aCgpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLndpZHRoKCBjb250ZW50SW5uZXIud2lkdGgoKSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBjb250ZW50SW5mby5pbm5lckhlaWdodCgpID4gY29udGVudEluZm8uaW5uZXJXaWR0aCgpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmhlaWdodCggY29udGVudEluZm8uaW5uZXJIZWlnaHQoKSsoY29udGVudEluZm8uaW5uZXJIZWlnaHQoKSowLjYpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai53aWR0aCggY29udGVudEluZm8uaW5uZXJIZWlnaHQoKSsoY29udGVudEluZm8uaW5uZXJIZWlnaHQoKSowLjYpICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmhlaWdodCggY29udGVudEluZm8uaW5uZXJXaWR0aCgpKyhjb250ZW50SW5mby5pbm5lcldpZHRoKCkqMC42KSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoud2lkdGgoIGNvbnRlbnRJbmZvLmlubmVyV2lkdGgoKSsoY29udGVudEluZm8uaW5uZXJXaWR0aCgpKjAuNikgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmouYXR0cignc3R5bGUnLCcnKTtcblxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBNYWluU2xpZGVyUGljdHVyZXMgPSBmdW5jdGlvbiAoIG9iaiApIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9zbGlkZSA9IF9vYmouZmluZCgnLnN3aXBlci1zbGlkZScpLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfYWRkUGljdHVyZXMoKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FkZFBpY3R1cmVzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc2xpZGUuZmluZCgnLm1vdmUnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVZpZXcgPSBjdXJJdGVtLmRhdGEoJ3ZpZXdzJyk7XG5cblxuICAgICAgICAgICAgICAgICAgICBpZiggZGF0YVZpZXcgIT0gdW5kZWZpbmVkICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBpID0gMDsgaSA8IGRhdGFWaWV3Lmxlbmd0aDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5lZWRWaWV3O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRWaWV3ID0gZGF0YVZpZXdbMl07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgJiYgX3dpbmRvdy53aWR0aCgpID49NzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRWaWV3ID0gZGF0YVZpZXdbMV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF93aW5kb3cud2lkdGgoKSA8IDc2OCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZWVkVmlldyA9IGRhdGFWaWV3WzBdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBuZWVkVmlldy51cmwubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtaW1hZ2UnOiAndXJsKFwiJysgbmVlZFZpZXcudXJsICsnXCIpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG5lZWRWaWV3LnBvc2l0aW9ucykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5jc3MoIGtleSwgbmVlZFZpZXcucG9zaXRpb25zW2tleV0vMTAwICsgJ2VtJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX2FkZFBpY3R1cmVzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7XG4iLCIoIGZ1bmN0aW9uKCkge1xuXG4gICAgJCggZnVuY3Rpb24oKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgICAkLmVhY2goICQoJy5jb250YWN0c19fZm9ybScpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBGb3JtVmFsaWRhdG9yKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG5cbiAgICB9ICk7XG5cbiAgICB2YXIgRm9ybVZhbGlkYXRvciA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9mb3JtID0gIF9vYmouZmluZCgnZm9ybScpLFxuICAgICAgICAgICAgX2ZpZWxkcyA9IF9vYmouZmluZCgnaW5wdXQ6cmVxdWlyZWQsIHRleHRhcmVhOnJlcXVpcmVkLCBpbnB1dFthcmlhLXJlcXVpcmVkPVwidHJ1ZVwiXSwgdGV4dGFyZWFbYXJpYS1yZXF1aXJlZD1cInRydWVcIl0nKSxcbiAgICAgICAgICAgIF9lcnJvck1lc3NhZ2UgPSBfb2JqLmZpbmQoJy5jb250YWN0c19fZmllbGRzLWVycm9yJyksXG4gICAgICAgICAgICBfdGV4dGFyZWFGaWVsZCA9ICBfb2JqLmZpbmQoJy5jb250YWN0c19fZmllbGRzLXRleHRhcmVhJyksXG4gICAgICAgICAgICBfdGV4dGFyZWFIZWlnaHQgPSAgX29iai5maW5kKCcuY29udGFjdHNfX2ZpZWxkcy10ZXh0YXJlYS1oZWlnaHQnKSxcbiAgICAgICAgICAgIF9idG5TdWNjZXNzID0gJCgnLmNvbnRhY3RzX19zdWNjZXNzIC5idG4nKSxcbiAgICAgICAgICAgIF9pbnB1dE5hbWUgPSBfb2JqLmZpbmQoJ2lucHV0I25hbWUnKSxcbiAgICAgICAgICAgIF9pbnB1dENvbnRhY3QgPSBfb2JqLmZpbmQoJ2lucHV0I2NvbnRhY3QnKSxcbiAgICAgICAgICAgIF9pbnB1dE1lc3NhZ2UgPSBfb2JqLmZpbmQoJ3RleHRhcmVhI21lc3NhZ2UnKSxcbiAgICAgICAgICAgIF9yZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBfY29uc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX2FkZEF0dHJpYnV0ZXNFcnJvcigpO1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FkZE5vdFRvdWNoZWRDbGFzcyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9maWVsZHMuZWFjaCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoICQodGhpcykudmFsKCkgPT09ICcnICl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoICdub3QtdG91Y2hlZCcgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2ZpZWxkcy5lYWNoKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX3ZhbGlkYXRlRmllbGQoICQoIHRoaXMgKSApO1xuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FkZEF0dHJpYnV0ZXNFcnJvciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX2lucHV0TmFtZS5hdHRyKCdkYXRhLWVycm9yJywncGxlYXNlIGFkZCB5b3VyIG5hbWUnKTtcbiAgICAgICAgICAgICAgICBfaW5wdXRDb250YWN0LmF0dHIoJ2RhdGEtZXJyb3InLCdwbGVhc2UgYWRkIHlvdXIgcGhvbmUgb3IgZW1haWwnKTtcbiAgICAgICAgICAgICAgICBfaW5wdXRNZXNzYWdlLmF0dHIoJ2RhdGEtZXJyb3InLCdwbGVhc2UgYWRkIHlvdXIgbWVzc2FnZScpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oICdtYWlsc2VudC53cGNmNycsIGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIF9maWVsZHMudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgX3RleHRhcmVhRmllbGQuYXR0cignc3R5bGUnLCcnKTtcbiAgICAgICAgICAgICAgICAgICAgX3RleHRhcmVhSGVpZ2h0Lmh0bWwoJycpO1xuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBfZm9ybS5vbigge1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXQ6IGZ1bmN0aW9uKCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2FkZE5vdFRvdWNoZWRDbGFzcygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2ZpZWxkcy5oYXNDbGFzcygnbm90LXRvdWNoZWQnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLm5vdC10b3VjaGVkOmZpcnN0JykuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZXJyb3JNZXNzYWdlLnRleHQoIF9vYmouZmluZCgnLm5vdC10b3VjaGVkOmZpcnN0JykuZGF0YSgnZXJyb3InKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9lcnJvck1lc3NhZ2UuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9lcnJvck1lc3NhZ2UucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9maWVsZHMub24oIHtcbiAgICAgICAgICAgICAgICAgICAga2V5cHJlc3M6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCAnbm90LXRvdWNoZWQnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZXJyb3JNZXNzYWdlLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XG5cblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBrZXl1cDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF92YWxpZGF0ZUZpZWxkKCAkKCB0aGlzICkgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuU3VjY2Vzcy5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX3RleHRhcmVhRmllbGQub24oIHtcbiAgICAgICAgICAgICAgICAgICAga2V5dXA6IGZ1bmN0aW9uKCBlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSAkKHRoaXMpLmZpbmQoJ3RleHRhcmVhJykudmFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF90ZXh0YXJlYUhlaWdodC5odG1sKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90ZXh0YXJlYUZpZWxkLmNzcyggJ2hlaWdodCcsIF90ZXh0YXJlYUhlaWdodC5pbm5lckhlaWdodCgpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGUua2V5Q29kZSA9PSAxMyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygwMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGV4dGFyZWFGaWVsZC5jc3MoICdoZWlnaHQnLCBfdGV4dGFyZWFIZWlnaHQuaW5uZXJIZWlnaHQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9tYWtlTm90VmFsaWQgPSBmdW5jdGlvbiAoIGZpZWxkICkge1xuICAgICAgICAgICAgICAgIGZpZWxkLmFkZENsYXNzKCAnbm90LXZhbGlkJyApO1xuICAgICAgICAgICAgICAgIGZpZWxkLnJlbW92ZUNsYXNzKCAndmFsaWQnICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX21ha2VWYWxpZCA9IGZ1bmN0aW9uICggZmllbGQgKSB7XG4gICAgICAgICAgICAgICAgZmllbGQucmVtb3ZlQ2xhc3MoICdub3QtdmFsaWQnICk7XG4gICAgICAgICAgICAgICAgZmllbGQuYWRkQ2xhc3MoICd2YWxpZCcgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfdmFsaWRhdGVFbWFpbCA9IGZ1bmN0aW9uICggZW1haWwgKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlLnRlc3QoZW1haWwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF92YWxpZGF0ZUZpZWxkID0gZnVuY3Rpb24gKCBmaWVsZCwgZSApIHtcblxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZmllbGQuYXR0ciggJ3R5cGUnKTtcblxuICAgICAgICAgICAgICAgIGlmKCB0eXBlID09PSAnZW1haWwnIHx8IHR5cGUgPT09ICd0ZXh0JyApe1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBmaWVsZC52YWwoKSA9PT0gJycgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9tYWtlTm90VmFsaWQoIGZpZWxkICk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCB0eXBlID09PSAnZW1haWwnICl7XG4gICAgICAgICAgICAgICAgICAgIGlmKCAhX3ZhbGlkYXRlRW1haWwoIGZpZWxkLnZhbCgpICkgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9tYWtlTm90VmFsaWQoIGZpZWxkICk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfbWFrZVZhbGlkKCBmaWVsZCApO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG4gICAgICAgIF9zZWxmLmNoZWNrVmFsaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdmFsaWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBfZmllbGRzLmVhY2goIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKCB0aGlzICkucmVtb3ZlQ2xhc3MoICdub3QtdG91Y2hlZCcgKTtcbiAgICAgICAgICAgICAgICBpZiggJCggdGhpcyApLmhhc0NsYXNzKCAnbm90LXZhbGlkJyApICl7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIHJldHVybiB2YWxpZDtcbiAgICAgICAgfTtcblxuICAgICAgICBfY29uc3RydWN0b3IoKTtcbiAgICB9O1xuXG59ICkoKTtcblxuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
