"use strict";!function(){$(function(){new e($(".preloader")),$.each($(".site__index-page"),function(){new t($(this))}),$.each($("body"),function(){new n($(this))}),$.each($(".site__header"),function(){new i($(this))}),$.each($(".main-slider"),function(){new o($(this)),new l($(this))}),$.each($(".expertise__items"),function(){new s($(this))}),$.each($(".reviews"),function(){new r($(this))}),$.each($(".contacts__map"),function(){new d($(this))}),$.each($(".case .main-slider__btn-down"),function(){new a($(this))}),$.each($(".squad__items"),function(){new c($(this))})});var e=function(e){var t=this,n=$(window),i=e,o=$("body"),s=function(){n.on({load:function(){r()}})},a=function(){o[0].preloader=t,s()},r=function(){i.addClass("preloader_loaded"),setTimeout(function(){i.remove(),$(".site").addClass("site__loaded")},500)};a()},t=function(e){var t=this,n=e,i=$(window),o=$("html, body"),s=!1,a=(n.find(".slide__content"),$(".main-slider")),r=a.find(".main-slider__btn-down"),d=function(){i.on({load:function(){i.width()>=1024&&(s||(l(),f(),s=!0))},resize:function(){i.width()>=1024?(s||(l(),s=!0),f()):s&&(c(),s=!1)}}),r.on({click:function(){return i.width()>=1024?$(this).parents(".case").length?(o.stop(!0,!1),o.animate({scrollTop:a.innerHeight()},300)):$.fn.fullpage.moveTo(2):(o.stop(!0,!1),o.animate({scrollTop:a.innerHeight()},300)),!1}})},l=function(){$("#fullpage").fullpage({scrollOverflow:!0,sectionSelector:".slide__content",onLeave:function(e,t,n,i,o){t>1?($(".logo_index").hide(),$(".move").addClass("moves_up animated_moves")):($(".logo_index").show(),setTimeout(function(){$(".move").removeClass("moves_up")},300),setTimeout(function(){$(".move").removeClass("animated_moves")},800));var s=$(".slide__content").eq(t-1).find(".slide__content-inner>div>div");s.hasClass("reviews")&&s.find(".reviews__item").addClass("animation"),t>2&&$(".about").addClass("visible")}})},c=function(){$.fn.fullpage.destroy("all")},f=function(){},h=function(){n[0].obj=t,d()};h()},n=function(e){var t=this,n=e,i=$(window),o=$(".main-slider"),s=$(".case__hero"),a=n,r=function(){i.on({resize:function(){i.width()>=768?l():(a.css({"font-size":"75px"}),o.css({"font-size":"75px"}),s.css({"font-size":"75px"}))}})},d=function(){r(),i.width()>=768&&l(),n[0].obj=t},l=function(){var e;e=i.height()>500?100*(window.innerHeight/800)+"px":"62.5px",parseInt(e)>100&&(e="100px"),a.css({"font-size":e}),o.css({"font-size":e}),s.css({"font-size":e})};d()},i=function(e){var t,n=this,i=e,o=$(window),s=i.find(".site__header__btn"),a=i.find(".site__header-menu"),r=$("html"),d=$(".site"),l=($("body"),function(){i.removeClass("opened"),o.width()>=1024&&$(".site__index-page").length?$.fn.fullpage.setAllowScrolling(!0):setTimeout(function(){d.height()>o.height()&&r.css({"overflow-y":""}),d.css({height:""}),o.scrollTop(t)},10),a.attr("style","")}),c=function(){o.on({scroll:function(){o.scrollTop()>0?i.addClass("fixed"):i.removeClass("fixed")},resize:function(){o.width()>=1024?h():$(".site__content").attr("style","")}}),s.on({click:function(){return i.hasClass("opened")?l():f(),!1}})},f=function(){i.addClass("opened"),o.width()>=1024&&$(".site__index-page").length?$.fn.fullpage.setAllowScrolling(!1):(t=o.scrollTop(),setTimeout(function(){d.height()>o.height()&&r.css({"overflow-y":"scroll"}),setTimeout(function(){d.css({height:"100%"})},10)},300))},h=function(){i.find(".site__header-title").length&&$(".site__content").css({"padding-top":$(".site__header-title").outerHeight(!0)})},p=function(){c(),i[0].obj=n,o.scrollTop()>i.innerHeight()/2?i.addClass("fixed"):i.removeClass("fixed"),o.width()>=1024&&h()};p()},o=function(e){var t,n=this,i=e,o=$(window),s=$(".site__header"),a=15,r=10,d=5,l=20,c=25,f=0,h=function(){$(document).on("mousemove",".main-slider .swiper-slide",function(e){e=e||window.event;var t=$(this),n=t.find(".move1:not(.not_move)"),f=t.find(".move2:not(.not_move)"),h=t.find(".move3:not(.not_move)"),p=t.find(".move4:not(.not_move)"),g=t.find(".move5:not(.not_move)");if(o.width()>1024&&!s.hasClass("opened")&&!$(document).find(".move").hasClass("animated_moves")){var _=e.clientX,w=e.clientY,v=i.width()/2,y=i.height()/2,x=(_-v)/v,C=(w-y)/y;o.outerWidth()>1024&&(u(x,C,a,n),u(x,C,a,$(document).find(".copy_1")),m(x,C,r,f),m(x,C,r,$(document).find(".copy_2")),m(x,C,d,h),m(x,C,d,$(document).find(".copy_3")),u(x,C,l,p),u(x,C,l,$(document).find(".copy_4")),u(x,C,c,g),u(x,C,c,$(document).find(".copy_5")))}}),o.on({load:function(){p(),f=o.width()},resize:function(){if(f!=o.width()&&(f=o.width()+1,o.width()<1024&&g()),o.width()>=1024&&screen.width>=1024&&i.css({height:""}),i.hasClass("main-slider_index")){var e=i.parents(".slide__content").next().find(".slide__content-inner"),t=i.find(".swiper-slide-active").innerHeight();o.width()<1024&&setTimeout(function(){i.find(".swiper-slide-active .move").each(function(){var n=$(this),i=n.position().top,o=n.height();if(i+o>t){var s=n.attr("class").replace(/(^.+\D)(\d+)(\D.+$)/i,"$2"),a=0;if($(".copy_move.copy_"+s).length){var r=$(".copy_move.copy_"+s);$(".slide__content").innerHeight()<$(".main-slider").innerHeight()&&(a=$(".main-slider").innerHeight()-$(".slide__content").innerHeight()),r.offset({top:n.offset().top-a,left:n.offset().left}),r.css({bottom:"auto",right:"auto",width:n.width(),height:n.height()})}else{var d=n.clone(!0);d.addClass("copy_move copy_"+s),e.prepend(d),$(".slide__content").innerHeight()<$(".main-slider").innerHeight()&&(a=$(".main-slider").innerHeight()-$(".slide__content").innerHeight()),d.offset({top:n.offset().top-a,left:n.offset().left}),d.css({bottom:"auto",right:"auto",width:n.width(),height:n.height()})}}else{var s=n.attr("class").replace(/(^.+\D)(\d+)(\D.+$)/i,"$2");$(".copy_move.copy_"+s).remove()}})},500)}}}),window.addEventListener("orientationchange",function(){setTimeout(function(){screen.width<1024&&g()},500)},!1)},p=function(){t=new Swiper(i.find(".swiper-container"),{spaceBetween:0,slidesPerView:1,speed:700,loop:!0,effect:"fade",fade:{crossFade:!0},autoplayDisableOnInteraction:!1,nextButton:i.find(".swiper-button-next")[0],prevButton:i.find(".swiper-button-prev")[0],onInit:function(e){var t=e.slides.filter(".swiper-slide-active"),n=t.parents(".slide__content").index(),s=$(".slide__content").eq(n+1);if(o.width()<1024&&i.hasClass("main-slider_index")){var a=t.innerHeight();t.find(".move").each(function(){var e=$(this),t=e.position().top,n=e.height();if(t+n>a){var i=e.attr("class").replace(/(^.+\D)(\d+)(\D.+$)/i,"$2"),o=0,r=e.clone(!0);r.addClass("copy_move copy_"+i),s.prepend(r),$(".slide__content").innerHeight()<$(".main-slider").innerHeight()&&(o=$(".main-slider").innerHeight()-$(".slide__content").innerHeight()),r.offset({top:e.offset().top-o,left:e.offset().left}),r.css({bottom:"auto",right:"auto",width:e.width(),height:e.height()})}})}},onSlideChangeStart:function(e){var t=e.slides.filter(".swiper-slide-active"),n=t.parents(".slide__content").index();$(".slide__content").eq(n+1).find(".slide__content-inner");$(".copy_move").remove(),t.find(".main-slider__content_pure").length?(i.find(".swiper-button-prev").addClass("colored_pure"),i.find(".swiper-button-next").addClass("colored_pure")):(i.find(".swiper-button-prev").removeClass("colored_pure"),i.find(".swiper-button-next").removeClass("colored_pure"))},onSlideChangeEnd:function(e){var t=e.slides.filter(".swiper-slide-active"),n=t.parents(".slide__content").index(),s=$(".slide__content").eq(n+1).find(".slide__content-inner");o.width()<1024&&setTimeout(function(){if(i.hasClass("main-slider_index")){var e=t.innerHeight();t.find(".move").each(function(){var t=$(this),n=t.position().top,i=t.height();if(n+i>e){var o=t.attr("class").replace(/(^.+\D)(\d+)(\D.+$)/i,"$2"),a=0,r=t.clone(!0);r.addClass("copy_move copy_"+o),s.prepend(r),$(".slide__content").innerHeight()<$(".main-slider").innerHeight()&&(a=$(".main-slider").innerHeight()-$(".slide__content").innerHeight()),r.offset({top:t.offset().top-a,left:t.offset().left}),r.css({bottom:"auto",right:"auto",width:t.width(),height:t.height()})}})}},400)}})},u=function(e,t,n,i){i.css({"-webkit-transform":"translate( "+-(e*n)+"px,"+-(t*n)+"px )",transform:"translate( "+-(e*n)+"px, "+-(t*n)+"px  )"})},m=function(e,t,n,i){i.css({"-webkit-transform":"translate( "+e*n+"px ,"+t*n+"px  )",transform:"translate( "+e*n+"px , "+t*n+"px  )"})},g=function(){var e=o.height();i.parents(".case").length?i.css({height:e+e/5}):i.css({height:e})},_=function(){i[0].obj=n,h(),o.width()<1024&&g()};_()},s=function(e){var t,n=this,i=e,o=$(window),s=!1,a=null,r=function(){o.on({resize:function(){o.width()<a?s||(d(),s=!0):s&&(l(),s=!1)}})},d=function(){t=new Swiper(i.find(".swiper-container"),{slidesPerView:1.9,centeredSlides:!0,onClick:function(e,n){var i=e.clickedIndex;e.activeIndex=i,e.updateClasses(),t.slideTo(i,200,!1)}})},l=function(){t.destroy(!0,!0)},c=function(){a=i.parents(".expertise_3").length?1024:768},f=function(){i[0].obj=n,c(),r(),o.width()<a&&(s||(d(),s=!0))};f()},a=function(e){var t=this,n=e,i=$("html, body"),o=$(".main-slider__inner-pic"),s=function(){n.on({click:function(){return i.animate({scrollTop:o.innerHeight()},300),!1}})},a=function(){n[0].obj=t,s()};a()},r=function(e){var t,n=this,i=e,o=$(window),s=function(){o.on({resize:function(){}})},a=function(){t=new Swiper(i.find(".swiper-container"),{slidesPerView:1,spaceBetween:30,speed:500,loop:!0,effect:"fade",fade:{crossFade:!0},autoplayDisableOnInteraction:!1,nextButton:i.find(".swiper-button-next")[0],prevButton:i.find(".swiper-button-prev")[0]})},r=function(){i[0].obj=n,s(),a()};r()},d=function(e){var t,n,i=e,o=i.find("#contact-google-map"),s=o.data("map-lat"),a=o.data("map-lng"),r=o.data("map-zoom"),d=$(".contacts__cities .btn"),l=$(window),c=function(){l.on({load:function(){p()},resize:function(){p()}}),google.maps.event.addDomListener(window,"resize",function(){if(d.length){var e={lat:d.filter(".active").data("map-lat"),lng:d.filter(".active").data("map-lng")};t.setCenter(e)}}),d.on({click:function(){var e=$(this);if(!e.hasClass("active")){d.removeClass("active"),e.addClass("active");var i={lat:$(this).data("map-lat"),lng:$(this).data("map-lng")};n.setPosition(i),setTimeout(function(){t.setCenter(i)},300)}return!1}})},f=function(){var e=new google.maps.StyledMapType([{stylers:[{hue:"#b00040"},{saturation:60},{lightness:-40}]},{elementType:"labels.text.fill",stylers:[{color:"#ff6fa4"}]},{featureType:"water",stylers:[{color:"#B61530"}]},{featureType:"road",stylers:[{color:"#B61530"},{}]},{featureType:"road.local",stylers:[{color:"#B61530"},{lightness:6}]},{featureType:"road.highway",stylers:[{color:"#B61530"},{lightness:-25}]},{featureType:"road.arterial",stylers:[{color:"#B61530"},{lightness:-10}]},{featureType:"transit",stylers:[{color:"#B61530"},{lightness:70}]},{featureType:"transit.line",stylers:[{color:"#B61530"},{lightness:90}]},{featureType:"administrative.country",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#ff6fa4"}]}],{name:"Custom Style"}),i="custom_style";t=new google.maps.Map(o[0],{zoom:r,zoomControl:!1,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,center:{lat:s,lng:a},mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,i]}}),n=new google.maps.Marker({position:{lat:s,lng:a},map:t}),t.mapTypes.set(i,e),t.setMapTypeId(i),google.maps.event.addListenerOnce(t,"idle",function(){if(d.length){var e={lat:d.filter(".active").data("map-lat"),lng:d.filter(".active").data("map-lng")};t.setCenter(e)}})},h=function(){google.maps.event.addDomListener(window,"load",f),c(),p()},p=function(){var e=$(".contacts__inner"),t=$(".contacts__info"),n=$(".contacts__pulse");l.width()>=768?e.width()>t.innerHeight()?(i.height(e.width()),i.width(e.width())):t.innerHeight()>t.innerWidth()?(i.height(t.innerHeight()+.6*t.innerHeight()),i.width(t.innerHeight()+.6*t.innerHeight())):(i.height(t.innerWidth()+.6*t.innerWidth()),i.width(t.innerWidth()+.6*t.innerWidth())):i.attr("style","");var s=n.offset().top-i.offset().top,a=n.height()/2+s;o.height(2*a)};h()},l=function(e){var t=e,n=t.find(".swiper-slide"),i=$(window),o=function(){i.on({load:function(){},resize:function(){s()}})},s=function(){n.find(".move").each(function(){var e=$(this),t=e.data("views");if(void 0!=t){for(var n=0;n<t.length;n++){var o;i.width()>=1024?o=t[2]:i.width()<1024&&i.width()>=768?o=t[1]:i.width()<768&&(o=t[0])}o.url.length&&e.css({"background-image":'url("'+o.url+'")',top:"auto",right:"auto",bottom:"auto",left:"auto"});for(var s in o.positions)e.css(s,o.positions[s]/100+"em")}})},a=function(){o(),s()};a()},c=function(e){var t,n=this,i=e,o=$(window),s=!1,a=$(".squad"),r=$(".squad__disk"),d=function(){o.on({load:function(){o.width()>=768&&f()},resize:function(){o.width()<768?(s||(l(),s=!0),r.attr("style","")):(s&&(c(),s=!1),f())}})},l=function(){t=new Swiper(i.find(".swiper-container"),{slidesPerView:1.75,centeredSlides:!0})},c=function(){t.destroy(!0,!0)},f=function(){var e,t=a.innerHeight(),n=a.innerWidth();e=t>n?n:t,r.width(e),r.height(e),r.css({"margin-top":"-"+e/2+"px","margin-left":"-"+e/2+"px"}),i.parents().hasClass("team")&&(e<r.css("max-height")?(r.width(e),r.height(e),r.css({"margin-top":"-"+e/2+"px","margin-left":"-"+e/2+"px"})):(r.width(r.css("max-height")),r.height(r.css("max-height")),r.css({"margin-top":"-"+parseInt(r.css("max-height"))/2+"px","margin-left":"-"+parseInt(r.css("max-height"))/2+"px"})),r.innerHeight()<$(".squad__inner").innerHeight()?r.css({top:0,"margin-top":0,"margin-left":"-"+parseInt(r.css("max-height"))/2+"px"}):(r.width(1.5*$(".squad__inner").innerHeight()),r.height(1.5*$(".squad__inner").innerHeight()),r.css({"margin-top":"-"+1.5*parseInt($(".squad__inner").innerHeight())/2+"px","margin-left":"-"+1.5*parseInt($(".squad__inner").innerHeight())/2+"px"})))},h=function(){i[0].obj=n,d(),o.width()<768&&(s||(l(),s=!0))};h()}}();
!function(){$(function(){"use strict";$.each($(".contacts__form"),function(){new e($(this))})});var e=function(e){var t=this,i=e,n=(i.find(".gform_body"),$(".contacts__success .btn")),r=$(".gform_wrapper"),f=$(".contacts__form"),d=(i.find(".gfield_textarea"),function(){c(),o(),s(),i[0].obj=t}),o=function(){i.find(".gform_body .gfield_textarea").append('<div class="contacts__fields-textarea-height"></div>');var e=i.find(".gform_body .gfield_textarea").find("textarea").val(),t=i.find(".gform_body .contacts__fields-textarea-height");t.html(e),i.find(".gform_body .gfield_textarea").css("height",t.innerHeight()+20)},a=function(){},s=function(){r=r.clone(!0)},_=function(){i.find(".gform_body").append('<span class="contacts__fields-error"></span>'),i.find(".gfield").hasClass("gfield_error")?(i.find(".gform_body").find(".contacts__fields-error").text(i.find(".gfield_error:first .validation_message").text()),i.find(".gfield_error:first input, .gfield_error:first textarea").focus(),i.find(".gform_body").find(".contacts__fields-error").addClass("visible")):i.find(".gform_body").find(".contacts__fields-error").removeClass("visible")},c=function(){$(document).bind("gform_confirmation_loaded",function(){i.addClass("hidden"),f.find("div:first").append(r),$(".gform_wrapper").find("form")[0].reset()}),$(document).bind("gform_post_render",function(){a(),o(),_(),i.find(".gform_body .gfield_textarea").on({keyup:function(e){var t=$(this).find("textarea").val(),n=i.find(".gform_body .contacts__fields-textarea-height");return n.html(t),i.find(".gform_body .gfield_textarea").css("height",n.innerHeight()+20),13==e.keyCode&&i.find(".gform_body .gfield_textarea").css("height",n.innerHeight()+20),!1}})}),i.find(".gform_body .gfield_textarea").on({keyup:function(e){var t=$(this).find("textarea").val(),n=i.find(".gform_body .contacts__fields-textarea-height");return n.html(t),i.find(".gform_body .gfield_textarea").css("height",n.innerHeight()+20),13==e.keyCode&&i.find(".gform_body .gfield_textarea").css("height",n.innerHeight()+20),!1}}),n.on({click:function(){return $(".gform_wrapper").find("form")[0].reset(),s(),i.removeClass("hidden"),!1}})};d()}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LmNvbnRhY3QtZm9ybS5qcyJdLCJuYW1lcyI6WyIkIiwiUHJlbG9hZGVyIiwiZWFjaCIsIlBhZ2UiLCJ0aGlzIiwiWm9vbVNpdGUiLCJNZW51IiwiTWFpblNsaWRlciIsIk1haW5TbGlkZXJQaWN0dXJlcyIsIkV4cGVydGlzZVNsaWRlciIsIlJldmlld3NTbGlkZXIiLCJMb2NhdGlvbiIsIlNjcm9sbERvd24iLCJTcXVhZFNsaWRlciIsIm9iaiIsIl9zZWxmIiwiX3dpbmRvdyIsIndpbmRvdyIsIl9wcmVsb2FkZXIiLCJfYm9keSIsIl9hZGRFdmVudHMiLCJvbiIsImxvYWQiLCJfc2hvd1NpdGUiLCJfaW5pdCIsInByZWxvYWRlciIsImFkZENsYXNzIiwic2V0VGltZW91dCIsInJlbW92ZSIsIl9vYmoiLCJfZG9tIiwiX3N3aXBlckluaXQiLCJfbWFpblNsaWRlciIsImZpbmQiLCJfYnRuRG93biIsIndpZHRoIiwiX2luaXRGdWxsUGFnZSIsIl9jZW50ZXJDb250ZW50IiwicmVzaXplIiwiX2Rlc3Ryb3lGdWxsUGFnZSIsImNsaWNrIiwicGFyZW50cyIsImxlbmd0aCIsInN0b3AiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiaW5uZXJIZWlnaHQiLCJmbiIsImZ1bGxwYWdlIiwibW92ZVRvIiwic2Nyb2xsT3ZlcmZsb3ciLCJzZWN0aW9uU2VsZWN0b3IiLCJvbkxlYXZlIiwiYW5jaG9yTGluayIsImluZGV4Iiwic2xpZGVJbmRleCIsImRpcmVjdGlvbiIsIm5leHRTbGlkZUluZGV4IiwiaGlkZSIsInNob3ciLCJyZW1vdmVDbGFzcyIsImJsb2NrIiwiZXEiLCJoYXNDbGFzcyIsImRlc3Ryb3kiLCJfY2FzZUhlcm8iLCJfb25FdmVudHMiLCJfc2V0U2l6ZSIsImNzcyIsImZvbnQtc2l6ZSIsIm5ld1NpemUiLCJoZWlnaHQiLCJwYXJzZUludCIsInNpdGVTY3JvbGxUb3AiLCJfbWVudUJ0biIsIl9tZW51SXRlbXMiLCJfaHRtbCIsIl9zaXRlIiwiX2Nsb3NlTWVudSIsInNldEFsbG93U2Nyb2xsaW5nIiwib3ZlcmZsb3cteSIsImF0dHIiLCJzY3JvbGwiLCJfc2V0SGVhZGVySGVpZ2h0IiwiX29wZW5NZW51IiwicGFkZGluZy10b3AiLCJvdXRlckhlaWdodCIsIl9zd2lwZXIxIiwiX2hlYWRlciIsIl9zdGVwMSIsIl9zdGVwMiIsIl9zdGVwMyIsIl9zdGVwNCIsIl9zdGVwNSIsIl9nbG9iYWxXaWR0aCIsImRvY3VtZW50IiwiZSIsImV2ZW50Iiwic2xpZGUiLCJfaW1nMSIsIl9pbWcyIiwiX2ltZzMiLCJfaW1nNCIsIl9pbWc1IiwicGFnZVgiLCJjbGllbnRYIiwicGFnZVkiLCJjbGllbnRZIiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsInBlcmNlbnRGcm9tQ2VudGVyWCIsInBlcmNlbnRGcm9tQ2VudGVyWSIsIm91dGVyV2lkdGgiLCJfbW92ZUJvdHRvbSIsIl9tb3ZlVG9wIiwiX2luaXRTd2lwZXIiLCJfc2V0SGVpZ2h0Iiwic2NyZWVuIiwibmV4dFNlY3Rpb24iLCJuZXh0IiwidmVnZXRhYmxlIiwicG9zIiwicG9zaXRpb24iLCJ0b3AiLCJoZWlnaHRWZWciLCJudW0iLCJyZXBsYWNlIiwiZGlmZiIsIm9sZEltZyIsIm9mZnNldCIsImxlZnQiLCJib3R0b20iLCJyaWdodCIsIm5ld0ltZyIsImNsb25lIiwicHJlcGVuZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJTd2lwZXIiLCJzcGFjZUJldHdlZW4iLCJzbGlkZXNQZXJWaWV3Iiwic3BlZWQiLCJsb29wIiwiZWZmZWN0IiwiZmFkZSIsImNyb3NzRmFkZSIsImF1dG9wbGF5RGlzYWJsZU9uSW50ZXJhY3Rpb24iLCJuZXh0QnV0dG9uIiwicHJldkJ1dHRvbiIsIm9uSW5pdCIsInN3aXBlciIsImFjdFNsaWRlIiwic2xpZGVzIiwiZmlsdGVyIiwic2VjdGlvbkluZGV4Iiwib25TbGlkZUNoYW5nZVN0YXJ0Iiwib25TbGlkZUNoYW5nZUVuZCIsInhQZXJjZW50IiwieVBlcmNlbnQiLCJzdGVwIiwiaW1hZ2UiLCItd2Via2l0LXRyYW5zZm9ybSIsInRyYW5zZm9ybSIsIl9zd2lwZXIiLCJfc2NyZWVuVmFsIiwiX2Rlc3Ryb3lTd2lwZXIiLCJjZW50ZXJlZFNsaWRlcyIsIm9uQ2xpY2siLCJjbGlja2VkIiwiY2xpY2tlZEluZGV4IiwiYWN0aXZlSW5kZXgiLCJ1cGRhdGVDbGFzc2VzIiwic2xpZGVUbyIsIl9zZXRTY3JlZW5WYWx1ZSIsIl9zY3JvbGxlciIsIl9tYWluU2xpZGVyUGljIiwibWFwIiwibWFya2VyIiwiX21hcCIsIl9tYXBMYXQiLCJkYXRhIiwiX21hcExuZyIsIl9tYXBab29tIiwiX2J0biIsImdvb2dsZSIsIm1hcHMiLCJhZGREb21MaXN0ZW5lciIsIm15TGF0TG5nIiwibGF0IiwibG5nIiwic2V0Q2VudGVyIiwiY3VySXRlbSIsInNldFBvc2l0aW9uIiwiX2luaXRNYXAiLCJjdXN0b21NYXBUeXBlIiwiU3R5bGVkTWFwVHlwZSIsInN0eWxlcnMiLCJodWUiLCJzYXR1cmF0aW9uIiwibGlnaHRuZXNzIiwiZWxlbWVudFR5cGUiLCJjb2xvciIsImZlYXR1cmVUeXBlIiwidmlzaWJpbGl0eSIsIm5hbWUiLCJjdXN0b21NYXBUeXBlSWQiLCJNYXAiLCJ6b29tIiwiem9vbUNvbnRyb2wiLCJtYXBUeXBlQ29udHJvbCIsInNjYWxlQ29udHJvbCIsInN0cmVldFZpZXdDb250cm9sIiwicm90YXRlQ29udHJvbCIsImNlbnRlciIsIm1hcFR5cGVDb250cm9sT3B0aW9ucyIsIm1hcFR5cGVJZHMiLCJNYXBUeXBlSWQiLCJST0FETUFQIiwiTWFya2VyIiwibWFwVHlwZXMiLCJzZXQiLCJzZXRNYXBUeXBlSWQiLCJhZGRMaXN0ZW5lck9uY2UiLCJjb250ZW50SW5uZXIiLCJjb250ZW50SW5mbyIsInB1bHNlIiwiaW5uZXJXaWR0aCIsIl9zbGlkZSIsIl9hZGRQaWN0dXJlcyIsImRhdGFWaWV3IiwidW5kZWZpbmVkIiwiaSIsIm5lZWRWaWV3IiwidXJsIiwiYmFja2dyb3VuZC1pbWFnZSIsImtleSIsInBvc2l0aW9ucyIsIl9zcXVhZCIsIl9zcXVhZERpc2siLCJfc2V0RGlza1NpemUiLCJtYXJnaW4tdG9wIiwibWFyZ2luLWxlZnQiLCJDb250YWN0Rm9ybSIsIl9idG5TdWNjZXNzIiwiX2Zvcm1DbG9uZSIsIl9jb250YWN0Rm9ybSIsIl9jb25zdHJ1Y3RvciIsIl9wYXN0ZUhlaWdodERpdiIsIl9nZXRDTG9uZUZvcm0iLCJhcHBlbmQiLCJ2YWx1ZSIsInZhbCIsImhlaWdodFdyYXAiLCJodG1sIiwiX3Bhc3RlRXJyb3JXcmFwIiwiX2FkZEVycm9yVGV4dCIsInRleHQiLCJmb2N1cyIsImJpbmQiLCJyZXNldCIsImtleXVwIiwia2V5Q29kZSJdLCJtYXBwaW5ncyI6IkFBQUEsY0FDQSxXQUVJQSxFQUFHLFdBRUMsR0FBSUMsR0FBV0QsRUFBRSxlQUVqQkEsRUFBRUUsS0FBTUYsRUFBRSxxQkFBdUIsV0FFN0IsR0FBSUcsR0FBTUgsRUFBRUksU0FJaEJKLEVBQUVFLEtBQU1GLEVBQUUsUUFBUyxXQUVmLEdBQUlLLEdBQVVMLEVBQUVJLFNBSXBCSixFQUFFRSxLQUFNRixFQUFFLGlCQUFrQixXQUV4QixHQUFJTSxHQUFNTixFQUFFSSxTQUloQkosRUFBRUUsS0FBTUYsRUFBRSxnQkFBaUIsV0FFdkIsR0FBSU8sR0FBWVAsRUFBRUksT0FDbEIsR0FBSUksR0FBb0JSLEVBQUVJLFNBSTlCSixFQUFFRSxLQUFNRixFQUFFLHFCQUFzQixXQUU1QixHQUFJUyxHQUFpQlQsRUFBRUksU0FJM0JKLEVBQUVFLEtBQU1GLEVBQUUsWUFBYSxXQUVuQixHQUFJVSxHQUFlVixFQUFFSSxTQUl6QkosRUFBRUUsS0FBTUYsRUFBRSxrQkFBbUIsV0FFekIsR0FBSVcsR0FBVVgsRUFBRUksU0FJcEJKLEVBQUVFLEtBQU1GLEVBQUUsZ0NBQWlDLFdBRXZDLEdBQUlZLEdBQVlaLEVBQUVJLFNBSXRCSixFQUFFRSxLQUFNRixFQUFFLGlCQUFrQixXQUV4QixHQUFJYSxHQUFhYixFQUFFSSxVQU8zQixJQUFJSCxHQUFZLFNBQVVhLEdBR3RCLEdBQUlDLEdBQVFYLEtBQ1JZLEVBQVVoQixFQUFHaUIsUUFDYkMsRUFBYUosRUFDYkssRUFBUW5CLEVBQUUsUUFHVm9CLEVBQWEsV0FFVEosRUFBUUssSUFDSkMsS0FBTSxXQUVGQyxRQU1aQyxFQUFRLFdBRUpMLEVBQU0sR0FBR00sVUFBWVYsRUFDckJLLEtBR0pHLEVBQVksV0FFUkwsRUFBV1EsU0FBVSxvQkFFckJDLFdBQVcsV0FDUFQsRUFBV1UsU0FDWDVCLEVBQUUsU0FBUzBCLFNBQVUsaUJBRXZCLEtBUVZGLE1BR0FyQixFQUFPLFNBQVdXLEdBRWxCLEdBQUlDLEdBQVFYLEtBQ1J5QixFQUFPZixFQUNQRSxFQUFVaEIsRUFBR2lCLFFBQ2JhLEVBQU85QixFQUFHLGNBQ1YrQixHQUFjLEVBR2RDLEdBRGdCSCxFQUFLSSxLQUFLLG1CQUNaakMsRUFBRSxpQkFDaEJrQyxFQUFXRixFQUFZQyxLQUFLLDBCQUU1QmIsRUFBYSxXQUVUSixFQUFRSyxJQUNKQyxLQUFNLFdBQ0VOLEVBQVFtQixTQUFXLE9BRWRKLElBRURLLElBQ0FDLElBQ0FOLEdBQWMsS0FRMUJPLE9BQVEsV0FFQXRCLEVBQVFtQixTQUFXLE1BRWRKLElBRURLLElBQ0FMLEdBQWMsR0FJbEJNLEtBS0lOLElBRUFRLElBQ0FSLEdBQWMsTUFNOUJHLEVBQVNiLElBQ0xtQixNQUFPLFdBc0JILE1BcEJJeEIsR0FBUW1CLFNBQVcsS0FFZG5DLEVBQUdJLE1BQU9xQyxRQUFTLFNBQVVDLFFBRTlCWixFQUFLYSxNQUFNLEdBQU0sR0FDakJiLEVBQUtjLFNBQVdDLFVBQVdiLEVBQVljLGVBQWlCLE1BSXhEOUMsRUFBRStDLEdBQUdDLFNBQVNDLE9BQU8sSUFNekJuQixFQUFLYSxNQUFNLEdBQU0sR0FDakJiLEVBQUtjLFNBQVdDLFVBQVdiLEVBQVljLGVBQWlCLE9BSXJELE1BS25CVixFQUFnQixXQUVacEMsRUFBRSxhQUFhZ0QsVUFFWEUsZ0JBQWdCLEVBQ2hCQyxnQkFBaUIsa0JBQ2pCQyxRQUFTLFNBQVVDLEVBQVlDLEVBQU9DLEVBQVlDLEVBQVdDLEdBRXJESCxFQUFRLEdBRVJ0RCxFQUFFLGVBQWUwRCxPQUNqQjFELEVBQUUsU0FBUzBCLFNBQVMsNkJBSXBCMUIsRUFBRSxlQUFlMkQsT0FFakJoQyxXQUFZLFdBQ1IzQixFQUFFLFNBQVM0RCxZQUFZLGFBRXhCLEtBRUhqQyxXQUFZLFdBQ1IzQixFQUFFLFNBQVM0RCxZQUFZLG1CQUV4QixLQUdQLElBQUlDLEdBQVE3RCxFQUFFLG1CQUFtQjhELEdBQUlSLEVBQU0sR0FBR3JCLEtBQUssZ0NBRS9DNEIsR0FBTUUsU0FBUyxZQUVmRixFQUFNNUIsS0FBSyxrQkFBa0JQLFNBQVMsYUFJdEM0QixFQUFRLEdBRVJ0RCxFQUFFLFVBQVUwQixTQUFTLGVBU3JDYSxFQUFtQixXQUVmdkMsRUFBRStDLEdBQUdDLFNBQVNnQixRQUFRLFFBRzFCM0IsRUFBaUIsYUFvQ2pCYixFQUFRLFdBQ0pLLEVBQUssR0FBR2YsSUFBTUMsRUFDZEssSUFNUkksTUFHQW5CLEVBQVcsU0FBVVMsR0FHckIsR0FBSUMsR0FBUVgsS0FDUnlCLEVBQU9mLEVBQ1BFLEVBQVVoQixFQUFFaUIsUUFDWmUsRUFBY2hDLEVBQUUsZ0JBQ2hCaUUsRUFBWWpFLEVBQUUsZUFDZG1CLEVBQVFVLEVBR1JxQyxFQUFZLFdBRVJsRCxFQUFRSyxJQUVKaUIsT0FBUSxXQUVBdEIsRUFBUW1CLFNBQVcsSUFFbkJnQyxLQUlBaEQsRUFBTWlELEtBQ0ZDLFlBQWEsU0FHakJyQyxFQUFZb0MsS0FDUkMsWUFBYSxTQUdqQkosRUFBVUcsS0FDTkMsWUFBYSxjQVdqQzdDLEVBQVEsV0FFSjBDLElBRUlsRCxFQUFRbUIsU0FBVyxLQUVuQmdDLElBSUp0QyxFQUFLLEdBQUdmLElBQU1DLEdBR2xCb0QsRUFBVyxXQUVQLEdBQUlHLEVBSUFBLEdBRkF0RCxFQUFRdUQsU0FBVyxJQUVOLEtBQVF0RCxPQUFPNkIsWUFBYyxLQUFXLEtBSzNDLFNBSVQwQixTQUFVRixHQUFZLE1BRXZCQSxFQUFVLFNBSWRuRCxFQUFNaUQsS0FDRkMsWUFBYUMsSUFHakJ0QyxFQUFZb0MsS0FDUkMsWUFBYUMsSUFHakJMLEVBQVVHLEtBQ05DLFlBQWFDLElBT3pCOUMsTUFHQWxCLEVBQU8sU0FBVVEsR0FHakIsR0FPSTJELEdBUEExRCxFQUFRWCxLQUNSeUIsRUFBT2YsRUFDUEUsRUFBVWhCLEVBQUdpQixRQUNieUQsRUFBVzdDLEVBQUtJLEtBQUssc0JBQ3JCMEMsRUFBYTlDLEVBQUtJLEtBQUssc0JBQ3ZCMkMsRUFBUTVFLEVBQUUsUUFDVjZFLEVBQVE3RSxFQUFFLFNBS1Y4RSxHQUhROUUsRUFBRSxRQUdHLFdBRVQ2QixFQUFLK0IsWUFBYSxVQUViNUMsRUFBUW1CLFNBQVcsTUFBVW5DLEVBQUUscUJBQTJCLE9BRTNEQSxFQUFFK0MsR0FBR0MsU0FBUytCLG1CQUFrQixHQUloQ3BELFdBQVksV0FFSmtELEVBQU1OLFNBQVd2RCxFQUFRdUQsVUFFekJLLEVBQU1SLEtBQ0ZZLGFBQWMsS0FJdEJILEVBQU1ULEtBQ0ZHLE9BQVUsS0FHZHZELEVBQVE2QixVQUFXNEIsSUFFcEIsSUFJUEUsRUFBV00sS0FBTSxRQUFTLE1BRzlCZixFQUFZLFdBRVJsRCxFQUFRSyxJQUNKNkQsT0FBUSxXQUVBbEUsRUFBUTZCLFlBQWMsRUFFdEJoQixFQUFLSCxTQUFTLFNBSWRHLEVBQUsrQixZQUFZLFVBSXpCdEIsT0FBUSxXQUVBdEIsRUFBUW1CLFNBQVcsS0FFbkJnRCxJQUtBbkYsRUFBRSxrQkFBa0JpRixLQUFNLFFBQVMsT0FRL0NQLEVBQVNyRCxJQUVMbUIsTUFBTyxXQWFILE1BWElYLEdBQUtrQyxTQUFVLFVBRWZlLElBS0FNLEtBSUcsTUFPbkJBLEVBQVksV0FFUnZELEVBQUtILFNBQVUsVUFFVlYsRUFBUW1CLFNBQVcsTUFBVW5DLEVBQUUscUJBQTJCLE9BRTNEQSxFQUFFK0MsR0FBR0MsU0FBUytCLG1CQUFrQixJQUloQ04sRUFBZ0J6RCxFQUFRNkIsWUFFeEJsQixXQUFZLFdBRUprRCxFQUFNTixTQUFXdkQsRUFBUXVELFVBQ3pCSyxFQUFNUixLQUNGWSxhQUFjLFdBSXRCckQsV0FBWSxXQUVSa0QsRUFBTVQsS0FDRkcsT0FBVSxVQUdmLEtBRUosT0FLWFksRUFBbUIsV0FFWHRELEVBQUtJLEtBQUssdUJBQXVCUyxRQUVqQzFDLEVBQUUsa0JBQWtCb0UsS0FDaEJpQixjQUFlckYsRUFBRSx1QkFBdUJzRixhQUFZLE1BTWhFOUQsRUFBUSxXQUVKMEMsSUFDQXJDLEVBQUssR0FBR2YsSUFBTUMsRUFFVkMsRUFBUTZCLFlBQWNoQixFQUFLaUIsY0FBYyxFQUV6Q2pCLEVBQUtILFNBQVMsU0FJZEcsRUFBSytCLFlBQVksU0FJakI1QyxFQUFRbUIsU0FBVyxNQUVuQmdELElBUVozRCxNQUdBakIsRUFBYSxTQUFXTyxHQUV4QixHQVNJeUUsR0FUQXhFLEVBQVFYLEtBQ1J5QixFQUFPZixFQUNQRSxFQUFVaEIsRUFBR2lCLFFBQ2J1RSxFQUFVeEYsRUFBRyxpQkFDYnlGLEVBQVMsR0FDVEMsRUFBUyxHQUNUQyxFQUFTLEVBQ1RDLEVBQVMsR0FDVEMsRUFBUyxHQUVUQyxFQUFlLEVBRWYxRSxFQUFhLFdBRVRwQixFQUFFK0YsVUFBVTFFLEdBQ1IsWUFDQSw2QkFDQSxTQUFVMkUsR0FFTkEsRUFBSUEsR0FBSy9FLE9BQU9nRixLQUVoQixJQUFJQyxHQUFRbEcsRUFBRUksTUFDVitGLEVBQVFELEVBQU1qRSxLQUFLLHlCQUNuQm1FLEVBQVFGLEVBQU1qRSxLQUFLLHlCQUNuQm9FLEVBQVFILEVBQU1qRSxLQUFLLHlCQUNuQnFFLEVBQVFKLEVBQU1qRSxLQUFLLHlCQUNuQnNFLEVBQVFMLEVBQU1qRSxLQUFLLHdCQUV2QixJQUFLakIsRUFBUW1CLFFBQVUsT0FBV3FELEVBQVF6QixTQUFTLFlBQWtCL0QsRUFBRStGLFVBQVU5RCxLQUFLLFNBQVM4QixTQUFTLGtCQUFzQixDQUUxSCxHQUFJeUMsR0FBUVIsRUFBRVMsUUFDVkMsRUFBUVYsRUFBRVcsUUFDVkMsRUFBWS9FLEVBQUtNLFFBQVUsRUFDM0IwRSxFQUFhaEYsRUFBSzBDLFNBQVcsRUFDN0J1QyxHQUF1Qk4sRUFBUUksR0FBY0EsRUFDN0NHLEdBQXVCTCxFQUFRRyxHQUFlQSxDQUU5QzdGLEdBQVFnRyxhQUFlLE9BRXZCQyxFQUFZSCxFQUFvQkMsRUFBb0J0QixFQUFPVSxHQUMzRGMsRUFBWUgsRUFBb0JDLEVBQW9CdEIsRUFBUXpGLEVBQUUrRixVQUFVOUQsS0FBSyxZQUM3RWlGLEVBQVNKLEVBQW9CQyxFQUFvQnJCLEVBQU9VLEdBQ3hEYyxFQUFTSixFQUFvQkMsRUFBb0JyQixFQUFRMUYsRUFBRStGLFVBQVU5RCxLQUFLLFlBQzFFaUYsRUFBU0osRUFBb0JDLEVBQW9CcEIsRUFBT1UsR0FDeERhLEVBQVNKLEVBQW9CQyxFQUFvQnBCLEVBQVEzRixFQUFFK0YsVUFBVTlELEtBQUssWUFDMUVnRixFQUFZSCxFQUFvQkMsRUFBb0JuQixFQUFPVSxHQUMzRFcsRUFBWUgsRUFBb0JDLEVBQW9CbkIsRUFBUTVGLEVBQUUrRixVQUFVOUQsS0FBSyxZQUM3RWdGLEVBQVlILEVBQW9CQyxFQUFvQmxCLEVBQU9VLEdBQzNEVSxFQUFZSCxFQUFvQkMsRUFBb0JsQixFQUFRN0YsRUFBRStGLFVBQVU5RCxLQUFLLGdCQVM3RmpCLEVBQVFLLElBQ0pDLEtBQU0sV0FDRjZGLElBRUFyQixFQUFlOUUsRUFBUW1CLFNBRzNCRyxPQUFRLFdBeUJKLEdBdkJJd0QsR0FBZ0I5RSxFQUFRbUIsVUFFeEIyRCxFQUFlOUUsRUFBUW1CLFFBQVEsRUFHM0JuQixFQUFRbUIsUUFBVSxNQUVsQmlGLEtBTUpwRyxFQUFRbUIsU0FBVyxNQUFRa0YsT0FBT2xGLE9BQVMsTUFFM0NOLEVBQUt1QyxLQUNERyxPQUFRLEtBT1oxQyxFQUFLa0MsU0FBUyxxQkFBdUIsQ0FFckMsR0FBSXVELEdBQWN6RixFQUFLWSxRQUFRLG1CQUFtQjhFLE9BQU90RixLQUFLLHlCQUMxRHNDLEVBQVMxQyxFQUFLSSxLQUFLLHdCQUF3QmEsYUFFM0M5QixHQUFRbUIsUUFBVSxNQUVsQlIsV0FBWSxXQUVSRSxFQUFLSSxLQUFLLDhCQUE4Qi9CLEtBQUssV0FFekMsR0FBSXNILEdBQVl4SCxFQUFFSSxNQUNkcUgsRUFBTUQsRUFBVUUsV0FBV0MsSUFDM0JDLEVBQVlKLEVBQVVqRCxRQUUxQixJQUFJa0QsRUFBTUcsRUFBWXJELEVBQVMsQ0FFM0IsR0FBSXNELEdBQU1MLEVBQVV2QyxLQUFLLFNBQVM2QyxRQUFTLHVCQUF1QixNQUM5REMsRUFBTyxDQUVYLElBQUkvSCxFQUFFLG1CQUFtQjZILEdBQVFuRixPQUFTLENBRXRDLEdBQUlzRixHQUFVaEksRUFBRSxtQkFBbUI2SCxFQUUvQjdILEdBQUUsbUJBQW1COEMsY0FBZ0I5QyxFQUFFLGdCQUFnQjhDLGdCQUV2RGlGLEVBQU8vSCxFQUFFLGdCQUFnQjhDLGNBQWM5QyxFQUFFLG1CQUFtQjhDLGVBSWhFa0YsRUFBT0MsUUFDSE4sSUFBS0gsRUFBVVMsU0FBU04sSUFBSUksRUFDNUJHLEtBQU1WLEVBQVVTLFNBQVNDLE9BRzdCRixFQUFPNUQsS0FDSCtELE9BQVEsT0FDUkMsTUFBTyxPQUNQakcsTUFBT3FGLEVBQVVyRixRQUNqQm9DLE9BQVFpRCxFQUFVakQsZUFHbkIsQ0FFSCxHQUFJOEQsR0FBU2IsRUFBVWMsT0FBTSxFQUU3QkQsR0FBTzNHLFNBQVMsa0JBQWtCbUcsR0FDbENQLEVBQVlpQixRQUFRRixHQUVoQnJJLEVBQUUsbUJBQW1COEMsY0FBZ0I5QyxFQUFFLGdCQUFnQjhDLGdCQUV2RGlGLEVBQU8vSCxFQUFFLGdCQUFnQjhDLGNBQWM5QyxFQUFFLG1CQUFtQjhDLGVBSWhFdUYsRUFBT0osUUFDSE4sSUFBS0gsRUFBVVMsU0FBU04sSUFBSUksRUFDNUJHLEtBQU1WLEVBQVVTLFNBQVNDLE9BRzdCRyxFQUFPakUsS0FDSCtELE9BQVEsT0FDUkMsTUFBTyxPQUNQakcsTUFBT3FGLEVBQVVyRixRQUNqQm9DLE9BQVFpRCxFQUFVakQsZ0JBTXZCLENBRUgsR0FBSXNELEdBQU1MLEVBQVV2QyxLQUFLLFNBQVM2QyxRQUFTLHVCQUF1QixLQUVsRTlILEdBQUUsbUJBQW1CNkgsR0FBUWpHLGFBTXRDLFNBU25CWCxPQUFPdUgsaUJBQWlCLG9CQUFxQixXQUV6QzdHLFdBQVksV0FFSjBGLE9BQU9sRixNQUFRLE1BRWZpRixLQUlMLE9BR0osSUFHUEQsRUFBYyxXQUVWNUIsRUFBVyxHQUFJa0QsUUFBUTVHLEVBQUtJLEtBQU0sc0JBQzlCeUcsYUFBYyxFQUNkQyxjQUFlLEVBQ2ZDLE1BQU8sSUFDUEMsTUFBTSxFQUNOQyxPQUFRLE9BQ1JDLE1BQ0lDLFdBQVcsR0FFZkMsOEJBQThCLEVBQzlCQyxXQUFZckgsRUFBS0ksS0FBSyx1QkFBdUIsR0FDN0NrSCxXQUFZdEgsRUFBS0ksS0FBSyx1QkFBdUIsR0FDN0NtSCxPQUFRLFNBQVVDLEdBSWQsR0FBSUMsR0FBV0QsRUFBT0UsT0FBT0MsT0FBTyx3QkFDaENDLEVBQWVILEVBQVM3RyxRQUFRLG1CQUFtQmEsUUFDbkRnRSxFQUFjdEgsRUFBRSxtQkFBbUI4RCxHQUFHMkYsRUFBYSxFQUV2RCxJQUFJekksRUFBUW1CLFFBQVUsTUFFZE4sRUFBS2tDLFNBQVMscUJBQXVCLENBRXJDLEdBQUlRLEdBQVMrRSxFQUFTeEcsYUFFdEJ3RyxHQUFTckgsS0FBSyxTQUFTL0IsS0FBSyxXQUV4QixHQUFJc0gsR0FBWXhILEVBQUVJLE1BQ2RxSCxFQUFNRCxFQUFVRSxXQUFXQyxJQUMzQkMsRUFBWUosRUFBVWpELFFBRTFCLElBQUlrRCxFQUFNRyxFQUFZckQsRUFBUyxDQUUzQixHQUFJc0QsR0FBTUwsRUFBVXZDLEtBQUssU0FBUzZDLFFBQVMsdUJBQXVCLE1BQzlEQyxFQUFPLEVBRVBNLEVBQVNiLEVBQVVjLE9BQU0sRUFFN0JELEdBQU8zRyxTQUFTLGtCQUFrQm1HLEdBQ2xDUCxFQUFZaUIsUUFBUUYsR0FFaEJySSxFQUFFLG1CQUFtQjhDLGNBQWdCOUMsRUFBRSxnQkFBZ0I4QyxnQkFFdkRpRixFQUFPL0gsRUFBRSxnQkFBZ0I4QyxjQUFjOUMsRUFBRSxtQkFBbUI4QyxlQUloRXVGLEVBQU9KLFFBQ0hOLElBQUtILEVBQVVTLFNBQVNOLElBQUlJLEVBQzVCRyxLQUFNVixFQUFVUyxTQUFTQyxPQUc3QkcsRUFBT2pFLEtBQ0grRCxPQUFRLE9BQ1JDLE1BQU8sT0FDUGpHLE1BQU9xRixFQUFVckYsUUFDakJvQyxPQUFRaUQsRUFBVWpELGdCQWExQ21GLG1CQUFvQixTQUFVTCxHQUUxQixHQUFJQyxHQUFXRCxFQUFPRSxPQUFPQyxPQUFPLHdCQUNoQ0MsRUFBZUgsRUFBUzdHLFFBQVEsbUJBQW1CYSxPQUNyQ3RELEdBQUUsbUJBQW1COEQsR0FBRzJGLEVBQWEsR0FBR3hILEtBQUssd0JBRS9EakMsR0FBRSxjQUFjNEIsU0FFWjBILEVBQVNySCxLQUFLLDhCQUE4QlMsUUFFNUNiLEVBQUtJLEtBQUssdUJBQXVCUCxTQUFTLGdCQUMxQ0csRUFBS0ksS0FBSyx1QkFBdUJQLFNBQVMsa0JBSTFDRyxFQUFLSSxLQUFLLHVCQUF1QjJCLFlBQVksZ0JBQzdDL0IsRUFBS0ksS0FBSyx1QkFBdUIyQixZQUFZLGtCQUtyRCtGLGlCQUFrQixTQUFVTixHQUV4QixHQUFJQyxHQUFXRCxFQUFPRSxPQUFPQyxPQUFPLHdCQUNoQ0MsRUFBZUgsRUFBUzdHLFFBQVEsbUJBQW1CYSxRQUNuRGdFLEVBQWN0SCxFQUFFLG1CQUFtQjhELEdBQUcyRixFQUFhLEdBQUd4SCxLQUFLLHdCQUUzRGpCLEdBQVFtQixRQUFVLE1BRWxCUixXQUFZLFdBRVIsR0FBSUUsRUFBS2tDLFNBQVMscUJBQXVCLENBRXJDLEdBQUlRLEdBQVMrRSxFQUFTeEcsYUFFdEJ3RyxHQUFTckgsS0FBSyxTQUFTL0IsS0FBSyxXQUV4QixHQUFJc0gsR0FBWXhILEVBQUVJLE1BQ2RxSCxFQUFNRCxFQUFVRSxXQUFXQyxJQUMzQkMsRUFBWUosRUFBVWpELFFBRTFCLElBQUlrRCxFQUFNRyxFQUFZckQsRUFBUyxDQUUzQixHQUFJc0QsR0FBTUwsRUFBVXZDLEtBQUssU0FBUzZDLFFBQVMsdUJBQXVCLE1BQzlEQyxFQUFPLEVBRVBNLEVBQVNiLEVBQVVjLE9BQU0sRUFFN0JELEdBQU8zRyxTQUFTLGtCQUFrQm1HLEdBQ2xDUCxFQUFZaUIsUUFBUUYsR0FFaEJySSxFQUFFLG1CQUFtQjhDLGNBQWdCOUMsRUFBRSxnQkFBZ0I4QyxnQkFFdkRpRixFQUFPL0gsRUFBRSxnQkFBZ0I4QyxjQUFjOUMsRUFBRSxtQkFBbUI4QyxlQUloRXVGLEVBQU9KLFFBQ0hOLElBQUtILEVBQVVTLFNBQVNOLElBQUlJLEVBQzVCRyxLQUFNVixFQUFVUyxTQUFTQyxPQUc3QkcsRUFBT2pFLEtBQ0grRCxPQUFRLE9BQ1JDLE1BQU8sT0FDUGpHLE1BQU9xRixFQUFVckYsUUFDakJvQyxPQUFRaUQsRUFBVWpELGdCQVNuQyxTQVNuQjBDLEVBQWMsU0FBVTJDLEVBQVVDLEVBQVVDLEVBQU1DLEdBRTlDQSxFQUFNM0YsS0FDRjRGLG9CQUFxQixnQkFBbUJKLEVBQVdFLEdBQVMsUUFBV0QsRUFBV0MsR0FBUyxPQUMzRkcsVUFBYSxnQkFBbUJMLEVBQVdFLEdBQVMsU0FBWUQsRUFBV0MsR0FBUyxXQUk1RjVDLEVBQVcsU0FBVTBDLEVBQVVDLEVBQVVDLEVBQU1DLEdBRTNDQSxFQUFNM0YsS0FDRjRGLG9CQUFxQixjQUFrQkosRUFBV0UsRUFBUyxPQUFXRCxFQUFXQyxFQUFTLFFBQzFGRyxVQUFhLGNBQWtCTCxFQUFXRSxFQUFTLFFBQVlELEVBQVdDLEVBQVMsV0FJM0YxQyxFQUFhLFdBRVQsR0FBSTdDLEdBQVN2RCxFQUFRdUQsUUFFaEIxQyxHQUFLWSxRQUFRLFNBQVNDLE9BRXZCYixFQUFLdUMsS0FDREcsT0FBUUEsRUFBU0EsRUFBTyxJQUs1QjFDLEVBQUt1QyxLQUNERyxPQUFRQSxLQVFwQi9DLEVBQVEsV0FDSkssRUFBSyxHQUFHZixJQUFNQyxFQUNkSyxJQUdJSixFQUFRbUIsUUFBVSxNQUVsQmlGLElBTVo1RixNQUdBZixFQUFrQixTQUFXSyxHQUU3QixHQUlJb0osR0FKQW5KLEVBQVFYLEtBQ1J5QixFQUFPZixFQUNQRSxFQUFVaEIsRUFBR2lCLFFBQ2JjLEdBQWMsRUFFZG9JLEVBQWEsS0FFYi9JLEVBQWEsV0FFVEosRUFBUUssSUFDSmlCLE9BQVEsV0FFQXRCLEVBQVFtQixRQUFVZ0ksRUFFYnBJLElBRURvRixJQUNBcEYsR0FBYyxHQU9kQSxJQUVBcUksSUFDQXJJLEdBQWMsT0FTbENvRixFQUFjLFdBRVYrQyxFQUFVLEdBQUl6QixRQUFRNUcsRUFBS0ksS0FBTSxzQkFDN0IwRyxjQUFlLElBQ2YwQixnQkFBZ0IsRUFDaEJDLFFBQVMsU0FBVWpCLEVBQVFwRCxHQUV2QixHQUFJc0UsR0FBVWxCLEVBQU9tQixZQUNyQm5CLEdBQU9vQixZQUFjRixFQUNyQmxCLEVBQU9xQixnQkFDUFIsRUFBUVMsUUFBUUosRUFBUyxLQUFLLE9BSzFDSCxFQUFpQixXQUViRixFQUFRbEcsU0FBUyxHQUFNLElBRzNCNEcsRUFBa0IsV0FJVlQsRUFGQ3RJLEVBQUtZLFFBQVEsZ0JBQWdCQyxPQUVqQixLQUlBLEtBS3JCbEIsRUFBUSxXQUNKSyxFQUFLLEdBQUdmLElBQU1DLEVBQ2Q2SixJQUNBeEosSUFFSUosRUFBUW1CLFFBQVVnSSxJQUVicEksSUFFRG9GLElBQ0FwRixHQUFjLElBTzlCUCxNQUdBWixFQUFhLFNBQVdFLEdBRXhCLEdBQUlDLEdBQVFYLEtBQ1J5QixFQUFPZixFQUNQK0osRUFBWTdLLEVBQUcsY0FDZjhLLEVBQWlCOUssRUFBRSwyQkFFbkJvQixFQUFhLFdBRVRTLEVBQUtSLElBQ0RtQixNQUFPLFdBSUgsTUFGQXFJLEdBQVVqSSxTQUFXQyxVQUFXaUksRUFBZWhJLGVBQWlCLE1BRXpELE1BS25CdEIsRUFBUSxXQUNKSyxFQUFLLEdBQUdmLElBQU1DLEVBQ2RLLElBR1JJLE1BR0FkLEVBQWdCLFNBQVdJLEdBRTNCLEdBR0lvSixHQUhBbkosRUFBUVgsS0FDUnlCLEVBQU9mLEVBQ1BFLEVBQVVoQixFQUFHaUIsUUFHYkcsRUFBYSxXQUVUSixFQUFRSyxJQUNKaUIsT0FBUSxnQkFRaEI2RSxFQUFjLFdBRVYrQyxFQUFVLEdBQUl6QixRQUFRNUcsRUFBS0ksS0FBTSxzQkFDN0IwRyxjQUFlLEVBQ2ZELGFBQWMsR0FDZEUsTUFBTyxJQUNQQyxNQUFNLEVBQ05DLE9BQVEsT0FDUkMsTUFDSUMsV0FBVyxHQUVmQyw4QkFBOEIsRUFDOUJDLFdBQVlySCxFQUFLSSxLQUFLLHVCQUF1QixHQUM3Q2tILFdBQVl0SCxFQUFLSSxLQUFLLHVCQUF1QixNQUlyRFQsRUFBUSxXQUNKSyxFQUFLLEdBQUdmLElBQU1DLEVBQ2RLLElBQ0ErRixJQUlSM0YsTUFHQWIsRUFBVyxTQUFXRyxHQUd0QixHQVFJaUssR0FDQUMsRUFSQW5KLEVBQU9mLEVBQ1BtSyxFQUFPcEosRUFBS0ksS0FBSyx1QkFDakJpSixFQUFVRCxFQUFLRSxLQUFLLFdBQ3BCQyxFQUFVSCxFQUFLRSxLQUFLLFdBQ3BCRSxFQUFXSixFQUFLRSxLQUFLLFlBQ3JCRyxFQUFPdEwsRUFBRSwwQkFDVGdCLEVBQVVoQixFQUFHaUIsUUFLYkcsRUFBYSxXQUVUSixFQUFRSyxJQUNKQyxLQUFNLFdBQ0Y4RixLQUVKOUUsT0FBUSxXQUNKOEUsT0FNUm1FLE9BQU9DLEtBQUt2RixNQUFNd0YsZUFBZ0J4SyxPQUFRLFNBQVUsV0FFaEQsR0FBS3FLLEVBQUs1SSxPQUFTLENBRWYsR0FBSWdKLElBQVlDLElBQUtMLEVBQUs5QixPQUFPLFdBQVcyQixLQUFLLFdBQVlTLElBQUtOLEVBQUs5QixPQUFPLFdBQVcyQixLQUFLLFdBRTlGSixHQUFJYyxVQUFXSCxNQU92QkosRUFBS2pLLElBQ0RtQixNQUFPLFdBRUgsR0FBSXNKLEdBQVU5TCxFQUFFSSxLQUVoQixLQUFNMEwsRUFBUS9ILFNBQVMsVUFBYSxDQUVoQ3VILEVBQUsxSCxZQUFZLFVBQ2pCa0ksRUFBUXBLLFNBQVMsU0FFakIsSUFBSWdLLElBQVlDLElBQUszTCxFQUFFSSxNQUFNK0ssS0FBSyxXQUFZUyxJQUFLNUwsRUFBRUksTUFBTStLLEtBQUssV0FDaEVILEdBQU9lLFlBQVlMLEdBRW5CL0osV0FBWSxXQUVSb0osRUFBSWMsVUFBVUgsSUFFZixLQUlQLE9BQU8sTUF1Qm5CTSxFQUFXLFdBQ1AsR0FBSUMsR0FBZ0IsR0FBSVYsUUFBT0MsS0FBS1UsZ0JBRTVCQyxVQUVRQyxJQUFPLFlBR1BDLFdBQWMsS0FHZEMsa0JBS1JDLFlBQWUsbUJBQ2ZKLFVBRVFLLE1BQVMsY0FLakJDLFlBQWUsUUFDZk4sVUFFUUssTUFBUyxjQUtqQkMsWUFBZSxPQUNmTixVQUVRSyxNQUFTLGlCQU1qQkMsWUFBZSxhQUNmTixVQUVRSyxNQUFTLFlBR1RGLFVBQWEsTUFLckJHLFlBQWUsZUFDZk4sVUFFUUssTUFBUyxZQUdURixrQkFLUkcsWUFBZSxnQkFDZk4sVUFFUUssTUFBUyxZQUdURixrQkFLUkcsWUFBZSxVQUNmTixVQUVRSyxNQUFTLFlBR1RGLFVBQWEsT0FLckJHLFlBQWUsZUFDZk4sVUFFUUssTUFBUyxZQUdURixVQUFhLE9BS3JCRyxZQUFlLHlCQUNmRixZQUFlLFNBQ2ZKLFVBRVFPLFdBQWMsVUFLdEJELFlBQWUsa0JBQ2ZGLFlBQWUscUJBQ2ZKLFVBRVFPLFdBQWMsVUFLdEJELFlBQWUsa0JBQ2ZGLFlBQWUsbUJBQ2ZKLFVBRVFLLE1BQVMsZUFLckJHLEtBQU0saUJBRU5DLEVBQWtCLGNBRXRCN0IsR0FBTSxHQUFJUSxRQUFPQyxLQUFLcUIsSUFBSzVCLEVBQUssSUFDNUI2QixLQUFNekIsRUFDTjBCLGFBQWEsRUFDYkMsZ0JBQWdCLEVBQ2hCQyxjQUFjLEVBQ2RDLG1CQUFtQixFQUNuQkMsZUFBZSxFQUNmQyxRQUFTekIsSUFBS1QsRUFBU1UsSUFBS1IsR0FDNUJpQyx1QkFDSUMsWUFBYS9CLE9BQU9DLEtBQUsrQixVQUFVQyxRQUFTWixNQUlwRDVCLEVBQVMsR0FBSU8sUUFBT0MsS0FBS2lDLFFBQ3JCL0YsVUFBV2lFLElBQUtULEVBQVNVLElBQUtSLEdBQzlCTCxJQUFLQSxJQUdUQSxFQUFJMkMsU0FBU0MsSUFBSWYsRUFBaUJYLEdBQ2xDbEIsRUFBSTZDLGFBQWFoQixHQUVqQnJCLE9BQU9DLEtBQUt2RixNQUFNNEgsZ0JBQWdCOUMsRUFBSyxPQUFRLFdBRTNDLEdBQUtPLEVBQUs1SSxPQUFTLENBRWYsR0FBSWdKLElBQVlDLElBQUtMLEVBQUs5QixPQUFPLFdBQVcyQixLQUFLLFdBQVlTLElBQUtOLEVBQUs5QixPQUFPLFdBQVcyQixLQUFLLFdBRTlGSixHQUFJYyxVQUFXSCxPQVMzQmxLLEVBQVEsV0FDSitKLE9BQU9DLEtBQUt2RixNQUFNd0YsZUFBZXhLLE9BQVEsT0FBUStLLEdBQ2pENUssSUFDQWdHLEtBRUpBLEVBQWEsV0FFVCxHQUFJMEcsR0FBZTlOLEVBQUUsb0JBQ2pCK04sRUFBYy9OLEVBQUUsbUJBQ2hCZ08sRUFBUWhPLEVBQUUsbUJBRVZnQixHQUFRbUIsU0FBVyxJQUVmMkwsRUFBYTNMLFFBQVU0TCxFQUFZakwsZUFFbkNqQixFQUFLMEMsT0FBUXVKLEVBQWEzTCxTQUMxQk4sRUFBS00sTUFBTzJMLEVBQWEzTCxVQUlyQjRMLEVBQVlqTCxjQUFnQmlMLEVBQVlFLGNBRXhDcE0sRUFBSzBDLE9BQVF3SixFQUFZakwsY0FBeUMsR0FBMUJpTCxFQUFZakwsZUFDcERqQixFQUFLTSxNQUFPNEwsRUFBWWpMLGNBQXlDLEdBQTFCaUwsRUFBWWpMLGlCQUluRGpCLEVBQUswQyxPQUFRd0osRUFBWUUsYUFBdUMsR0FBekJGLEVBQVlFLGNBQ25EcE0sRUFBS00sTUFBTzRMLEVBQVlFLGFBQXVDLEdBQXpCRixFQUFZRSxlQU8xRHBNLEVBQUtvRCxLQUFLLFFBQVEsR0FJdEIsSUFBSXdDLEdBQU11RyxFQUFNL0YsU0FBU04sSUFBTTlGLEVBQUtvRyxTQUFTTixJQUN6Q3lGLEVBQVNZLEVBQU16SixTQUFTLEVBQUlrRCxDQUVoQ3dELEdBQUsxRyxPQUFpQixFQUFUNkksR0FLckI1TCxNQUdBaEIsRUFBcUIsU0FBV00sR0FHaEMsR0FDSWUsR0FBT2YsRUFDUG9OLEVBQVNyTSxFQUFLSSxLQUFLLGlCQUNuQmpCLEVBQVVoQixFQUFHaUIsUUFHYkcsRUFBYSxXQUVUSixFQUFRSyxJQUNKQyxLQUFNLGFBR05nQixPQUFRLFdBRUo2TCxRQU1aQSxFQUFlLFdBRVhELEVBQU9qTSxLQUFLLFNBQVMvQixLQUFLLFdBRXRCLEdBQUk0TCxHQUFVOUwsRUFBRUksTUFDWmdPLEVBQVd0QyxFQUFRWCxLQUFLLFFBRTVCLElBQWdCa0QsUUFBWkQsRUFBd0IsQ0FFeEIsSUFBSyxHQUFJRSxHQUFJLEVBQUdBLEVBQUlGLEVBQVMxTCxPQUFRNEwsSUFBTSxDQUV2QyxHQUFJQyxFQUVBdk4sR0FBUW1CLFNBQVcsS0FFbkJvTSxFQUFXSCxFQUFTLEdBRWJwTixFQUFRbUIsUUFBVSxNQUFRbkIsRUFBUW1CLFNBQVUsSUFFbkRvTSxFQUFXSCxFQUFTLEdBRWJwTixFQUFRbUIsUUFBVSxNQUV6Qm9NLEVBQVdILEVBQVMsSUFNeEJHLEVBQVNDLElBQUk5TCxRQUVib0osRUFBUTFILEtBQ0pxSyxtQkFBb0IsUUFBU0YsRUFBU0MsSUFBSyxLQUMzQzdHLElBQUssT0FDTFMsTUFBTyxPQUNQRCxPQUFRLE9BQ1JELEtBQU0sUUFLZCxLQUFLLEdBQUl3RyxLQUFPSCxHQUFTSSxVQUVyQjdDLEVBQVExSCxJQUFLc0ssRUFBS0gsRUFBU0ksVUFBVUQsR0FBSyxJQUFNLFVBVWhFbE4sRUFBUSxXQUNKSixJQUNBK00sSUFHUjNNLE1BR0FYLEVBQWMsU0FBV0MsR0FFekIsR0FJSW9KLEdBSkFuSixFQUFRWCxLQUNSeUIsRUFBT2YsRUFDUEUsRUFBVWhCLEVBQUdpQixRQUNiYyxHQUFjLEVBRWQ2TSxFQUFTNU8sRUFBRSxVQUNYNk8sRUFBYTdPLEVBQUUsZ0JBRWZvQixFQUFhLFdBRVRKLEVBQVFLLElBQ0pDLEtBQU0sV0FFRU4sRUFBUW1CLFNBQVcsS0FFbkIyTSxLQU1SeE0sT0FBUSxXQUVBdEIsRUFBUW1CLFFBQVUsS0FFYkosSUFFRG9GLElBQ0FwRixHQUFjLEdBSWxCOE0sRUFBVzVKLEtBQUssUUFBUSxNQUtwQmxELElBRUFxSSxJQUNBckksR0FBYyxHQUdsQitNLFNBU2hCM0gsRUFBYyxXQUVWK0MsRUFBVSxHQUFJekIsUUFBUTVHLEVBQUtJLEtBQU0sc0JBQzdCMEcsY0FBZSxLQUNmMEIsZ0JBQWdCLEtBSXhCRCxFQUFpQixXQUViRixFQUFRbEcsU0FBUyxHQUFNLElBRzNCOEssRUFBZSxXQUVYLEdBRUl4SyxHQUZBQyxFQUFTcUssRUFBTzlMLGNBQ2hCWCxFQUFReU0sRUFBT1gsWUFLZjNKLEdBRkFDLEVBQVNwQyxFQUVFQSxFQUlBb0MsRUFJZnNLLEVBQVcxTSxNQUFPbUMsR0FDbEJ1SyxFQUFXdEssT0FBUUQsR0FDbkJ1SyxFQUFXekssS0FFUDJLLGFBQWMsSUFBTXpLLEVBQVEsRUFBSSxLQUNoQzBLLGNBQWUsSUFBTTFLLEVBQVEsRUFBSSxPQUtqQ3pDLEVBQUtZLFVBQVVzQixTQUFTLFVBRW5CTyxFQUFVdUssRUFBV3pLLElBQUksZUFFMUJ5SyxFQUFXMU0sTUFBT21DLEdBQ2xCdUssRUFBV3RLLE9BQVFELEdBQ25CdUssRUFBV3pLLEtBRVAySyxhQUFjLElBQU16SyxFQUFRLEVBQUksS0FDaEMwSyxjQUFlLElBQU0xSyxFQUFRLEVBQUksU0FNckN1SyxFQUFXMU0sTUFBTzBNLEVBQVd6SyxJQUFJLGVBQ2pDeUssRUFBV3RLLE9BQVFzSyxFQUFXekssSUFBSSxlQUNsQ3lLLEVBQVd6SyxLQUVQMkssYUFBYyxJQUFNdkssU0FBVXFLLEVBQVd6SyxJQUFJLGVBQWdCLEVBQUssS0FDbEU0SyxjQUFlLElBQU14SyxTQUFVcUssRUFBV3pLLElBQUksZUFBZ0IsRUFBSyxRQU12RXlLLEVBQVcvTCxjQUFnQjlDLEVBQUUsaUJBQWlCOEMsY0FFOUMrTCxFQUFXekssS0FFUHVELElBQUssRUFDTG9ILGFBQWMsRUFDZEMsY0FBZSxJQUFNeEssU0FBVXFLLEVBQVd6SyxJQUFJLGVBQWdCLEVBQUksUUFNdEV5SyxFQUFXMU0sTUFBd0MsSUFBakNuQyxFQUFFLGlCQUFpQjhDLGVBQ3JDK0wsRUFBV3RLLE9BQXlDLElBQWpDdkUsRUFBRSxpQkFBaUI4QyxlQUN0QytMLEVBQVd6SyxLQUVQMkssYUFBYyxJQUFtRCxJQUE3Q3ZLLFNBQVV4RSxFQUFFLGlCQUFpQjhDLGVBQW9CLEVBQUssS0FDMUVrTSxjQUFlLElBQW1ELElBQTdDeEssU0FBVXhFLEVBQUUsaUJBQWlCOEMsZUFBb0IsRUFBSyxVQVMzRnRCLEVBQVEsV0FDSkssRUFBSyxHQUFHZixJQUFNQyxFQUNkSyxJQUVJSixFQUFRbUIsUUFBVSxNQUViSixJQUVEb0YsSUFDQXBGLEdBQWMsSUFPOUJQO0NDdm9EUixXQUVJeEIsRUFBRyxXQUNDLFlBRUFBLEdBQUVFLEtBQU1GLEVBQUUsbUJBQW9CLFdBRTFCLEdBQUlpUCxHQUFhalAsRUFBRUksVUFPM0IsSUFBSTZPLEdBQWMsU0FBVW5PLEdBR3hCLEdBQUlDLEdBQVFYLEtBQ1J5QixFQUFPZixFQUVQb08sR0FEWXJOLEVBQUtJLEtBQUssZUFDUmpDLEVBQUUsNEJBQ2hCbVAsRUFBYW5QLEVBQUUsa0JBQ2ZvUCxFQUFlcFAsRUFBRSxtQkFJakJxUCxHQUhnQnhOLEVBQUtJLEtBQUssb0JBR1gsV0FDWGlDLElBQ0FvTCxJQUNBQyxJQUVBMU4sRUFBSyxHQUFHZixJQUFNQyxJQUdsQnVPLEVBQWtCLFdBRWR6TixFQUFLSSxLQUFLLGdDQUFnQ3VOLE9BQU8sdURBRWpELElBQUlDLEdBQVE1TixFQUFLSSxLQUFLLGdDQUFnQ0EsS0FBSyxZQUFZeU4sTUFDbkVDLEVBQWE5TixFQUFLSSxLQUFLLGdEQUUzQjBOLEdBQVdDLEtBQUtILEdBQ2hCNU4sRUFBS0ksS0FBSyxnQ0FBZ0NtQyxJQUFLLFNBQVV1TCxFQUFXN00sY0FBYyxLQUd0RitNLEVBQWtCLGFBTWxCTixFQUFnQixXQUNaSixFQUFhQSxFQUFXN0csT0FBTSxJQUdsQ3dILEVBQWdCLFdBQ1pqTyxFQUFLSSxLQUFLLGVBQWV1TixPQUFPLGdEQUM1QjNOLEVBQUtJLEtBQUssV0FBVzhCLFNBQVMsaUJBRTlCbEMsRUFBS0ksS0FBSyxlQUFlQSxLQUFLLDJCQUEyQjhOLEtBQU1sTyxFQUFLSSxLQUFLLDJDQUEyQzhOLFFBQ3BIbE8sRUFBS0ksS0FBSywyREFBMkQrTixRQUNyRW5PLEVBQUtJLEtBQUssZUFBZUEsS0FBSywyQkFBMkJQLFNBQVMsWUFJbEVHLEVBQUtJLEtBQUssZUFBZUEsS0FBSywyQkFBMkIyQixZQUFZLFlBTTdFTSxFQUFZLFdBRVJsRSxFQUFFK0YsVUFBVWtLLEtBQUssNEJBQTZCLFdBRTFDcE8sRUFBS0gsU0FBUyxVQUNkME4sRUFBYW5OLEtBQUssYUFBYXVOLE9BQU9MLEdBRXRDblAsRUFBRSxrQkFBa0JpQyxLQUFLLFFBQVEsR0FBR2lPLFVBR3hDbFEsRUFBRStGLFVBQVVrSyxLQUFLLG9CQUFxQixXQUNsQ0osSUFDQVAsSUFDQVEsSUFFQWpPLEVBQUtJLEtBQUssZ0NBQWdDWixJQUN0QzhPLE1BQU8sU0FBVW5LLEdBRWIsR0FBSXlKLEdBQVF6UCxFQUFFSSxNQUFNNkIsS0FBSyxZQUFZeU4sTUFDakNDLEVBQWE5TixFQUFLSSxLQUFLLGdEQVMzQixPQVBBME4sR0FBV0MsS0FBS0gsR0FDaEI1TixFQUFLSSxLQUFLLGdDQUFnQ21DLElBQUssU0FBVXVMLEVBQVc3TSxjQUFjLElBRWpFLElBQWJrRCxFQUFFb0ssU0FDRnZPLEVBQUtJLEtBQUssZ0NBQWdDbUMsSUFBSyxTQUFVdUwsRUFBVzdNLGNBQWMsS0FHL0UsT0FRbkJqQixFQUFLSSxLQUFLLGdDQUFnQ1osSUFDdEM4TyxNQUFPLFNBQVVuSyxHQUViLEdBQUl5SixHQUFRelAsRUFBRUksTUFBTTZCLEtBQUssWUFBWXlOLE1BQ2pDQyxFQUFhOU4sRUFBS0ksS0FBSyxnREFTM0IsT0FQQTBOLEdBQVdDLEtBQUtILEdBQ2hCNU4sRUFBS0ksS0FBSyxnQ0FBZ0NtQyxJQUFLLFNBQVV1TCxFQUFXN00sY0FBYyxJQUVqRSxJQUFia0QsRUFBRW9LLFNBQ0Z2TyxFQUFLSSxLQUFLLGdDQUFnQ21DLElBQUssU0FBVXVMLEVBQVc3TSxjQUFjLEtBRy9FLEtBSWZvTSxFQUFZN04sSUFDUm1CLE1BQU8sV0FLSCxNQUpBeEMsR0FBRSxrQkFBa0JpQyxLQUFLLFFBQVEsR0FBR2lPLFFBQ3BDWCxJQUNBMU4sRUFBSytCLFlBQVksV0FFVixLQVF2QnlMIiwiZmlsZSI6ImNvbnRhY3RzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuKCBmdW5jdGlvbigpIHtcblxuICAgICQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIG5ldyBQcmVsb2FkZXIoICQoJy5wcmVsb2FkZXInKSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnNpdGVfX2luZGV4LXBhZ2UnICksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFBhZ2UoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCdib2R5JyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFpvb21TaXRlKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnNpdGVfX2hlYWRlcicpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBNZW51KCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLm1haW4tc2xpZGVyJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IE1haW5TbGlkZXIoICQodGhpcykgKTtcbiAgICAgICAgICAgIG5ldyBNYWluU2xpZGVyUGljdHVyZXMoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuZXhwZXJ0aXNlX19pdGVtcycpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBFeHBlcnRpc2VTbGlkZXIoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcucmV2aWV3cycpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBSZXZpZXdzU2xpZGVyKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLmNvbnRhY3RzX19tYXAnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgTG9jYXRpb24oICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuY2FzZSAubWFpbi1zbGlkZXJfX2J0bi1kb3duJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFNjcm9sbERvd24oICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuc3F1YWRfX2l0ZW1zJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFNxdWFkU2xpZGVyKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG5cbiAgICB9ICk7XG5cbiAgICB2YXIgUHJlbG9hZGVyID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfcHJlbG9hZGVyID0gb2JqLFxuICAgICAgICAgICAgX2JvZHkgPSAkKCdib2R5Jyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93U2l0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9ib2R5WzBdLnByZWxvYWRlciA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaG93U2l0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3ByZWxvYWRlci5hZGRDbGFzcyggJ3ByZWxvYWRlcl9sb2FkZWQnICk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIF9wcmVsb2FkZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zaXRlJykuYWRkQ2xhc3MoICdzaXRlX19sb2FkZWQnICk7XG5cbiAgICAgICAgICAgICAgICB9LDUwMCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgUGFnZSA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX2RvbSA9ICQoICdodG1sLCBib2R5JyApLFxuICAgICAgICAgICAgX3N3aXBlckluaXQgPSBmYWxzZSxcbiAgICAgICAgICAgIF9zd2lwZXIsXG4gICAgICAgICAgICBfc2xpZGVDb250ZW50ID0gX29iai5maW5kKCcuc2xpZGVfX2NvbnRlbnQnKSxcbiAgICAgICAgICAgIF9tYWluU2xpZGVyID0gJCgnLm1haW4tc2xpZGVyJyksXG4gICAgICAgICAgICBfYnRuRG93biA9IF9tYWluU2xpZGVyLmZpbmQoJy5tYWluLXNsaWRlcl9fYnRuLWRvd24nKTtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhX3N3aXBlckluaXQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRGdWxsUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2VudGVyQ29udGVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3dpcGVySW5pdCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhX3N3aXBlckluaXQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRGdWxsUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3dpcGVySW5pdCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2VudGVyQ29udGVudCgpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3N3aXBlckluaXQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Rlc3Ryb3lGdWxsUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3dpcGVySW5pdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9idG5Eb3duLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAkKCB0aGlzICkucGFyZW50cyggJy5jYXNlJyApLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9tLnN0b3AoIHRydWUsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uYW5pbWF0ZSggeyBzY3JvbGxUb3A6IF9tYWluU2xpZGVyLmlubmVySGVpZ2h0KCkgfSwgMzAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2V7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5mbi5mdWxscGFnZS5tb3ZlVG8oMik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9tLnN0b3AoIHRydWUsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RvbS5hbmltYXRlKCB7IHNjcm9sbFRvcDogX21haW5TbGlkZXIuaW5uZXJIZWlnaHQoKSB9LCAzMDAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdEZ1bGxQYWdlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAkKCcjZnVsbHBhZ2UnKS5mdWxscGFnZSgge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbE92ZXJmbG93OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uU2VsZWN0b3I6ICcuc2xpZGVfX2NvbnRlbnQnLFxuICAgICAgICAgICAgICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiggYW5jaG9yTGluaywgaW5kZXgsIHNsaWRlSW5kZXgsIGRpcmVjdGlvbiwgbmV4dFNsaWRlSW5kZXggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpbmRleCA+IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcubG9nb19pbmRleCcpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcubW92ZScpLmFkZENsYXNzKCdtb3Zlc191cCBhbmltYXRlZF9tb3ZlcycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmxvZ29faW5kZXgnKS5zaG93KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm1vdmUnKS5yZW1vdmVDbGFzcygnbW92ZXNfdXAnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5tb3ZlJykucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkX21vdmVzJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA4MDAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJsb2NrID0gJCgnLnNsaWRlX19jb250ZW50JykuZXEoIGluZGV4LTEpLmZpbmQoJy5zbGlkZV9fY29udGVudC1pbm5lcj5kaXY+ZGl2Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBibG9jay5oYXNDbGFzcygncmV2aWV3cycpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suZmluZCgnLnJldmlld3NfX2l0ZW0nKS5hZGRDbGFzcygnYW5pbWF0aW9uJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGluZGV4ID4gMiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5hYm91dCcpLmFkZENsYXNzKCd2aXNpYmxlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfZGVzdHJveUZ1bGxQYWdlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLmRlc3Ryb3koJ2FsbCcpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NlbnRlckNvbnRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvL19zbGlkZUNvbnRlbnQuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICB2YXIgY3VyQ29udGVudCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIGN1ckNvbnRlbnRJbm5lciA9IGN1ckNvbnRlbnQuZmluZCgnLnNsaWRlX19jb250ZW50LWlubmVyJyk7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICBjdXJDb250ZW50SW5uZXIuY3NzKCB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICdtaW4taGVpZ2h0JzogX3dpbmRvdy5oZWlnaHQoKVxuICAgICAgICAgICAgICAgIC8vICAgIH0gKTtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgIGlmKCBjdXJDb250ZW50SW5uZXIuZmluZCgnPmRpdicpLmhlaWdodCgpIDwgX3dpbmRvdy5oZWlnaHQoKSApIHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgICAgICBpZiggY3VyQ29udGVudC5maW5kKCcuY29udGFjdHMnKS5sZW5ndGggKSB7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIGlmKCBjdXJDb250ZW50LmZpbmQoJy5jb250YWN0c19fbWFwJykuaGVpZ2h0KCkgPCBjdXJDb250ZW50SW5uZXIuZmluZCgnPmRpdicpLmhlaWdodCgpICkge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgY3VyQ29udGVudElubmVyLmFkZENsYXNzKCdjZW50ZXJlZCcpO1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgY3VyQ29udGVudElubmVyLnJlbW92ZUNsYXNzKCdjZW50ZXJlZCcpO1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICBjdXJDb250ZW50SW5uZXIuYWRkQ2xhc3MoJ2NlbnRlcmVkJyk7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgICAgICBjdXJDb250ZW50SW5uZXIucmVtb3ZlQ2xhc3MoJ2NlbnRlcmVkJyk7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL30gKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuXG5cblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgWm9vbVNpdGUgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX21haW5TbGlkZXIgPSAkKCcubWFpbi1zbGlkZXInKSxcbiAgICAgICAgICAgIF9jYXNlSGVybyA9ICQoJy5jYXNlX19oZXJvJyksXG4gICAgICAgICAgICBfYm9keSA9IF9vYmo7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcblxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSA3NjggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0U2l6ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2JvZHkuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdmb250LXNpemUnOiAnNzVweCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbWFpblNsaWRlci5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6ICc3NXB4J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYXNlSGVyby5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6ICc3NXB4J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gNzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9zZXRTaXplKCk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldFNpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgbmV3U2l6ZTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LmhlaWdodCgpID4gNTAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgIG5ld1NpemUgPSAoKCAxMDAgKiAoIHdpbmRvdy5pbm5lckhlaWdodCAvIDgwMCApICkpICsgJ3B4J1xuXG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIG5ld1NpemUgPSAoKCAxMDAgKiAoIDUwMCAvIDgwMCApICkpICsgJ3B4J1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCBwYXJzZUludCggbmV3U2l6ZSApID4gMTAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgIG5ld1NpemUgPSAxMDAgKyAncHgnXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6IG5ld1NpemVcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfbWFpblNsaWRlci5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6IG5ld1NpemVcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfY2FzZUhlcm8uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICdmb250LXNpemUnOiBuZXdTaXplXG4gICAgICAgICAgICAgICAgfSApO1xuXG5cbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgTWVudSA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cpLFxuICAgICAgICAgICAgX21lbnVCdG4gPSBfb2JqLmZpbmQoJy5zaXRlX19oZWFkZXJfX2J0bicpLFxuICAgICAgICAgICAgX21lbnVJdGVtcyA9IF9vYmouZmluZCgnLnNpdGVfX2hlYWRlci1tZW51JyksXG4gICAgICAgICAgICBfaHRtbCA9ICQoJ2h0bWwnKSxcbiAgICAgICAgICAgIF9zaXRlID0gJCgnLnNpdGUnKSxcbiAgICAgICAgICAgIHNpdGVTY3JvbGxUb3AsXG4gICAgICAgICAgICBfYm9keSA9ICQoJ2JvZHknKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2Nsb3NlTWVudSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcblxuICAgICAgICAgICAgICAgIGlmKCAoX3dpbmRvdy53aWR0aCgpID49IDEwMjQpICYmICgkKCcuc2l0ZV9faW5kZXgtcGFnZScpLmxlbmd0aCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJC5mbi5mdWxscGFnZS5zZXRBbGxvd1Njcm9sbGluZyh0cnVlKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfc2l0ZS5oZWlnaHQoKSA+IF93aW5kb3cuaGVpZ2h0KCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaHRtbC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgX3NpdGUuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hlaWdodCc6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF93aW5kb3cuc2Nyb2xsVG9wKCBzaXRlU2Nyb2xsVG9wICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSwgMTApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX21lbnVJdGVtcy5hdHRyKCAnc3R5bGUnLCAnJyApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGw6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cuc2Nyb2xsVG9wKCkgPiAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcygnZml4ZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoJ2ZpeGVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlYWRlckhlaWdodCgpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuc2l0ZV9fY29udGVudCcpLmF0dHIoICdzdHlsZScsICcnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfbWVudUJ0bi5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfb2JqLmhhc0NsYXNzKCAnb3BlbmVkJyApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlTWVudSgpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb3Blbk1lbnUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29wZW5NZW51ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgaWYoIChfd2luZG93LndpZHRoKCkgPj0gMTAyNCkgJiYgKCQoJy5zaXRlX19pbmRleC1wYWdlJykubGVuZ3RoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLnNldEFsbG93U2Nyb2xsaW5nKGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2l0ZVNjcm9sbFRvcCA9IF93aW5kb3cuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfc2l0ZS5oZWlnaHQoKSA+IF93aW5kb3cuaGVpZ2h0KCkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ3Njcm9sbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NpdGUuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoZWlnaHQnOiAnMTAwJSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwKTtcblxuICAgICAgICAgICAgICAgICAgICB9LCAzMDApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldEhlYWRlckhlaWdodCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgaWYoIF9vYmouZmluZCgnLnNpdGVfX2hlYWRlci10aXRsZScpLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAkKCcuc2l0ZV9fY29udGVudCcpLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3BhZGRpbmctdG9wJzogJCgnLnNpdGVfX2hlYWRlci10aXRsZScpLm91dGVySGVpZ2h0KHRydWUpXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LnNjcm9sbFRvcCgpID4gX29iai5pbm5lckhlaWdodCgpLzIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcygnZml4ZWQnKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcygnZml4ZWQnKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICBfc2V0SGVhZGVySGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBNYWluU2xpZGVyID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfaGVhZGVyID0gJCggJy5zaXRlX19oZWFkZXInKSxcbiAgICAgICAgICAgIF9zdGVwMSA9IDE1LFxuICAgICAgICAgICAgX3N0ZXAyID0gMTAsXG4gICAgICAgICAgICBfc3RlcDMgPSA1LFxuICAgICAgICAgICAgX3N0ZXA0ID0gMjAsXG4gICAgICAgICAgICBfc3RlcDUgPSAyNSxcbiAgICAgICAgICAgIF9zd2lwZXIxLFxuICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gMDtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFxuICAgICAgICAgICAgICAgICAgICAnbW91c2Vtb3ZlJyxcbiAgICAgICAgICAgICAgICAgICAgJy5tYWluLXNsaWRlciAuc3dpcGVyLXNsaWRlJyxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oIGUgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNsaWRlID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW1nMSA9IHNsaWRlLmZpbmQoJy5tb3ZlMTpub3QoLm5vdF9tb3ZlKScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbWcyID0gc2xpZGUuZmluZCgnLm1vdmUyOm5vdCgubm90X21vdmUpJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ltZzMgPSBzbGlkZS5maW5kKCcubW92ZTM6bm90KC5ub3RfbW92ZSknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW1nNCA9IHNsaWRlLmZpbmQoJy5tb3ZlNDpub3QoLm5vdF9tb3ZlKScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbWc1ID0gc2xpZGUuZmluZCgnLm1vdmU1Om5vdCgubm90X21vdmUpJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggX3dpbmRvdy53aWR0aCgpID4gMTAyNCAmJiAhKCBfaGVhZGVyLmhhc0NsYXNzKCdvcGVuZWQnKSApICYmICEoICQoZG9jdW1lbnQpLmZpbmQoJy5tb3ZlJykuaGFzQ2xhc3MoJ2FuaW1hdGVkX21vdmVzJykgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYWdlWCA9IGUuY2xpZW50WCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVkgPSBlLmNsaWVudFksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbGZXaWR0aCA9IF9vYmoud2lkdGgoKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbGZIZWlnaHQgPSBfb2JqLmhlaWdodCgpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudEZyb21DZW50ZXJYID0gKCBwYWdlWCAtIGhhbGZXaWR0aCApIC8gaGFsZldpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50RnJvbUNlbnRlclkgPSAoIHBhZ2VZIC0gaGFsZkhlaWdodCApIC8gaGFsZkhlaWdodDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfd2luZG93Lm91dGVyV2lkdGgoKSA+IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZUJvdHRvbShwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXAxLF9pbWcxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVCb3R0b20ocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwMSwgJChkb2N1bWVudCkuZmluZCgnLmNvcHlfMScpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVUb3AocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwMixfaW1nMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlVG9wKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDIsICQoZG9jdW1lbnQpLmZpbmQoJy5jb3B5XzInKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlVG9wKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDMsX2ltZzMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZVRvcChwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXAzLCAkKGRvY3VtZW50KS5maW5kKCcuY29weV8zJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZUJvdHRvbShwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXA0LF9pbWc0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVCb3R0b20ocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwNCwgJChkb2N1bWVudCkuZmluZCgnLmNvcHlfNCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVCb3R0b20ocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwNSxfaW1nNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlQm90dG9tKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDUsICQoZG9jdW1lbnQpLmZpbmQoJy5jb3B5XzUnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRTd2lwZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfZ2xvYmFsV2lkdGggIT0gX3dpbmRvdy53aWR0aCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpKzE7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgJiYgc2NyZWVuLndpZHRoID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8kKCcubW92ZScpLmF0dHIoJ3N0eWxlJywgJycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfb2JqLmhhc0NsYXNzKCdtYWluLXNsaWRlcl9pbmRleCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRTZWN0aW9uID0gX29iai5wYXJlbnRzKCcuc2xpZGVfX2NvbnRlbnQnKS5uZXh0KCkuZmluZCgnLnNsaWRlX19jb250ZW50LWlubmVyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IF9vYmouZmluZCgnLnN3aXBlci1zbGlkZS1hY3RpdmUnKS5pbm5lckhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcuc3dpcGVyLXNsaWRlLWFjdGl2ZSAubW92ZScpLmVhY2goZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2ZWdldGFibGUgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSB2ZWdldGFibGUucG9zaXRpb24oKS50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodFZlZyA9IHZlZ2V0YWJsZS5oZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwb3MgKyBoZWlnaHRWZWcgPiBoZWlnaHQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bSA9IHZlZ2V0YWJsZS5hdHRyKCdjbGFzcycpLnJlcGxhY2UoIC8oXi4rXFxEKShcXGQrKShcXEQuKyQpL2ksJyQyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggJCgnLmNvcHlfbW92ZS5jb3B5XycrbnVtKycnKS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRJbWcgPSAgJCgnLmNvcHlfbW92ZS5jb3B5XycrbnVtKycnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQoJy5zbGlkZV9fY29udGVudCcpLmlubmVySGVpZ2h0KCkgPCAkKCcubWFpbi1zbGlkZXInKS5pbm5lckhlaWdodCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9ICQoJy5tYWluLXNsaWRlcicpLmlubmVySGVpZ2h0KCktJCgnLnNsaWRlX19jb250ZW50JykuaW5uZXJIZWlnaHQoKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZEltZy5vZmZzZXQoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHZlZ2V0YWJsZS5vZmZzZXQoKS50b3AtZGlmZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB2ZWdldGFibGUub2Zmc2V0KCkubGVmdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRJbWcuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdmVnZXRhYmxlLndpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB2ZWdldGFibGUuaGVpZ2h0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3SW1nID0gdmVnZXRhYmxlLmNsb25lKHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbWcuYWRkQ2xhc3MoJ2NvcHlfbW92ZSBjb3B5XycrbnVtKycnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRTZWN0aW9uLnByZXBlbmQobmV3SW1nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQoJy5zbGlkZV9fY29udGVudCcpLmlubmVySGVpZ2h0KCkgPCAkKCcubWFpbi1zbGlkZXInKS5pbm5lckhlaWdodCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9ICQoJy5tYWluLXNsaWRlcicpLmlubmVySGVpZ2h0KCktJCgnLnNsaWRlX19jb250ZW50JykuaW5uZXJIZWlnaHQoKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0ltZy5vZmZzZXQoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHZlZ2V0YWJsZS5vZmZzZXQoKS50b3AtZGlmZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB2ZWdldGFibGUub2Zmc2V0KCkubGVmdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbWcuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdmVnZXRhYmxlLndpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB2ZWdldGFibGUuaGVpZ2h0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bSA9IHZlZ2V0YWJsZS5hdHRyKCdjbGFzcycpLnJlcGxhY2UoIC8oXi4rXFxEKShcXGQrKShcXEQuKyQpL2ksJyQyJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNvcHlfbW92ZS5jb3B5XycrbnVtKycnKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIiwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBzY3JlZW4ud2lkdGggPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwICk7XG5cblxuICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0U3dpcGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc3dpcGVyMSA9IG5ldyBTd2lwZXIoIF9vYmouZmluZCggJy5zd2lwZXItY29udGFpbmVyJyApLCB7XG4gICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDcwMCxcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiAnZmFkZScsXG4gICAgICAgICAgICAgICAgICAgIGZhZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzRmFkZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX29iai5maW5kKCcuc3dpcGVyLWJ1dHRvbi1uZXh0JylbMF0sXG4gICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246IF9vYmouZmluZCgnLnN3aXBlci1idXR0b24tcHJldicpWzBdLFxuICAgICAgICAgICAgICAgICAgICBvbkluaXQ6IGZ1bmN0aW9uKCBzd2lwZXIgKSB7XG5cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0U2xpZGUgPSBzd2lwZXIuc2xpZGVzLmZpbHRlcignLnN3aXBlci1zbGlkZS1hY3RpdmUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uSW5kZXggPSBhY3RTbGlkZS5wYXJlbnRzKCcuc2xpZGVfX2NvbnRlbnQnKS5pbmRleCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRTZWN0aW9uID0gJCgnLnNsaWRlX19jb250ZW50JykuZXEoc2VjdGlvbkluZGV4KzEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCAgKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfb2JqLmhhc0NsYXNzKCdtYWluLXNsaWRlcl9pbmRleCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSBhY3RTbGlkZS5pbm5lckhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdFNsaWRlLmZpbmQoJy5tb3ZlJykuZWFjaChmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmVnZXRhYmxlID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSB2ZWdldGFibGUucG9zaXRpb24oKS50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0VmVnID0gdmVnZXRhYmxlLmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggcG9zICsgaGVpZ2h0VmVnID4gaGVpZ2h0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bSA9IHZlZ2V0YWJsZS5hdHRyKCdjbGFzcycpLnJlcGxhY2UoIC8oXi4rXFxEKShcXGQrKShcXEQuKyQpL2ksJyQyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmYgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0ltZyA9IHZlZ2V0YWJsZS5jbG9uZSh0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0ltZy5hZGRDbGFzcygnY29weV9tb3ZlIGNvcHlfJytudW0rJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRTZWN0aW9uLnByZXBlbmQobmV3SW1nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKCcuc2xpZGVfX2NvbnRlbnQnKS5pbm5lckhlaWdodCgpIDwgJCgnLm1haW4tc2xpZGVyJykuaW5uZXJIZWlnaHQoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmID0gJCgnLm1haW4tc2xpZGVyJykuaW5uZXJIZWlnaHQoKS0kKCcuc2xpZGVfX2NvbnRlbnQnKS5pbm5lckhlaWdodCgpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbWcub2Zmc2V0KCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdmVnZXRhYmxlLm9mZnNldCgpLnRvcC1kaWZmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB2ZWdldGFibGUub2Zmc2V0KCkubGVmdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0ltZy5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB2ZWdldGFibGUud2lkdGgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB2ZWdldGFibGUuaGVpZ2h0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uU2xpZGVDaGFuZ2VTdGFydDogZnVuY3Rpb24oIHN3aXBlciApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdFNsaWRlID0gc3dpcGVyLnNsaWRlcy5maWx0ZXIoJy5zd2lwZXItc2xpZGUtYWN0aXZlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbkluZGV4ID0gYWN0U2xpZGUucGFyZW50cygnLnNsaWRlX19jb250ZW50JykuaW5kZXgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0U2VjdGlvbiA9ICQoJy5zbGlkZV9fY29udGVudCcpLmVxKHNlY3Rpb25JbmRleCsxKS5maW5kKCcuc2xpZGVfX2NvbnRlbnQtaW5uZXInKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNvcHlfbW92ZScpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggYWN0U2xpZGUuZmluZCgnLm1haW4tc2xpZGVyX19jb250ZW50X3B1cmUnKS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5zd2lwZXItYnV0dG9uLXByZXYnKS5hZGRDbGFzcygnY29sb3JlZF9wdXJlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcuc3dpcGVyLWJ1dHRvbi1uZXh0JykuYWRkQ2xhc3MoJ2NvbG9yZWRfcHVyZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcuc3dpcGVyLWJ1dHRvbi1wcmV2JykucmVtb3ZlQ2xhc3MoJ2NvbG9yZWRfcHVyZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLnN3aXBlci1idXR0b24tbmV4dCcpLnJlbW92ZUNsYXNzKCdjb2xvcmVkX3B1cmUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uU2xpZGVDaGFuZ2VFbmQ6IGZ1bmN0aW9uKCBzd2lwZXIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3RTbGlkZSA9IHN3aXBlci5zbGlkZXMuZmlsdGVyKCcuc3dpcGVyLXNsaWRlLWFjdGl2ZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb25JbmRleCA9IGFjdFNsaWRlLnBhcmVudHMoJy5zbGlkZV9fY29udGVudCcpLmluZGV4KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFNlY3Rpb24gPSAkKCcuc2xpZGVfX2NvbnRlbnQnKS5lcShzZWN0aW9uSW5kZXgrMSkuZmluZCgnLnNsaWRlX19jb250ZW50LWlubmVyJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfb2JqLmhhc0NsYXNzKCdtYWluLXNsaWRlcl9pbmRleCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gYWN0U2xpZGUuaW5uZXJIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0U2xpZGUuZmluZCgnLm1vdmUnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmVnZXRhYmxlID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gdmVnZXRhYmxlLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHRWZWcgPSB2ZWdldGFibGUuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggcG9zICsgaGVpZ2h0VmVnID4gaGVpZ2h0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW0gPSB2ZWdldGFibGUuYXR0cignY2xhc3MnKS5yZXBsYWNlKCAvKF4uK1xcRCkoXFxkKykoXFxELiskKS9pLCckMicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0ltZyA9IHZlZ2V0YWJsZS5jbG9uZSh0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbWcuYWRkQ2xhc3MoJ2NvcHlfbW92ZSBjb3B5XycrbnVtKycnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFNlY3Rpb24ucHJlcGVuZChuZXdJbWcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKCcuc2xpZGVfX2NvbnRlbnQnKS5pbm5lckhlaWdodCgpIDwgJCgnLm1haW4tc2xpZGVyJykuaW5uZXJIZWlnaHQoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9ICQoJy5tYWluLXNsaWRlcicpLmlubmVySGVpZ2h0KCktJCgnLnNsaWRlX19jb250ZW50JykuaW5uZXJIZWlnaHQoKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbWcub2Zmc2V0KCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHZlZ2V0YWJsZS5vZmZzZXQoKS50b3AtZGlmZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHZlZ2V0YWJsZS5vZmZzZXQoKS5sZWZ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbWcuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdmVnZXRhYmxlLndpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHZlZ2V0YWJsZS5oZWlnaHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA0MDAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9tb3ZlQm90dG9tID0gZnVuY3Rpb24oIHhQZXJjZW50LCB5UGVyY2VudCwgc3RlcCwgaW1hZ2UgKSB7XG5cbiAgICAgICAgICAgICAgICBpbWFnZS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggJyArIC0oIHhQZXJjZW50ICogc3RlcCApICsgJ3B4LCcgKyAtKCB5UGVyY2VudCAqIHN0ZXAgKSArICdweCApJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoICcgKyAtKCB4UGVyY2VudCAqIHN0ZXAgKSArICdweCwgJyArIC0oIHlQZXJjZW50ICogc3RlcCApICsgJ3B4ICApJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9tb3ZlVG9wID0gZnVuY3Rpb24oIHhQZXJjZW50LCB5UGVyY2VudCwgc3RlcCwgaW1hZ2UgKSB7XG5cbiAgICAgICAgICAgICAgICBpbWFnZS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggJyArICggeFBlcmNlbnQgKiBzdGVwICkgKyAncHggLCcgKyAoIHlQZXJjZW50ICogc3RlcCApICsgJ3B4ICApJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoICcgKyAoIHhQZXJjZW50ICogc3RlcCApICsgJ3B4ICwgJyArICggeVBlcmNlbnQgKiBzdGVwICkgKyAncHggICknXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IF93aW5kb3cuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIF9vYmoucGFyZW50cygnLmNhc2UnKS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0ICsgaGVpZ2h0LzVcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG5cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG5cblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgRXhwZXJ0aXNlU2xpZGVyID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfc3dpcGVySW5pdCA9IGZhbHNlLFxuICAgICAgICAgICAgX3N3aXBlcixcbiAgICAgICAgICAgIF9zY3JlZW5WYWwgPSBudWxsO1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgX3NjcmVlblZhbCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhX3N3aXBlckluaXQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRTd2lwZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N3aXBlckluaXQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3N3aXBlckluaXQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Rlc3Ryb3lTd2lwZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N3aXBlckluaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXRTd2lwZXIgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9zd2lwZXIgPSBuZXcgU3dpcGVyKCBfb2JqLmZpbmQoICcuc3dpcGVyLWNvbnRhaW5lcicgKSwge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLjksXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoc3dpcGVyLCBldmVudCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGlja2VkID0gc3dpcGVyLmNsaWNrZWRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXBlci5hY3RpdmVJbmRleCA9IGNsaWNrZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2lwZXIudXBkYXRlQ2xhc3NlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3N3aXBlci5zbGlkZVRvKGNsaWNrZWQsIDIwMCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2Rlc3Ryb3lTd2lwZXIgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9zd2lwZXIuZGVzdHJveSggdHJ1ZSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0U2NyZWVuVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIF9vYmoucGFyZW50cygnLmV4cGVydGlzZV8zJykubGVuZ3RoICkgIHtcblxuICAgICAgICAgICAgICAgICAgICBfc2NyZWVuVmFsID0gMTAyNFxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBfc2NyZWVuVmFsID0gNzY4XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX3NldFNjcmVlblZhbHVlKCk7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IF9zY3JlZW5WYWwgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoICFfc3dpcGVySW5pdCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRTd2lwZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zd2lwZXJJbml0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBTY3JvbGxEb3duID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfc2Nyb2xsZXIgPSAkKCAnaHRtbCwgYm9keScgKSxcbiAgICAgICAgICAgIF9tYWluU2xpZGVyUGljID0gJCgnLm1haW4tc2xpZGVyX19pbm5lci1waWMnKTtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vYmoub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2Nyb2xsZXIuYW5pbWF0ZSggeyBzY3JvbGxUb3A6IF9tYWluU2xpZGVyUGljLmlubmVySGVpZ2h0KCkgfSwgMzAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBSZXZpZXdzU2xpZGVyID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfc3dpcGVyO1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG5cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXRTd2lwZXIgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9zd2lwZXIgPSBuZXcgU3dpcGVyKCBfb2JqLmZpbmQoICcuc3dpcGVyLWNvbnRhaW5lcicgKSwge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDMwLFxuICAgICAgICAgICAgICAgICAgICBzcGVlZDogNTAwLFxuICAgICAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6ICdmYWRlJyxcbiAgICAgICAgICAgICAgICAgICAgZmFkZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NGYWRlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5RGlzYWJsZU9uSW50ZXJhY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfb2JqLmZpbmQoJy5zd2lwZXItYnV0dG9uLW5leHQnKVswXSxcbiAgICAgICAgICAgICAgICAgICAgcHJldkJ1dHRvbjogX29iai5maW5kKCcuc3dpcGVyLWJ1dHRvbi1wcmV2JylbMF1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9pbml0U3dpcGVyKCk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIExvY2F0aW9uID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfbWFwID0gX29iai5maW5kKCcjY29udGFjdC1nb29nbGUtbWFwJyksXG4gICAgICAgICAgICBfbWFwTGF0ID0gX21hcC5kYXRhKCdtYXAtbGF0JyksXG4gICAgICAgICAgICBfbWFwTG5nID0gX21hcC5kYXRhKCdtYXAtbG5nJyksXG4gICAgICAgICAgICBfbWFwWm9vbSA9IF9tYXAuZGF0YSgnbWFwLXpvb20nKSxcbiAgICAgICAgICAgIF9idG4gPSAkKCcuY29udGFjdHNfX2NpdGllcyAuYnRuJyksXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBtYXAsXG4gICAgICAgICAgICBtYXJrZXI7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG5cblxuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZERvbUxpc3RlbmVyKCB3aW5kb3csICdyZXNpemUnLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIF9idG4ubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXlMYXRMbmcgPSB7bGF0OiBfYnRuLmZpbHRlcignLmFjdGl2ZScpLmRhdGEoJ21hcC1sYXQnKSwgbG5nOiBfYnRuLmZpbHRlcignLmFjdGl2ZScpLmRhdGEoJ21hcC1sbmcnKX07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5zZXRDZW50ZXIoIG15TGF0TG5nICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vX29mZnNldENlbnRlciggbWFwLmdldENlbnRlcigpLCAwLCAwKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2J0bi5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKGN1ckl0ZW0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9idG4ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG15TGF0TG5nID0ge2xhdDogJCh0aGlzKS5kYXRhKCdtYXAtbGF0JyksIGxuZzogJCh0aGlzKS5kYXRhKCdtYXAtbG5nJyl9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlci5zZXRQb3NpdGlvbihteUxhdExuZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9nb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKG1hcCwgJ3Jlc2l6ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAuc2V0Q2VudGVyKG15TGF0TG5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9fb2Zmc2V0Q2VudGVyKCBtYXAuZ2V0Q2VudGVyKCksIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29mZnNldENlbnRlciA9IGZ1bmN0aW9uICggbGF0bG5nLCBvZmZzZXR4LCBvZmZzZXR5ICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gTWF0aC5wb3coIDIsIG1hcC5nZXRab29tKCkgKSxcbiAgICAgICAgICAgICAgICAgICAgd29ybGRDb29yZGluYXRlQ2VudGVyID0gbWFwLmdldFByb2plY3Rpb24oKS5mcm9tTGF0TG5nVG9Qb2ludCggbGF0bG5nICksXG4gICAgICAgICAgICAgICAgICAgIHBpeGVsT2Zmc2V0ID0gbmV3IGdvb2dsZS5tYXBzLlBvaW50KCAoIG9mZnNldHgvc2NhbGUgKSB8fCAwLCAoIG9mZnNldHkvc2NhbGUgKSB8fCAwICksXG4gICAgICAgICAgICAgICAgICAgIHdvcmxkQ29vcmRpbmF0ZU5ld0NlbnRlciA9IG5ldyBnb29nbGUubWFwcy5Qb2ludChcblxuICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRDb29yZGluYXRlQ2VudGVyLnggLSBwaXhlbE9mZnNldC54LFxuICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRDb29yZGluYXRlQ2VudGVyLnkgKyBwaXhlbE9mZnNldC55XG5cbiAgICAgICAgICAgICAgICAgICAgKSxcblxuICAgICAgICAgICAgICAgICAgICBuZXdDZW50ZXIgPSBtYXAuZ2V0UHJvamVjdGlvbigpLmZyb21Qb2ludFRvTGF0TG5nKCB3b3JsZENvb3JkaW5hdGVOZXdDZW50ZXIgKTtcblxuICAgICAgICAgICAgICAgIG1hcC5zZXRDZW50ZXIoIG5ld0NlbnRlciApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXRNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1c3RvbU1hcFR5cGUgPSBuZXcgZ29vZ2xlLm1hcHMuU3R5bGVkTWFwVHlwZShbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImh1ZVwiOiBcIiNiMDAwNDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNhdHVyYXRpb25cIjogNjBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsaWdodG5lc3NcIjogLTQwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjZmY2ZmE0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJ3YXRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjQjYxNTMwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJyb2FkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiNCNjE1MzBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge31cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInJvYWQubG9jYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiI0I2MTUzMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlnaHRuZXNzXCI6IDZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmhpZ2h3YXlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiI0I2MTUzMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlnaHRuZXNzXCI6IC0yNVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuYXJ0ZXJpYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiI0I2MTUzMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlnaHRuZXNzXCI6IC0xMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInRyYW5zaXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiI0I2MTUzMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlnaHRuZXNzXCI6IDcwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwidHJhbnNpdC5saW5lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiNCNjE1MzBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImxpZ2h0bmVzc1wiOiA5MFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcImFkbWluaXN0cmF0aXZlLmNvdW50cnlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInZpc2liaWxpdHlcIjogXCJvZmZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInRyYW5zaXQuc3RhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImxhYmVscy50ZXh0LnN0cm9rZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidmlzaWJpbGl0eVwiOiBcIm9mZlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwidHJhbnNpdC5zdGF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjZmY2ZmE0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdDdXN0b20gU3R5bGUnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGN1c3RvbU1hcFR5cGVJZCA9ICdjdXN0b21fc3R5bGUnO1xuXG4gICAgICAgICAgICAgICAgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcCggX21hcFswXSwge1xuICAgICAgICAgICAgICAgICAgICB6b29tOiBfbWFwWm9vbSxcbiAgICAgICAgICAgICAgICAgICAgem9vbUNvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtYXBUeXBlQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHN0cmVldFZpZXdDb250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcm90YXRlQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcjoge2xhdDogX21hcExhdCwgbG5nOiBfbWFwTG5nfSxcbiAgICAgICAgICAgICAgICAgICAgbWFwVHlwZUNvbnRyb2xPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXBUeXBlSWRzOiBbZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVAsIGN1c3RvbU1hcFR5cGVJZF1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7bGF0OiBfbWFwTGF0LCBsbmc6IF9tYXBMbmd9LFxuICAgICAgICAgICAgICAgICAgICBtYXA6IG1hcFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbWFwLm1hcFR5cGVzLnNldChjdXN0b21NYXBUeXBlSWQsIGN1c3RvbU1hcFR5cGUpO1xuICAgICAgICAgICAgICAgIG1hcC5zZXRNYXBUeXBlSWQoY3VzdG9tTWFwVHlwZUlkKTtcblxuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyT25jZShtYXAsICdpZGxlJywgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBfYnRuLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG15TGF0TG5nID0ge2xhdDogX2J0bi5maWx0ZXIoJy5hY3RpdmUnKS5kYXRhKCdtYXAtbGF0JyksIGxuZzogX2J0bi5maWx0ZXIoJy5hY3RpdmUnKS5kYXRhKCdtYXAtbG5nJyl9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuc2V0Q2VudGVyKCBteUxhdExuZyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL19vZmZzZXRDZW50ZXIoIG1hcC5nZXRDZW50ZXIoKSwgMCwgMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIod2luZG93LCAnbG9hZCcsIF9pbml0TWFwKTtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRIZWlnaHQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBjb250ZW50SW5uZXIgPSAkKCcuY29udGFjdHNfX2lubmVyJyksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRJbmZvID0gJCgnLmNvbnRhY3RzX19pbmZvJyksXG4gICAgICAgICAgICAgICAgICAgIHB1bHNlID0gJCgnLmNvbnRhY3RzX19wdWxzZScpO1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSA3NjggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGNvbnRlbnRJbm5lci53aWR0aCgpID4gY29udGVudEluZm8uaW5uZXJIZWlnaHQoKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmhlaWdodCggY29udGVudElubmVyLndpZHRoKCkgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoud2lkdGgoIGNvbnRlbnRJbm5lci53aWR0aCgpICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGNvbnRlbnRJbmZvLmlubmVySGVpZ2h0KCkgPiBjb250ZW50SW5mby5pbm5lcldpZHRoKCkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouaGVpZ2h0KCBjb250ZW50SW5mby5pbm5lckhlaWdodCgpKyhjb250ZW50SW5mby5pbm5lckhlaWdodCgpKjAuNikgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLndpZHRoKCBjb250ZW50SW5mby5pbm5lckhlaWdodCgpKyhjb250ZW50SW5mby5pbm5lckhlaWdodCgpKjAuNikgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouaGVpZ2h0KCBjb250ZW50SW5mby5pbm5lcldpZHRoKCkrKGNvbnRlbnRJbmZvLmlubmVyV2lkdGgoKSowLjYpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai53aWR0aCggY29udGVudEluZm8uaW5uZXJXaWR0aCgpKyhjb250ZW50SW5mby5pbm5lcldpZHRoKCkqMC42KSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5hdHRyKCdzdHlsZScsJycpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHBvcyA9IHB1bHNlLm9mZnNldCgpLnRvcCAtIF9vYmoub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXIgPSBwdWxzZS5oZWlnaHQoKS8yICsgcG9zO1xuXG4gICAgICAgICAgICAgICAgX21hcC5oZWlnaHQoIGNlbnRlciAqIDIgKVxuXG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIE1haW5TbGlkZXJQaWN0dXJlcyA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3NsaWRlID0gX29iai5maW5kKCcuc3dpcGVyLXNsaWRlJyksXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRQaWN0dXJlcygpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYWRkUGljdHVyZXMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9zbGlkZS5maW5kKCcubW92ZScpLmVhY2goZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVmlldyA9IGN1ckl0ZW0uZGF0YSgndmlld3MnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggZGF0YVZpZXcgIT0gdW5kZWZpbmVkICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBpID0gMDsgaSA8IGRhdGFWaWV3Lmxlbmd0aDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5lZWRWaWV3O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRWaWV3ID0gZGF0YVZpZXdbMl07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgJiYgX3dpbmRvdy53aWR0aCgpID49NzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRWaWV3ID0gZGF0YVZpZXdbMV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF93aW5kb3cud2lkdGgoKSA8IDc2OCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZWVkVmlldyA9IGRhdGFWaWV3WzBdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBuZWVkVmlldy51cmwubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtaW1hZ2UnOiAndXJsKFwiJysgbmVlZFZpZXcudXJsICsnXCIpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG5lZWRWaWV3LnBvc2l0aW9ucykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5jc3MoIGtleSwgbmVlZFZpZXcucG9zaXRpb25zW2tleV0vMTAwICsgJ2VtJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX2FkZFBpY3R1cmVzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBTcXVhZFNsaWRlciA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX3N3aXBlckluaXQgPSBmYWxzZSxcbiAgICAgICAgICAgIF9zd2lwZXIsXG4gICAgICAgICAgICBfc3F1YWQgPSAkKCcuc3F1YWQnKSxcbiAgICAgICAgICAgIF9zcXVhZERpc2sgPSAkKCcuc3F1YWRfX2Rpc2snKTtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gNzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldERpc2tTaXplKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCA3NjggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggIV9zd2lwZXJJbml0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbml0U3dpcGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zd2lwZXJJbml0ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zcXVhZERpc2suYXR0cignc3R5bGUnLCcnKVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3N3aXBlckluaXQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Rlc3Ryb3lTd2lwZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N3aXBlckluaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0RGlza1NpemUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0U3dpcGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc3dpcGVyID0gbmV3IFN3aXBlciggX29iai5maW5kKCAnLnN3aXBlci1jb250YWluZXInICksIHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMS43NSxcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IHRydWVcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfZGVzdHJveVN3aXBlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3N3aXBlci5kZXN0cm95KCB0cnVlLCB0cnVlKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXREaXNrU2l6ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IF9zcXVhZC5pbm5lckhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IF9zcXVhZC5pbm5lcldpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgIG5ld1NpemU7XG5cbiAgICAgICAgICAgICAgICBpZiggaGVpZ2h0ID4gd2lkdGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbmV3U2l6ZSAgPSB3aWR0aFxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBuZXdTaXplICA9IGhlaWdodFxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX3NxdWFkRGlzay53aWR0aCggbmV3U2l6ZSApO1xuICAgICAgICAgICAgICAgIF9zcXVhZERpc2suaGVpZ2h0KCBuZXdTaXplICk7XG4gICAgICAgICAgICAgICAgX3NxdWFkRGlzay5jc3MoIHtcblxuICAgICAgICAgICAgICAgICAgICAnbWFyZ2luLXRvcCc6ICctJyArIG5ld1NpemUvMiArICdweCcsXG4gICAgICAgICAgICAgICAgICAgICdtYXJnaW4tbGVmdCc6ICctJyArIG5ld1NpemUvMiArICdweCdcblxuICAgICAgICAgICAgICAgIH0gKTtcblxuXG4gICAgICAgICAgICAgICAgaWYoIF9vYmoucGFyZW50cygpLmhhc0NsYXNzKCd0ZWFtJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBuZXdTaXplIDwgX3NxdWFkRGlzay5jc3MoJ21heC1oZWlnaHQnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3NxdWFkRGlzay53aWR0aCggbmV3U2l6ZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3NxdWFkRGlzay5oZWlnaHQoIG5ld1NpemUgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zcXVhZERpc2suY3NzKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFyZ2luLXRvcCc6ICctJyArIG5ld1NpemUvMiArICdweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmdpbi1sZWZ0JzogJy0nICsgbmV3U2l6ZS8yICsgJ3B4J1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3NxdWFkRGlzay53aWR0aCggX3NxdWFkRGlzay5jc3MoJ21heC1oZWlnaHQnKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3NxdWFkRGlzay5oZWlnaHQoIF9zcXVhZERpc2suY3NzKCdtYXgtaGVpZ2h0JykgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zcXVhZERpc2suY3NzKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFyZ2luLXRvcCc6ICctJyArIHBhcnNlSW50KCBfc3F1YWREaXNrLmNzcygnbWF4LWhlaWdodCcpICkvMiAgKyAncHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJnaW4tbGVmdCc6ICctJyArIHBhcnNlSW50KCBfc3F1YWREaXNrLmNzcygnbWF4LWhlaWdodCcpICkvMiAgKyAncHgnXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIF9zcXVhZERpc2suaW5uZXJIZWlnaHQoKSA8ICQoJy5zcXVhZF9faW5uZXInKS5pbm5lckhlaWdodCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc3F1YWREaXNrLmNzcygge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJnaW4tdG9wJzogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFyZ2luLWxlZnQnOiAnLScgKyBwYXJzZUludCggX3NxdWFkRGlzay5jc3MoJ21heC1oZWlnaHQnKSApLzIgKyAncHgnXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc3F1YWREaXNrLndpZHRoKCAkKCcuc3F1YWRfX2lubmVyJykuaW5uZXJIZWlnaHQoKSoxLjUgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zcXVhZERpc2suaGVpZ2h0KCAkKCcuc3F1YWRfX2lubmVyJykuaW5uZXJIZWlnaHQoKSoxLjUgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zcXVhZERpc2suY3NzKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFyZ2luLXRvcCc6ICctJyArIHBhcnNlSW50KCAkKCcuc3F1YWRfX2lubmVyJykuaW5uZXJIZWlnaHQoKSApKjEuNS8yICArICdweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmdpbi1sZWZ0JzogJy0nICsgcGFyc2VJbnQoICQoJy5zcXVhZF9faW5uZXInKS5pbm5lckhlaWdodCgpICkqMS41LzIgICsgJ3B4J1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCA3NjggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoICFfc3dpcGVySW5pdCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRTd2lwZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zd2lwZXJJbml0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7XG4iLCIoIGZ1bmN0aW9uKCkge1xuXG4gICAgJCggZnVuY3Rpb24oKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgICAkLmVhY2goICQoJy5jb250YWN0c19fZm9ybScpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBDb250YWN0Rm9ybSggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuXG4gICAgfSApO1xuXG4gICAgdmFyIENvbnRhY3RGb3JtID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2Zvcm1Cb2R5ID0gX29iai5maW5kKCcuZ2Zvcm1fYm9keScpLFxuICAgICAgICAgICAgX2J0blN1Y2Nlc3MgPSAkKCcuY29udGFjdHNfX3N1Y2Nlc3MgLmJ0bicpLFxuICAgICAgICAgICAgX2Zvcm1DbG9uZSA9ICQoJy5nZm9ybV93cmFwcGVyJyksXG4gICAgICAgICAgICBfY29udGFjdEZvcm0gPSAkKCcuY29udGFjdHNfX2Zvcm0nKSxcbiAgICAgICAgICAgIF90ZXh0YXJlYVdyYXAgPSBfb2JqLmZpbmQoJy5nZmllbGRfdGV4dGFyZWEnKTtcbiBcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfcGFzdGVIZWlnaHREaXYoKTtcbiAgICAgICAgICAgICAgICBfZ2V0Q0xvbmVGb3JtKCk7XG4gICAgICAgICAgICAgICAgLy8gX3Bhc3RlRXJyb3JXcmFwKCk7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9wYXN0ZUhlaWdodERpdiA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5maW5kKCcuZ2Zvcm1fYm9keSAuZ2ZpZWxkX3RleHRhcmVhJykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiY29udGFjdHNfX2ZpZWxkcy10ZXh0YXJlYS1oZWlnaHRcIj48L2Rpdj4nKTtcblxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IF9vYmouZmluZCgnLmdmb3JtX2JvZHkgLmdmaWVsZF90ZXh0YXJlYScpLmZpbmQoJ3RleHRhcmVhJykudmFsKCksXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodFdyYXAgPSBfb2JqLmZpbmQoJy5nZm9ybV9ib2R5IC5jb250YWN0c19fZmllbGRzLXRleHRhcmVhLWhlaWdodCcpO1xuXG4gICAgICAgICAgICAgICAgaGVpZ2h0V3JhcC5odG1sKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5nZm9ybV9ib2R5IC5nZmllbGRfdGV4dGFyZWEnKS5jc3MoICdoZWlnaHQnLCBoZWlnaHRXcmFwLmlubmVySGVpZ2h0KCkrMjApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3Bhc3RlRXJyb3JXcmFwID0gZnVuY3Rpb24oKSB7XG5cblxuICAgICAgICAgICAgICAgIC8vIF9vYmouZmluZCgnLmdmb3JtX2JvZHknKS5hcHBlbmQoJzxzcGFuIGNsYXNzPVwiY29udGFjdHNfX2ZpZWxkcy1lcnJvclwiPjwvc3Bhbj4nKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9nZXRDTG9uZUZvcm0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfZm9ybUNsb25lID0gX2Zvcm1DbG9uZS5jbG9uZSh0cnVlKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIF9hZGRFcnJvclRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5nZm9ybV9ib2R5JykuYXBwZW5kKCc8c3BhbiBjbGFzcz1cImNvbnRhY3RzX19maWVsZHMtZXJyb3JcIj48L3NwYW4+Jyk7XG4gICAgICAgICAgICAgICAgaWYoIF9vYmouZmluZCgnLmdmaWVsZCcpLmhhc0NsYXNzKCdnZmllbGRfZXJyb3InKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5nZm9ybV9ib2R5JykuZmluZCgnLmNvbnRhY3RzX19maWVsZHMtZXJyb3InKS50ZXh0KCBfb2JqLmZpbmQoJy5nZmllbGRfZXJyb3I6Zmlyc3QgLnZhbGlkYXRpb25fbWVzc2FnZScpLnRleHQoKSApO1xuICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5nZmllbGRfZXJyb3I6Zmlyc3QgaW5wdXQsIC5nZmllbGRfZXJyb3I6Zmlyc3QgdGV4dGFyZWEnKS5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5nZm9ybV9ib2R5JykuZmluZCgnLmNvbnRhY3RzX19maWVsZHMtZXJyb3InKS5hZGRDbGFzcygndmlzaWJsZScpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5nZm9ybV9ib2R5JykuZmluZCgnLmNvbnRhY3RzX19maWVsZHMtZXJyb3InKS5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5iaW5kKCdnZm9ybV9jb25maXJtYXRpb25fbG9hZGVkJywgZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRhY3RGb3JtLmZpbmQoJ2RpdjpmaXJzdCcpLmFwcGVuZChfZm9ybUNsb25lKTtcblxuICAgICAgICAgICAgICAgICAgICAkKCcuZ2Zvcm1fd3JhcHBlcicpLmZpbmQoJ2Zvcm0nKVswXS5yZXNldCgpO1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLmJpbmQoJ2dmb3JtX3Bvc3RfcmVuZGVyJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgX3Bhc3RlRXJyb3JXcmFwKCk7XG4gICAgICAgICAgICAgICAgICAgIF9wYXN0ZUhlaWdodERpdigpO1xuICAgICAgICAgICAgICAgICAgICBfYWRkRXJyb3JUZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcuZ2Zvcm1fYm9keSAuZ2ZpZWxkX3RleHRhcmVhJykub24oIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXVwOiBmdW5jdGlvbiggZSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9ICQodGhpcykuZmluZCgndGV4dGFyZWEnKS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0V3JhcCA9IF9vYmouZmluZCgnLmdmb3JtX2JvZHkgLmNvbnRhY3RzX19maWVsZHMtdGV4dGFyZWEtaGVpZ2h0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHRXcmFwLmh0bWwodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLmdmb3JtX2JvZHkgLmdmaWVsZF90ZXh0YXJlYScpLmNzcyggJ2hlaWdodCcsIGhlaWdodFdyYXAuaW5uZXJIZWlnaHQoKSsyMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggZS5rZXlDb2RlID09IDEzICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5nZm9ybV9ib2R5IC5nZmllbGRfdGV4dGFyZWEnKS5jc3MoICdoZWlnaHQnLCBoZWlnaHRXcmFwLmlubmVySGVpZ2h0KCkrMjApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cblxuICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLmdmb3JtX2JvZHkgLmdmaWVsZF90ZXh0YXJlYScpLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGtleXVwOiBmdW5jdGlvbiggZSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gJCh0aGlzKS5maW5kKCd0ZXh0YXJlYScpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodFdyYXAgPSBfb2JqLmZpbmQoJy5nZm9ybV9ib2R5IC5jb250YWN0c19fZmllbGRzLXRleHRhcmVhLWhlaWdodCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHRXcmFwLmh0bWwodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcuZ2Zvcm1fYm9keSAuZ2ZpZWxkX3RleHRhcmVhJykuY3NzKCAnaGVpZ2h0JywgaGVpZ2h0V3JhcC5pbm5lckhlaWdodCgpKzIwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGUua2V5Q29kZSA9PSAxMyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5nZm9ybV9ib2R5IC5nZmllbGRfdGV4dGFyZWEnKS5jc3MoICdoZWlnaHQnLCBoZWlnaHRXcmFwLmlubmVySGVpZ2h0KCkrMjApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuU3VjY2Vzcy5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuZ2Zvcm1fd3JhcHBlcicpLmZpbmQoJ2Zvcm0nKVswXS5yZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2dldENMb25lRm9ybSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgX2NvbnN0cnVjdG9yKCk7XG4gICAgfTtcblxufSApKCk7XG5cblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
