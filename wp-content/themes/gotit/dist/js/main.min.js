"use strict";!function(){$(function(){new e($(".preloader")),$.each($(".site__index-page"),function(){new t($(this))}),$.each($("body"),function(){new n($(this))}),$.each($(".site__header"),function(){new i($(this))}),$.each($(".main-slider"),function(){new o($(this))}),$.each($(".expertise__items"),function(){new s($(this))}),$.each($(".reviews"),function(){new r($(this))}),$.each($(".contacts__map"),function(){new d($(this))}),$.each($(".case .main-slider__btn-down"),function(){new a($(this))}),$.each($(".main-slider"),function(){new l($(this))})});var e=function(e){var t=this,n=$(window),i=e,o=$("body"),s=function(){n.on({load:function(){r()}})},a=function(){o[0].preloader=t,s()},r=function(){i.addClass("preloader_loaded"),setTimeout(function(){i.remove(),$(".site").addClass("site__loaded")},500)};a()},t=function(e){var t=this,n=e,i=$(window),o=$("html, body"),s=!1,a=(n.find(".slide__content"),$(".main-slider")),r=a.find(".main-slider__btn-down"),d=function(){i.on({load:function(){i.width()>=1024&&(s||(l(),f(),s=!0))},resize:function(){i.width()>=1024?(s||(l(),s=!0),f()):s&&(c(),s=!1)}}),r.on({click:function(){return i.width()>=1024?(console.log(300),$(this).parents(".case").length?(o.stop(!0,!1),o.animate({scrollTop:a.innerHeight()},300)):$.fn.fullpage.moveTo(2)):(o.stop(!0,!1),o.animate({scrollTop:a.innerHeight()},300)),!1}})},l=function(){$("#fullpage").fullpage({scrollOverflow:!0,sectionSelector:".slide__content",onLeave:function(e,t,n,i,o){t>1?($(".logo_index").hide(),$(".move").addClass("moves_up animated_moves")):($(".logo_index").show(),setTimeout(function(){$(".move").removeClass("moves_up")},300),setTimeout(function(){$(".move").removeClass("animated_moves")},800));var s=$(".slide__content").eq(t-1).find(".slide__content-inner>div>div");s.hasClass("reviews")&&s.find(".reviews__item").addClass("animation")}})},c=function(){$.fn.fullpage.destroy("all")},f=function(){},h=function(){n[0].obj=t,d()};h()},n=function(e){var t=this,n=e,i=$(window),o=$(".main-slider"),s=$("body"),a=function(){i.on({resize:function(){i.width()>=768?d():(s.css({"font-size":"75px"}),o.css({"font-size":"75px"}))}})},r=function(){a(),i.width()>=768&&d(),n[0].obj=t},d=function(){var e;e=i.height()>500?100*(window.innerHeight/900)+"px":100*(500/900)+"px",s.css({"font-size":e}),o.css({"font-size":e})};r()},i=function(e){var t=this,n=e,i=$(window),o=n.find(".site__header__btn"),s=n.find(".site__header-menu"),a=$("html"),r=$("body"),d=function(){n.removeClass("opened"),i.width()<1024&&(a.css({"overflow-y":"auto"}),r.css({"overflow-y":"auto"})),s.attr("style","")},l=function(){i.on({scroll:function(){i.scrollTop()>0?n.addClass("fixed"):n.removeClass("fixed")}}),o.on({click:function(){return n.hasClass("opened")?d():c(),!1}})},c=function(){n.addClass("opened"),i.width()<1024&&(a.css({"overflow-y":"hidden"}),r.css({"overflow-y":"hidden"}))},f=function(){l(),n[0].obj=t,i.scrollTop()>n.innerHeight()/2?n.addClass("fixed"):n.removeClass("fixed")};f()},o=function(e){var t,n=this,i=e,o=$(window),s=$(".site__header"),a=15,r=10,d=5,l=20,c=25,f=0,h=function(){$(document).on("mousemove",".main-slider .swiper-slide",function(e){e=e||window.event;var t=$(this),n=t.find(".move1"),f=t.find(".move2"),h=t.find(".move3"),p=t.find(".move4"),g=t.find(".move5");if(o.width()>1024&&!s.hasClass("opened")&&!$(document).find(".move").hasClass("animated_moves")){var w=e.pageX,v=e.pageY,_=i.width()/2,y=i.height()/2,C=(w-_)/_,b=(v-y)/y;o.outerWidth()>1024&&(u(C,b,a,n),u(C,b,a,$(document).find(".copy_1")),m(C,b,r,f),m(C,b,r,$(document).find(".copy_2")),m(C,b,d,h),m(C,b,d,$(document).find(".copy_3")),u(C,b,l,p),u(C,b,l,$(document).find(".copy_4")),u(C,b,c,g),u(C,b,c,$(document).find(".copy_5")))}}),o.on({load:function(){p(),f=o.width()},resize:function(){if(f!=o.width()&&(f=o.width()+1,o.width()<1024&&g()),o.width()>=1024&&screen.width>=1024&&i.css({height:""}),i.hasClass("main-slider_index")){var e=i.parents(".slide__content").next().find(".slide__content-inner"),t=i.find(".swiper-slide-active").innerHeight();setTimeout(function(){i.find(".swiper-slide-active .move").each(function(){var n=$(this),i=n.position().top,o=n.height();if(i+o>t){var s=n.attr("class").replace(/(^.+\D)(\d+)(\D.+$)/i,"$2"),a=0;if($(".copy_move.copy_"+s).length){var r=$(".copy_move.copy_"+s);$(".slide__content").innerHeight()<$(".main-slider").innerHeight()&&(a=$(".main-slider").innerHeight()-$(".slide__content").innerHeight()),r.offset({top:n.offset().top-a,left:n.offset().left}),r.css({bottom:"auto",right:"auto",width:n.width(),height:n.height()})}else{var d=n.clone(!0);d.addClass("copy_move copy_"+s),e.prepend(d),$(".slide__content").innerHeight()<$(".main-slider").innerHeight()&&(a=$(".main-slider").innerHeight()-$(".slide__content").innerHeight()),d.offset({top:n.offset().top-a,left:n.offset().left}),d.css({bottom:"auto",right:"auto",width:n.width(),height:n.height()})}}else{var s=n.attr("class").replace(/(^.+\D)(\d+)(\D.+$)/i,"$2");$(".copy_move.copy_"+s).remove()}})},1500)}}}),window.addEventListener("orientationchange",function(){setTimeout(function(){screen.width<1024&&g()},500)},!1)},p=function(){t=new Swiper(i.find(".swiper-container"),{spaceBetween:0,slidesPerView:1,speed:700,loop:!0,effect:"fade",fade:{crossFade:!0},autoplayDisableOnInteraction:!1,nextButton:i.find(".swiper-button-next")[0],prevButton:i.find(".swiper-button-prev")[0],onInit:function(e){var t=e.slides.filter(".swiper-slide-active"),n=t.parents(".slide__content").index(),o=$(".slide__content").eq(n+1);if(i.hasClass("main-slider_index")){var s=t.innerHeight();t.find(".move").each(function(){var e=$(this),t=e.position().top,n=e.height();if(t+n>s){var i=e.attr("class").replace(/(^.+\D)(\d+)(\D.+$)/i,"$2"),a=0,r=e.clone(!0);r.addClass("copy_move copy_"+i),o.prepend(r),$(".slide__content").innerHeight()<$(".main-slider").innerHeight()&&(a=$(".main-slider").innerHeight()-$(".slide__content").innerHeight()),r.offset({top:e.offset().top-a,left:e.offset().left}),r.css({bottom:"auto",right:"auto",width:e.width(),height:e.height()})}})}},onSlideChangeStart:function(e){var t=e.slides.filter(".swiper-slide-active"),n=t.parents(".slide__content").index();$(".slide__content").eq(n+1).find(".slide__content-inner");$(".copy_move").remove()},onSlideChangeEnd:function(e){var t=e.slides.filter(".swiper-slide-active"),n=t.parents(".slide__content").index(),o=$(".slide__content").eq(n+1).find(".slide__content-inner");if(i.hasClass("main-slider_index")){var s=t.innerHeight();t.find(".move").each(function(){var e=$(this),t=e.position().top,n=e.height();if(t+n>s){var i=e.attr("class").replace(/(^.+\D)(\d+)(\D.+$)/i,"$2"),a=0,r=e.clone(!0);r.addClass("copy_move copy_"+i),o.prepend(r),$(".slide__content").innerHeight()<$(".main-slider").innerHeight()&&(a=$(".main-slider").innerHeight()-$(".slide__content").innerHeight()),r.offset({top:e.offset().top-a,left:e.offset().left}),r.css({bottom:"auto",right:"auto",width:e.width(),height:e.height()})}})}}})},u=function(e,t,n,i){i.css({"-webkit-transform":"translate( "+-(e*n)+"px,"+-(t*n)+"px )",transform:"translate( "+-(e*n)+"px, "+-(t*n)+"px  )"})},m=function(e,t,n,i){i.css({"-webkit-transform":"translate( "+e*n+"px ,"+t*n+"px  )",transform:"translate( "+e*n+"px , "+t*n+"px  )"})},g=function(){var e=o.height();i.parents(".case").length?i.css({height:e+e/5}):i.css({height:e})},w=function(){i[0].obj=n,h(),o.width()<1024&&g()};w()},s=function(e){var t,n=this,i=e,o=$(window),s=!1,a=function(){o.on({resize:function(){o.width()<768?s||(r(),s=!0):s&&(d(),s=!1)}})},r=function(){t=new Swiper(i.find(".swiper-container"),{slidesPerView:1.9,centeredSlides:!0})},d=function(){t.destroy(!0,!0)},l=function(){i[0].obj=n,a(),o.width()<768&&(s||(r(),s=!0))};l()},a=function(e){var t=this,n=e,i=$("html, body"),o=$(".main-slider__inner-pic"),s=function(){n.on({click:function(){return console.log(300),i.animate({scrollTop:o.innerHeight()},300),!1}})},a=function(){n[0].obj=t,s()};a()},r=function(e){var t,n=this,i=e,o=$(window),s=function(){o.on({resize:function(){}})},a=function(){t=new Swiper(i.find(".swiper-container"),{slidesPerView:1,spaceBetween:30,speed:500,loop:!0,effect:"fade",fade:{crossFade:!0},autoplayDisableOnInteraction:!1,nextButton:i.find(".swiper-button-next")[0],prevButton:i.find(".swiper-button-prev")[0]})},r=function(){i[0].obj=n,s(),a()};r()},d=function(e){var t,n,i=e,o=i.find("#contact-google-map"),s=o.data("map-lat"),a=o.data("map-lng"),r=o.data("map-zoom"),d=$(".contacts__cities .btn"),l=$(window),c=function(){l.on({load:function(){u()},resize:function(){u()}}),google.maps.event.addDomListener(window,"resize",function(){if(d.length){var e={lat:d.filter(".active").data("map-lat"),lng:d.filter(".active").data("map-lng")};t.setCenter(e),f(t.getCenter(),0,50)}}),d.on({click:function(){var e=$(this);if(!e.hasClass("active")){d.removeClass("active"),e.addClass("active");var i={lat:$(this).data("map-lat"),lng:$(this).data("map-lng")};n.setPosition(i),setTimeout(function(){google.maps.event.trigger(t,"resize"),t.setCenter(i),f(t.getCenter(),0,50)},300)}return!1}})},f=function(e,n,i){var o=Math.pow(2,t.getZoom()),s=t.getProjection().fromLatLngToPoint(e),a=new google.maps.Point(n/o||0,i/o||0),r=new google.maps.Point(s.x-a.x,s.y+a.y),d=t.getProjection().fromPointToLatLng(r);t.setCenter(d)},h=function(){var e=new google.maps.StyledMapType([{stylers:[{hue:"#b00040"},{saturation:60},{lightness:-40}]},{elementType:"labels.text.fill",stylers:[{color:"#ff6fa4"}]},{featureType:"water",stylers:[{color:"#B61530"}]},{featureType:"road",stylers:[{color:"#B61530"},{}]},{featureType:"road.local",stylers:[{color:"#B61530"},{lightness:6}]},{featureType:"road.highway",stylers:[{color:"#B61530"},{lightness:-25}]},{featureType:"road.arterial",stylers:[{color:"#B61530"},{lightness:-10}]},{featureType:"transit",stylers:[{color:"#B61530"},{lightness:70}]},{featureType:"transit.line",stylers:[{color:"#B61530"},{lightness:90}]},{featureType:"administrative.country",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#ff6fa4"}]}],{name:"Custom Style"}),i="custom_style";t=new google.maps.Map(o[0],{zoom:r,zoomControl:!1,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,center:{lat:s,lng:a},mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,i]}}),n=new google.maps.Marker({position:{lat:s,lng:a},map:t}),t.mapTypes.set(i,e),t.setMapTypeId(i),google.maps.event.addListenerOnce(t,"idle",function(){if(d.length){var e={lat:d.filter(".active").data("map-lat"),lng:d.filter(".active").data("map-lng")};t.setCenter(e),f(t.getCenter(),0,50)}})},p=function(){google.maps.event.addDomListener(window,"load",h),c(),u()},u=function(){var e=$(".contacts__info");l.width()>=768?(e.innerHeight()>e.innerWidth()?(i.height(e.innerHeight()+.25*e.innerHeight()),i.width(e.innerHeight()+.25*e.innerHeight())):(i.height(e.innerWidth()+.25*e.innerWidth()),i.width(e.innerWidth()+.25*e.innerWidth())),e.parents(".contacts").hasClass("contacts_2")&&(e.innerHeight()>e.innerWidth()?(i.height(e.innerHeight()+.6*e.innerHeight()),i.width(e.innerHeight()+.6*e.innerHeight())):(i.height(e.innerWidth()+.6*e.innerWidth()),i.width(e.innerWidth()+.6*e.innerWidth())))):i.attr("style","")};p()},l=function(e){var t=e,n=t.find(".swiper-slide"),i=$(window),o=function(){i.on({load:function(){},resize:function(){s()}})},s=function(){n.find(".move").each(function(){var e=$(this),t=e.data("views");if(void 0!=t){for(var n=0;n<t.length;n++){var o;i.width()>=1024?o=t[2]:i.width()<1024&&i.width()>=768?o=t[1]:i.width()<768&&(o=t[0])}o.url.length&&e.css({"background-image":'url("'+o.url+'")',top:"auto",right:"auto",bottom:"auto",left:"auto"});for(var s in o.positions)e.css(s,o.positions[s]/100+"em")}})},a=function(){o(),s()};a()}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIl0sIm5hbWVzIjpbIiQiLCJQcmVsb2FkZXIiLCJlYWNoIiwiUGFnZSIsInRoaXMiLCJab29tU2l0ZSIsIk1lbnUiLCJNYWluU2xpZGVyIiwiRXhwZXJ0aXNlU2xpZGVyIiwiUmV2aWV3c1NsaWRlciIsIkxvY2F0aW9uIiwiU2Nyb2xsRG93biIsIk1haW5TbGlkZXJQaWN0dXJlcyIsIm9iaiIsIl9zZWxmIiwiX3dpbmRvdyIsIndpbmRvdyIsIl9wcmVsb2FkZXIiLCJfYm9keSIsIl9hZGRFdmVudHMiLCJvbiIsImxvYWQiLCJfc2hvd1NpdGUiLCJfaW5pdCIsInByZWxvYWRlciIsImFkZENsYXNzIiwic2V0VGltZW91dCIsInJlbW92ZSIsIl9vYmoiLCJfZG9tIiwiX3N3aXBlckluaXQiLCJfbWFpblNsaWRlciIsImZpbmQiLCJfYnRuRG93biIsIndpZHRoIiwiX2luaXRGdWxsUGFnZSIsIl9jZW50ZXJDb250ZW50IiwicmVzaXplIiwiX2Rlc3Ryb3lGdWxsUGFnZSIsImNsaWNrIiwiY29uc29sZSIsImxvZyIsInBhcmVudHMiLCJsZW5ndGgiLCJzdG9wIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsImlubmVySGVpZ2h0IiwiZm4iLCJmdWxscGFnZSIsIm1vdmVUbyIsInNjcm9sbE92ZXJmbG93Iiwic2VjdGlvblNlbGVjdG9yIiwib25MZWF2ZSIsImFuY2hvckxpbmsiLCJpbmRleCIsInNsaWRlSW5kZXgiLCJkaXJlY3Rpb24iLCJuZXh0U2xpZGVJbmRleCIsImhpZGUiLCJzaG93IiwicmVtb3ZlQ2xhc3MiLCJibG9jayIsImVxIiwiaGFzQ2xhc3MiLCJkZXN0cm95IiwiX29uRXZlbnRzIiwiX3NldFNpemUiLCJjc3MiLCJmb250LXNpemUiLCJuZXdTaXplIiwiaGVpZ2h0IiwiX21lbnVCdG4iLCJfbWVudUl0ZW1zIiwiX2h0bWwiLCJfY2xvc2VNZW51Iiwib3ZlcmZsb3cteSIsImF0dHIiLCJzY3JvbGwiLCJfb3Blbk1lbnUiLCJfc3dpcGVyMSIsIl9oZWFkZXIiLCJfc3RlcDEiLCJfc3RlcDIiLCJfc3RlcDMiLCJfc3RlcDQiLCJfc3RlcDUiLCJfZ2xvYmFsV2lkdGgiLCJkb2N1bWVudCIsImUiLCJldmVudCIsInNsaWRlIiwiX2ltZzEiLCJfaW1nMiIsIl9pbWczIiwiX2ltZzQiLCJfaW1nNSIsInBhZ2VYIiwicGFnZVkiLCJoYWxmV2lkdGgiLCJoYWxmSGVpZ2h0IiwicGVyY2VudEZyb21DZW50ZXJYIiwicGVyY2VudEZyb21DZW50ZXJZIiwib3V0ZXJXaWR0aCIsIl9tb3ZlQm90dG9tIiwiX21vdmVUb3AiLCJfaW5pdFN3aXBlciIsIl9zZXRIZWlnaHQiLCJzY3JlZW4iLCJuZXh0U2VjdGlvbiIsIm5leHQiLCJ2ZWdldGFibGUiLCJwb3MiLCJwb3NpdGlvbiIsInRvcCIsImhlaWdodFZlZyIsIm51bSIsInJlcGxhY2UiLCJkaWZmIiwib2xkSW1nIiwib2Zmc2V0IiwibGVmdCIsImJvdHRvbSIsInJpZ2h0IiwibmV3SW1nIiwiY2xvbmUiLCJwcmVwZW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsIlN3aXBlciIsInNwYWNlQmV0d2VlbiIsInNsaWRlc1BlclZpZXciLCJzcGVlZCIsImxvb3AiLCJlZmZlY3QiLCJmYWRlIiwiY3Jvc3NGYWRlIiwiYXV0b3BsYXlEaXNhYmxlT25JbnRlcmFjdGlvbiIsIm5leHRCdXR0b24iLCJwcmV2QnV0dG9uIiwib25Jbml0Iiwic3dpcGVyIiwiYWN0U2xpZGUiLCJzbGlkZXMiLCJmaWx0ZXIiLCJzZWN0aW9uSW5kZXgiLCJvblNsaWRlQ2hhbmdlU3RhcnQiLCJvblNsaWRlQ2hhbmdlRW5kIiwieFBlcmNlbnQiLCJ5UGVyY2VudCIsInN0ZXAiLCJpbWFnZSIsIi13ZWJraXQtdHJhbnNmb3JtIiwidHJhbnNmb3JtIiwiX3N3aXBlciIsIl9kZXN0cm95U3dpcGVyIiwiY2VudGVyZWRTbGlkZXMiLCJfc2Nyb2xsZXIiLCJfbWFpblNsaWRlclBpYyIsIm1hcCIsIm1hcmtlciIsIl9tYXAiLCJfbWFwTGF0IiwiZGF0YSIsIl9tYXBMbmciLCJfbWFwWm9vbSIsIl9idG4iLCJnb29nbGUiLCJtYXBzIiwiYWRkRG9tTGlzdGVuZXIiLCJteUxhdExuZyIsImxhdCIsImxuZyIsInNldENlbnRlciIsIl9vZmZzZXRDZW50ZXIiLCJnZXRDZW50ZXIiLCJjdXJJdGVtIiwic2V0UG9zaXRpb24iLCJ0cmlnZ2VyIiwibGF0bG5nIiwib2Zmc2V0eCIsIm9mZnNldHkiLCJzY2FsZSIsIk1hdGgiLCJwb3ciLCJnZXRab29tIiwid29ybGRDb29yZGluYXRlQ2VudGVyIiwiZ2V0UHJvamVjdGlvbiIsImZyb21MYXRMbmdUb1BvaW50IiwicGl4ZWxPZmZzZXQiLCJQb2ludCIsIndvcmxkQ29vcmRpbmF0ZU5ld0NlbnRlciIsIngiLCJ5IiwibmV3Q2VudGVyIiwiZnJvbVBvaW50VG9MYXRMbmciLCJfaW5pdE1hcCIsImN1c3RvbU1hcFR5cGUiLCJTdHlsZWRNYXBUeXBlIiwic3R5bGVycyIsImh1ZSIsInNhdHVyYXRpb24iLCJsaWdodG5lc3MiLCJlbGVtZW50VHlwZSIsImNvbG9yIiwiZmVhdHVyZVR5cGUiLCJ2aXNpYmlsaXR5IiwibmFtZSIsImN1c3RvbU1hcFR5cGVJZCIsIk1hcCIsInpvb20iLCJ6b29tQ29udHJvbCIsIm1hcFR5cGVDb250cm9sIiwic2NhbGVDb250cm9sIiwic3RyZWV0Vmlld0NvbnRyb2wiLCJyb3RhdGVDb250cm9sIiwiY2VudGVyIiwibWFwVHlwZUNvbnRyb2xPcHRpb25zIiwibWFwVHlwZUlkcyIsIk1hcFR5cGVJZCIsIlJPQURNQVAiLCJNYXJrZXIiLCJtYXBUeXBlcyIsInNldCIsInNldE1hcFR5cGVJZCIsImFkZExpc3RlbmVyT25jZSIsImNvbnRlbnQiLCJpbm5lcldpZHRoIiwiX3NsaWRlIiwiX2FkZFBpY3R1cmVzIiwiZGF0YVZpZXciLCJ1bmRlZmluZWQiLCJpIiwibmVlZFZpZXciLCJ1cmwiLCJiYWNrZ3JvdW5kLWltYWdlIiwia2V5IiwicG9zaXRpb25zIl0sIm1hcHBpbmdzIjoiQUFBQSxjQUNBLFdBRUlBLEVBQUcsV0FFQyxHQUFJQyxHQUFXRCxFQUFFLGVBRWpCQSxFQUFFRSxLQUFNRixFQUFFLHFCQUF1QixXQUU3QixHQUFJRyxHQUFNSCxFQUFFSSxTQUloQkosRUFBRUUsS0FBTUYsRUFBRSxRQUFTLFdBRWYsR0FBSUssR0FBVUwsRUFBRUksU0FJcEJKLEVBQUVFLEtBQU1GLEVBQUUsaUJBQWtCLFdBRXhCLEdBQUlNLEdBQU1OLEVBQUVJLFNBSWhCSixFQUFFRSxLQUFNRixFQUFFLGdCQUFpQixXQUV2QixHQUFJTyxHQUFZUCxFQUFFSSxTQUl0QkosRUFBRUUsS0FBTUYsRUFBRSxxQkFBc0IsV0FFNUIsR0FBSVEsR0FBaUJSLEVBQUVJLFNBSTNCSixFQUFFRSxLQUFNRixFQUFFLFlBQWEsV0FFbkIsR0FBSVMsR0FBZVQsRUFBRUksU0FJekJKLEVBQUVFLEtBQU1GLEVBQUUsa0JBQW1CLFdBRXpCLEdBQUlVLEdBQVVWLEVBQUVJLFNBSXBCSixFQUFFRSxLQUFNRixFQUFFLGdDQUFpQyxXQUV2QyxHQUFJVyxHQUFZWCxFQUFFSSxTQUl0QkosRUFBRUUsS0FBTUYsRUFBRSxnQkFBaUIsV0FFdkIsR0FBSVksR0FBb0JaLEVBQUVJLFVBT2xDLElBQUlILEdBQVksU0FBVVksR0FHdEIsR0FBSUMsR0FBUVYsS0FDUlcsRUFBVWYsRUFBR2dCLFFBQ2JDLEVBQWFKLEVBQ2JLLEVBQVFsQixFQUFFLFFBR1ZtQixFQUFhLFdBRVRKLEVBQVFLLElBQ0pDLEtBQU0sV0FFRkMsUUFNWkMsRUFBUSxXQUVKTCxFQUFNLEdBQUdNLFVBQVlWLEVBQ3JCSyxLQUdKRyxFQUFZLFdBRVJMLEVBQVdRLFNBQVUsb0JBRXJCQyxXQUFXLFdBQ1BULEVBQVdVLFNBQ1gzQixFQUFFLFNBQVN5QixTQUFVLGlCQUV2QixLQVFWRixNQUdBcEIsRUFBTyxTQUFXVSxHQUVsQixHQUFJQyxHQUFRVixLQUNSd0IsRUFBT2YsRUFDUEUsRUFBVWYsRUFBR2dCLFFBQ2JhLEVBQU83QixFQUFHLGNBQ1Y4QixHQUFjLEVBR2RDLEdBRGdCSCxFQUFLSSxLQUFLLG1CQUNaaEMsRUFBRSxpQkFDaEJpQyxFQUFXRixFQUFZQyxLQUFLLDBCQUU1QmIsRUFBYSxXQUVUSixFQUFRSyxJQUNKQyxLQUFNLFdBQ0VOLEVBQVFtQixTQUFXLE9BRWRKLElBRURLLElBQ0FDLElBQ0FOLEdBQWMsS0FRMUJPLE9BQVEsV0FFQXRCLEVBQVFtQixTQUFXLE1BRWRKLElBRURLLElBQ0FMLEdBQWMsR0FJbEJNLEtBS0lOLElBRUFRLElBQ0FSLEdBQWMsTUFNOUJHLEVBQVNiLElBQ0xtQixNQUFPLFdBd0JILE1BdEJJeEIsR0FBUW1CLFNBQVcsTUFFbkJNLFFBQVFDLElBQUksS0FFUHpDLEVBQUdJLE1BQU9zQyxRQUFTLFNBQVVDLFFBRTlCZCxFQUFLZSxNQUFNLEdBQU0sR0FDakJmLEVBQUtnQixTQUFXQyxVQUFXZixFQUFZZ0IsZUFBaUIsTUFJeEQvQyxFQUFFZ0QsR0FBR0MsU0FBU0MsT0FBTyxLQU16QnJCLEVBQUtlLE1BQU0sR0FBTSxHQUNqQmYsRUFBS2dCLFNBQVdDLFVBQVdmLEVBQVlnQixlQUFpQixPQUlyRCxNQUtuQlosRUFBZ0IsV0FFWm5DLEVBQUUsYUFBYWlELFVBRVhFLGdCQUFnQixFQUNoQkMsZ0JBQWlCLGtCQUNqQkMsUUFBUyxTQUFVQyxFQUFZQyxFQUFPQyxFQUFZQyxFQUFXQyxHQUVyREgsRUFBUSxHQUVSdkQsRUFBRSxlQUFlMkQsT0FDakIzRCxFQUFFLFNBQVN5QixTQUFTLDZCQUlwQnpCLEVBQUUsZUFBZTRELE9BRWpCbEMsV0FBWSxXQUNSMUIsRUFBRSxTQUFTNkQsWUFBWSxhQUV4QixLQUVIbkMsV0FBWSxXQUNSMUIsRUFBRSxTQUFTNkQsWUFBWSxtQkFFeEIsS0FHUCxJQUFJQyxHQUFROUQsRUFBRSxtQkFBbUIrRCxHQUFJUixFQUFNLEdBQUd2QixLQUFLLGdDQUUvQzhCLEdBQU1FLFNBQVMsWUFFZkYsRUFBTTlCLEtBQUssa0JBQWtCUCxTQUFTLGlCQVN0RGEsRUFBbUIsV0FFZnRDLEVBQUVnRCxHQUFHQyxTQUFTZ0IsUUFBUSxRQUcxQjdCLEVBQWlCLGFBb0NqQmIsRUFBUSxXQUNKSyxFQUFLLEdBQUdmLElBQU1DLEVBQ2RLLElBTVJJLE1BR0FsQixFQUFXLFNBQVVRLEdBR3JCLEdBQUlDLEdBQVFWLEtBQ1J3QixFQUFPZixFQUNQRSxFQUFVZixFQUFFZ0IsUUFDWmUsRUFBYy9CLEVBQUUsZ0JBQ2hCa0IsRUFBUWxCLEVBQUcsUUFHWGtFLEVBQVksV0FFUm5ELEVBQVFLLElBRUppQixPQUFRLFdBRUF0QixFQUFRbUIsU0FBVyxJQUVuQmlDLEtBSUFqRCxFQUFNa0QsS0FDRkMsWUFBYSxTQUdqQnRDLEVBQVlxQyxLQUNSQyxZQUFhLGNBVWpDOUMsRUFBUSxXQUVKMkMsSUFFSW5ELEVBQVFtQixTQUFXLEtBRW5CaUMsSUFJSnZDLEVBQUssR0FBR2YsSUFBTUMsR0FHbEJxRCxFQUFXLFdBRVAsR0FBSUcsRUFJQUEsR0FGQXZELEVBQVF3RCxTQUFXLElBRU4sS0FBUXZELE9BQU8rQixZQUFjLEtBQVcsS0FLeEMsS0FBUSxJQUFNLEtBQVcsS0FJMUM3QixFQUFNa0QsS0FDRkMsWUFBYUMsSUFHakJ2QyxFQUFZcUMsS0FDUkMsWUFBYUMsSUFNekIvQyxNQUdBakIsRUFBTyxTQUFVTyxHQUdqQixHQUFJQyxHQUFRVixLQUNSd0IsRUFBT2YsRUFDUEUsRUFBVWYsRUFBR2dCLFFBQ2J3RCxFQUFXNUMsRUFBS0ksS0FBSyxzQkFDckJ5QyxFQUFhN0MsRUFBS0ksS0FBSyxzQkFDdkIwQyxFQUFRMUUsRUFBRSxRQUNWa0IsRUFBUWxCLEVBQUUsUUFHVjJFLEVBQWEsV0FFVC9DLEVBQUtpQyxZQUFhLFVBRWQ5QyxFQUFRbUIsUUFBVSxPQUVsQndDLEVBQU1OLEtBQ0ZRLGFBQWMsU0FFbEIxRCxFQUFNa0QsS0FDRlEsYUFBYyxVQUt0QkgsRUFBV0ksS0FBTSxRQUFTLEtBRzlCWCxFQUFZLFdBRVJuRCxFQUFRSyxJQUNKMEQsT0FBUSxXQUVBL0QsRUFBUStCLFlBQWMsRUFFdEJsQixFQUFLSCxTQUFTLFNBSWRHLEVBQUtpQyxZQUFZLFlBTzdCVyxFQUFTcEQsSUFFTG1CLE1BQU8sV0FhSCxNQVhJWCxHQUFLb0MsU0FBVSxVQUVmVyxJQUtBSSxLQUlHLE1BT25CQSxFQUFZLFdBRVJuRCxFQUFLSCxTQUFVLFVBRVhWLEVBQVFtQixRQUFVLE9BRWxCd0MsRUFBTU4sS0FDRlEsYUFBYyxXQUVsQjFELEVBQU1rRCxLQUNGUSxhQUFjLGFBTzFCckQsRUFBUSxXQUVKMkMsSUFDQXRDLEVBQUssR0FBR2YsSUFBTUMsRUFFVkMsRUFBUStCLFlBQWNsQixFQUFLbUIsY0FBYyxFQUV6Q25CLEVBQUtILFNBQVMsU0FJZEcsRUFBS2lDLFlBQVksU0FPN0J0QyxNQUdBaEIsRUFBYSxTQUFXTSxHQUV4QixHQVNJbUUsR0FUQWxFLEVBQVFWLEtBQ1J3QixFQUFPZixFQUNQRSxFQUFVZixFQUFHZ0IsUUFDYmlFLEVBQVVqRixFQUFHLGlCQUNia0YsRUFBUyxHQUNUQyxFQUFTLEdBQ1RDLEVBQVMsRUFDVEMsRUFBUyxHQUNUQyxFQUFTLEdBRVRDLEVBQWUsRUFFZnBFLEVBQWEsV0FFVG5CLEVBQUV3RixVQUFVcEUsR0FDUixZQUNBLDZCQUNBLFNBQVVxRSxHQUVOQSxFQUFJQSxHQUFLekUsT0FBTzBFLEtBRWhCLElBQUlDLEdBQVEzRixFQUFFSSxNQUNWd0YsRUFBUUQsRUFBTTNELEtBQUssVUFDbkI2RCxFQUFRRixFQUFNM0QsS0FBSyxVQUNuQjhELEVBQVFILEVBQU0zRCxLQUFLLFVBQ25CK0QsRUFBUUosRUFBTTNELEtBQUssVUFDbkJnRSxFQUFRTCxFQUFNM0QsS0FBSyxTQUV2QixJQUFLakIsRUFBUW1CLFFBQVUsT0FBVytDLEVBQVFqQixTQUFTLFlBQWtCaEUsRUFBRXdGLFVBQVV4RCxLQUFLLFNBQVNnQyxTQUFTLGtCQUFzQixDQUUxSCxHQUFJaUMsR0FBUVIsRUFBRVEsTUFDVkMsRUFBUVQsRUFBRVMsTUFDVkMsRUFBWXZFLEVBQUtNLFFBQVUsRUFDM0JrRSxFQUFheEUsRUFBSzJDLFNBQVcsRUFDN0I4QixHQUF1QkosRUFBUUUsR0FBY0EsRUFDN0NHLEdBQXVCSixFQUFRRSxHQUFlQSxDQUU5Q3JGLEdBQVF3RixhQUFlLE9BRXZCQyxFQUFZSCxFQUFvQkMsRUFBb0JwQixFQUFPVSxHQUMzRFksRUFBWUgsRUFBb0JDLEVBQW9CcEIsRUFBUWxGLEVBQUV3RixVQUFVeEQsS0FBSyxZQUM3RXlFLEVBQVNKLEVBQW9CQyxFQUFvQm5CLEVBQU9VLEdBQ3hEWSxFQUFTSixFQUFvQkMsRUFBb0JuQixFQUFRbkYsRUFBRXdGLFVBQVV4RCxLQUFLLFlBQzFFeUUsRUFBU0osRUFBb0JDLEVBQW9CbEIsRUFBT1UsR0FDeERXLEVBQVNKLEVBQW9CQyxFQUFvQmxCLEVBQVFwRixFQUFFd0YsVUFBVXhELEtBQUssWUFDMUV3RSxFQUFZSCxFQUFvQkMsRUFBb0JqQixFQUFPVSxHQUMzRFMsRUFBWUgsRUFBb0JDLEVBQW9CakIsRUFBUXJGLEVBQUV3RixVQUFVeEQsS0FBSyxZQUM3RXdFLEVBQVlILEVBQW9CQyxFQUFvQmhCLEVBQU9VLEdBQzNEUSxFQUFZSCxFQUFvQkMsRUFBb0JoQixFQUFRdEYsRUFBRXdGLFVBQVV4RCxLQUFLLGdCQVM3RmpCLEVBQVFLLElBQ0pDLEtBQU0sV0FDRnFGLElBRUFuQixFQUFleEUsRUFBUW1CLFNBRzNCRyxPQUFRLFdBeUJKLEdBdkJJa0QsR0FBZ0J4RSxFQUFRbUIsVUFFeEJxRCxFQUFleEUsRUFBUW1CLFFBQVEsRUFHM0JuQixFQUFRbUIsUUFBVSxNQUVsQnlFLEtBTUo1RixFQUFRbUIsU0FBVyxNQUFRMEUsT0FBTzFFLE9BQVMsTUFFM0NOLEVBQUt3QyxLQUNERyxPQUFRLEtBT1ozQyxFQUFLb0MsU0FBUyxxQkFBdUIsQ0FFckMsR0FBSTZDLEdBQWNqRixFQUFLYyxRQUFRLG1CQUFtQm9FLE9BQU85RSxLQUFLLHlCQUMxRHVDLEVBQVMzQyxFQUFLSSxLQUFLLHdCQUF3QmUsYUFHL0NyQixZQUFZLFdBRVJFLEVBQUtJLEtBQUssOEJBQThCOUIsS0FBSyxXQUV6QyxHQUFJNkcsR0FBWS9HLEVBQUVJLE1BQ2Q0RyxFQUFNRCxFQUFVRSxXQUFXQyxJQUMzQkMsRUFBWUosRUFBVXhDLFFBRTFCLElBQUl5QyxFQUFNRyxFQUFZNUMsRUFBUyxDQUUzQixHQUFJNkMsR0FBTUwsRUFBVWxDLEtBQUssU0FBU3dDLFFBQVMsdUJBQXVCLE1BQzlEQyxFQUFPLENBRVgsSUFBSXRILEVBQUUsbUJBQW1Cb0gsR0FBUXpFLE9BQVMsQ0FFdEMsR0FBSTRFLEdBQVV2SCxFQUFFLG1CQUFtQm9ILEVBRS9CcEgsR0FBRSxtQkFBbUIrQyxjQUFnQi9DLEVBQUUsZ0JBQWdCK0MsZ0JBRXZEdUUsRUFBT3RILEVBQUUsZ0JBQWdCK0MsY0FBYy9DLEVBQUUsbUJBQW1CK0MsZUFJaEV3RSxFQUFPQyxRQUNITixJQUFLSCxFQUFVUyxTQUFTTixJQUFJSSxFQUM1QkcsS0FBTVYsRUFBVVMsU0FBU0MsT0FHN0JGLEVBQU9uRCxLQUNIc0QsT0FBUSxPQUNSQyxNQUFPLE9BQ1B6RixNQUFPNkUsRUFBVTdFLFFBQ2pCcUMsT0FBUXdDLEVBQVV4QyxlQUduQixDQUVILEdBQUlxRCxHQUFTYixFQUFVYyxPQUFNLEVBRTdCRCxHQUFPbkcsU0FBUyxrQkFBa0IyRixHQUNsQ1AsRUFBWWlCLFFBQVFGLEdBRWhCNUgsRUFBRSxtQkFBbUIrQyxjQUFnQi9DLEVBQUUsZ0JBQWdCK0MsZ0JBRXZEdUUsRUFBT3RILEVBQUUsZ0JBQWdCK0MsY0FBYy9DLEVBQUUsbUJBQW1CK0MsZUFJaEU2RSxFQUFPSixRQUNITixJQUFLSCxFQUFVUyxTQUFTTixJQUFJSSxFQUM1QkcsS0FBTVYsRUFBVVMsU0FBU0MsT0FHN0JHLEVBQU94RCxLQUNIc0QsT0FBUSxPQUNSQyxNQUFPLE9BQ1B6RixNQUFPNkUsRUFBVTdFLFFBQ2pCcUMsT0FBUXdDLEVBQVV4QyxnQkFNdkIsQ0FFSCxHQUFJNkMsR0FBTUwsRUFBVWxDLEtBQUssU0FBU3dDLFFBQVMsdUJBQXVCLEtBRWxFckgsR0FBRSxtQkFBbUJvSCxHQUFRekYsYUFNdEMsVUFPZlgsT0FBTytHLGlCQUFpQixvQkFBcUIsV0FFekNyRyxXQUFZLFdBRUprRixPQUFPMUUsTUFBUSxNQUVmeUUsS0FJTCxPQUdKLElBR1BELEVBQWMsV0FFVjFCLEVBQVcsR0FBSWdELFFBQVFwRyxFQUFLSSxLQUFNLHNCQUM5QmlHLGFBQWMsRUFDZEMsY0FBZSxFQUNmQyxNQUFPLElBQ1BDLE1BQU0sRUFDTkMsT0FBUSxPQUNSQyxNQUNJQyxXQUFXLEdBRWZDLDhCQUE4QixFQUM5QkMsV0FBWTdHLEVBQUtJLEtBQUssdUJBQXVCLEdBQzdDMEcsV0FBWTlHLEVBQUtJLEtBQUssdUJBQXVCLEdBQzdDMkcsT0FBUSxTQUFVQyxHQUVkLEdBQUlDLEdBQVdELEVBQU9FLE9BQU9DLE9BQU8sd0JBQ2hDQyxFQUFlSCxFQUFTbkcsUUFBUSxtQkFBbUJhLFFBQ25Ec0QsRUFBYzdHLEVBQUUsbUJBQW1CK0QsR0FBR2lGLEVBQWEsRUFFdkQsSUFBSXBILEVBQUtvQyxTQUFTLHFCQUF1QixDQUVyQyxHQUFJTyxHQUFTc0UsRUFBUzlGLGFBRXRCOEYsR0FBUzdHLEtBQUssU0FBUzlCLEtBQUssV0FFeEIsR0FBSTZHLEdBQVkvRyxFQUFFSSxNQUNkNEcsRUFBTUQsRUFBVUUsV0FBV0MsSUFDM0JDLEVBQVlKLEVBQVV4QyxRQUUxQixJQUFJeUMsRUFBTUcsRUFBWTVDLEVBQVMsQ0FFM0IsR0FBSTZDLEdBQU1MLEVBQVVsQyxLQUFLLFNBQVN3QyxRQUFTLHVCQUF1QixNQUM5REMsRUFBTyxFQUVQTSxFQUFTYixFQUFVYyxPQUFNLEVBRTdCRCxHQUFPbkcsU0FBUyxrQkFBa0IyRixHQUNsQ1AsRUFBWWlCLFFBQVFGLEdBRWhCNUgsRUFBRSxtQkFBbUIrQyxjQUFnQi9DLEVBQUUsZ0JBQWdCK0MsZ0JBRXZEdUUsRUFBT3RILEVBQUUsZ0JBQWdCK0MsY0FBYy9DLEVBQUUsbUJBQW1CK0MsZUFJaEU2RSxFQUFPSixRQUNITixJQUFLSCxFQUFVUyxTQUFTTixJQUFJSSxFQUM1QkcsS0FBTVYsRUFBVVMsU0FBU0MsT0FHN0JHLEVBQU94RCxLQUNIc0QsT0FBUSxPQUNSQyxNQUFPLE9BQ1B6RixNQUFPNkUsRUFBVTdFLFFBQ2pCcUMsT0FBUXdDLEVBQVV4QyxnQkFXdEMwRSxtQkFBb0IsU0FBVUwsR0FFMUIsR0FBSUMsR0FBV0QsRUFBT0UsT0FBT0MsT0FBTyx3QkFDaENDLEVBQWVILEVBQVNuRyxRQUFRLG1CQUFtQmEsT0FDckN2RCxHQUFFLG1CQUFtQitELEdBQUdpRixFQUFhLEdBQUdoSCxLQUFLLHdCQUUvRGhDLEdBQUUsY0FBYzJCLFVBR3BCdUgsaUJBQWtCLFNBQVVOLEdBRXhCLEdBQUlDLEdBQVdELEVBQU9FLE9BQU9DLE9BQU8sd0JBQ2hDQyxFQUFlSCxFQUFTbkcsUUFBUSxtQkFBbUJhLFFBQ25Ec0QsRUFBYzdHLEVBQUUsbUJBQW1CK0QsR0FBR2lGLEVBQWEsR0FBR2hILEtBQUssd0JBRy9ELElBQUlKLEVBQUtvQyxTQUFTLHFCQUF1QixDQUVyQyxHQUFJTyxHQUFTc0UsRUFBUzlGLGFBR3RCOEYsR0FBUzdHLEtBQUssU0FBUzlCLEtBQUssV0FFeEIsR0FBSTZHLEdBQVkvRyxFQUFFSSxNQUNkNEcsRUFBTUQsRUFBVUUsV0FBV0MsSUFDM0JDLEVBQVlKLEVBQVV4QyxRQUUxQixJQUFJeUMsRUFBTUcsRUFBWTVDLEVBQVMsQ0FFM0IsR0FBSTZDLEdBQU1MLEVBQVVsQyxLQUFLLFNBQVN3QyxRQUFTLHVCQUF1QixNQUM5REMsRUFBTyxFQUVQTSxFQUFTYixFQUFVYyxPQUFNLEVBRTdCRCxHQUFPbkcsU0FBUyxrQkFBa0IyRixHQUNsQ1AsRUFBWWlCLFFBQVFGLEdBRWhCNUgsRUFBRSxtQkFBbUIrQyxjQUFnQi9DLEVBQUUsZ0JBQWdCK0MsZ0JBRXZEdUUsRUFBT3RILEVBQUUsZ0JBQWdCK0MsY0FBYy9DLEVBQUUsbUJBQW1CK0MsZUFJaEU2RSxFQUFPSixRQUNITixJQUFLSCxFQUFVUyxTQUFTTixJQUFJSSxFQUM1QkcsS0FBTVYsRUFBVVMsU0FBU0MsT0FHN0JHLEVBQU94RCxLQUNIc0QsT0FBUSxPQUNSQyxNQUFPLE9BQ1B6RixNQUFPNkUsRUFBVTdFLFFBQ2pCcUMsT0FBUXdDLEVBQVV4QyxtQkFlOUNpQyxFQUFjLFNBQVUyQyxFQUFVQyxFQUFVQyxFQUFNQyxHQUU5Q0EsRUFBTWxGLEtBQ0ZtRixvQkFBcUIsZ0JBQW1CSixFQUFXRSxHQUFTLFFBQVdELEVBQVdDLEdBQVMsT0FDM0ZHLFVBQWEsZ0JBQW1CTCxFQUFXRSxHQUFTLFNBQVlELEVBQVdDLEdBQVMsV0FJNUY1QyxFQUFXLFNBQVUwQyxFQUFVQyxFQUFVQyxFQUFNQyxHQUUzQ0EsRUFBTWxGLEtBQ0ZtRixvQkFBcUIsY0FBa0JKLEVBQVdFLEVBQVMsT0FBV0QsRUFBV0MsRUFBUyxRQUMxRkcsVUFBYSxjQUFrQkwsRUFBV0UsRUFBUyxRQUFZRCxFQUFXQyxFQUFTLFdBSTNGMUMsRUFBYSxXQUVULEdBQUlwQyxHQUFTeEQsRUFBUXdELFFBRWhCM0MsR0FBS2MsUUFBUSxTQUFTQyxPQUV2QmYsRUFBS3dDLEtBQ0RHLE9BQVFBLEVBQVNBLEVBQU8sSUFLNUIzQyxFQUFLd0MsS0FDREcsT0FBUUEsS0FRcEJoRCxFQUFRLFdBQ0pLLEVBQUssR0FBR2YsSUFBTUMsRUFDZEssSUFHSUosRUFBUW1CLFFBQVUsTUFFbEJ5RSxJQU1acEYsTUFHQWYsRUFBa0IsU0FBV0ssR0FFN0IsR0FJSTRJLEdBSkEzSSxFQUFRVixLQUNSd0IsRUFBT2YsRUFDUEUsRUFBVWYsRUFBR2dCLFFBQ2JjLEdBQWMsRUFHZFgsRUFBYSxXQUVUSixFQUFRSyxJQUNKaUIsT0FBUSxXQUVBdEIsRUFBUW1CLFFBQVUsSUFFYkosSUFFRDRFLElBQ0E1RSxHQUFjLEdBT2RBLElBRUE0SCxJQUNBNUgsR0FBYyxPQVNsQzRFLEVBQWMsV0FFVitDLEVBQVUsR0FBSXpCLFFBQVFwRyxFQUFLSSxLQUFNLHNCQUM3QmtHLGNBQWUsSUFDZnlCLGdCQUFnQixLQUl4QkQsRUFBaUIsV0FFYkQsRUFBUXhGLFNBQVMsR0FBTSxJQUczQjFDLEVBQVEsV0FDSkssRUFBSyxHQUFHZixJQUFNQyxFQUNkSyxJQUVJSixFQUFRbUIsUUFBVSxNQUViSixJQUVENEUsSUFDQTVFLEdBQWMsSUFPOUJQLE1BR0FaLEVBQWEsU0FBV0UsR0FFeEIsR0FBSUMsR0FBUVYsS0FDUndCLEVBQU9mLEVBQ1ArSSxFQUFZNUosRUFBRyxjQUNmNkosRUFBaUI3SixFQUFFLDJCQUVuQm1CLEVBQWEsV0FFVFMsRUFBS1IsSUFDRG1CLE1BQU8sV0FNSCxNQUpBQyxTQUFRQyxJQUFJLEtBRVptSCxFQUFVL0csU0FBV0MsVUFBVytHLEVBQWU5RyxlQUFpQixNQUV6RCxNQUtuQnhCLEVBQVEsV0FDSkssRUFBSyxHQUFHZixJQUFNQyxFQUNkSyxJQUdSSSxNQUdBZCxFQUFnQixTQUFXSSxHQUUzQixHQUdJNEksR0FIQTNJLEVBQVFWLEtBQ1J3QixFQUFPZixFQUNQRSxFQUFVZixFQUFHZ0IsUUFHYkcsRUFBYSxXQUVUSixFQUFRSyxJQUNKaUIsT0FBUSxnQkFRaEJxRSxFQUFjLFdBRVYrQyxFQUFVLEdBQUl6QixRQUFRcEcsRUFBS0ksS0FBTSxzQkFDN0JrRyxjQUFlLEVBQ2ZELGFBQWMsR0FDZEUsTUFBTyxJQUNQQyxNQUFNLEVBQ05DLE9BQVEsT0FDUkMsTUFDSUMsV0FBVyxHQUVmQyw4QkFBOEIsRUFDOUJDLFdBQVk3RyxFQUFLSSxLQUFLLHVCQUF1QixHQUM3QzBHLFdBQVk5RyxFQUFLSSxLQUFLLHVCQUF1QixNQUlyRFQsRUFBUSxXQUNKSyxFQUFLLEdBQUdmLElBQU1DLEVBQ2RLLElBQ0F1RixJQUlSbkYsTUFHQWIsRUFBVyxTQUFXRyxHQUd0QixHQVFJaUosR0FDQUMsRUFSQW5JLEVBQU9mLEVBQ1BtSixFQUFPcEksRUFBS0ksS0FBSyx1QkFDakJpSSxFQUFVRCxFQUFLRSxLQUFLLFdBQ3BCQyxFQUFVSCxFQUFLRSxLQUFLLFdBQ3BCRSxFQUFXSixFQUFLRSxLQUFLLFlBQ3JCRyxFQUFPckssRUFBRSwwQkFDVGUsRUFBVWYsRUFBR2dCLFFBS2JHLEVBQWEsV0FFVEosRUFBUUssSUFDSkMsS0FBTSxXQUNGc0YsS0FFSnRFLE9BQVEsV0FDSnNFLE9BTVIyRCxPQUFPQyxLQUFLN0UsTUFBTThFLGVBQWdCeEosT0FBUSxTQUFVLFdBRWhELEdBQUtxSixFQUFLMUgsT0FBUyxDQUVmLEdBQUk4SCxJQUFZQyxJQUFLTCxFQUFLdEIsT0FBTyxXQUFXbUIsS0FBSyxXQUFZUyxJQUFLTixFQUFLdEIsT0FBTyxXQUFXbUIsS0FBSyxXQUU5RkosR0FBSWMsVUFBV0gsR0FFZkksRUFBZWYsRUFBSWdCLFlBQWEsRUFBRyxPQUszQ1QsRUFBS2pKLElBQ0RtQixNQUFPLFdBRUgsR0FBSXdJLEdBQVUvSyxFQUFFSSxLQUVoQixLQUFNMkssRUFBUS9HLFNBQVMsVUFBYSxDQUVoQ3FHLEVBQUt4RyxZQUFZLFVBQ2pCa0gsRUFBUXRKLFNBQVMsU0FFakIsSUFBSWdKLElBQVlDLElBQUsxSyxFQUFFSSxNQUFNOEosS0FBSyxXQUFZUyxJQUFLM0ssRUFBRUksTUFBTThKLEtBQUssV0FDaEVILEdBQU9pQixZQUFZUCxHQUVuQi9JLFdBQVksV0FDUjRJLE9BQU9DLEtBQUs3RSxNQUFNdUYsUUFBUW5CLEVBQUssVUFDL0JBLEVBQUljLFVBQVVILEdBQ2RJLEVBQWVmLEVBQUlnQixZQUFhLEVBQUcsS0FDcEMsS0FJUCxPQUFPLE1BTW5CRCxFQUFnQixTQUFXSyxFQUFRQyxFQUFTQyxHQUV4QyxHQUFJQyxHQUFRQyxLQUFLQyxJQUFLLEVBQUd6QixFQUFJMEIsV0FDekJDLEVBQXdCM0IsRUFBSTRCLGdCQUFnQkMsa0JBQW1CVCxHQUMvRFUsRUFBYyxHQUFJdEIsUUFBT0MsS0FBS3NCLE1BQVNWLEVBQVFFLEdBQVcsRUFBS0QsRUFBUUMsR0FBVyxHQUNsRlMsRUFBMkIsR0FBSXhCLFFBQU9DLEtBQUtzQixNQUV2Q0osRUFBc0JNLEVBQUlILEVBQVlHLEVBQ3RDTixFQUFzQk8sRUFBSUosRUFBWUksR0FJMUNDLEVBQVluQyxFQUFJNEIsZ0JBQWdCUSxrQkFBbUJKLEVBRXZEaEMsR0FBSWMsVUFBV3FCLElBR25CRSxFQUFXLFdBQ1AsR0FBSUMsR0FBZ0IsR0FBSTlCLFFBQU9DLEtBQUs4QixnQkFFNUJDLFVBRVFDLElBQU8sWUFHUEMsV0FBYyxLQUdkQyxrQkFLUkMsWUFBZSxtQkFDZkosVUFFUUssTUFBUyxjQUtqQkMsWUFBZSxRQUNmTixVQUVRSyxNQUFTLGNBS2pCQyxZQUFlLE9BQ2ZOLFVBRVFLLE1BQVMsaUJBTWpCQyxZQUFlLGFBQ2ZOLFVBRVFLLE1BQVMsWUFHVEYsVUFBYSxNQUtyQkcsWUFBZSxlQUNmTixVQUVRSyxNQUFTLFlBR1RGLGtCQUtSRyxZQUFlLGdCQUNmTixVQUVRSyxNQUFTLFlBR1RGLGtCQUtSRyxZQUFlLFVBQ2ZOLFVBRVFLLE1BQVMsWUFHVEYsVUFBYSxPQUtyQkcsWUFBZSxlQUNmTixVQUVRSyxNQUFTLFlBR1RGLFVBQWEsT0FLckJHLFlBQWUseUJBQ2ZGLFlBQWUsU0FDZkosVUFFUU8sV0FBYyxVQUt0QkQsWUFBZSxrQkFDZkYsWUFBZSxxQkFDZkosVUFFUU8sV0FBYyxVQUt0QkQsWUFBZSxrQkFDZkYsWUFBZSxtQkFDZkosVUFFUUssTUFBUyxlQUtyQkcsS0FBTSxpQkFFTkMsRUFBa0IsY0FFdEJqRCxHQUFNLEdBQUlRLFFBQU9DLEtBQUt5QyxJQUFLaEQsRUFBSyxJQUM1QmlELEtBQU03QyxFQUNOOEMsYUFBYSxFQUNiQyxnQkFBZ0IsRUFDaEJDLGNBQWMsRUFDZEMsbUJBQW1CLEVBQ25CQyxlQUFlLEVBQ2ZDLFFBQVM3QyxJQUFLVCxFQUFTVSxJQUFLUixHQUM1QnFELHVCQUNJQyxZQUFhbkQsT0FBT0MsS0FBS21ELFVBQVVDLFFBQVNaLE1BSXBEaEQsRUFBUyxHQUFJTyxRQUFPQyxLQUFLcUQsUUFDckIzRyxVQUFXeUQsSUFBS1QsRUFBU1UsSUFBS1IsR0FDOUJMLElBQUtBLElBR1RBLEVBQUkrRCxTQUFTQyxJQUFJZixFQUFpQlgsR0FDbEN0QyxFQUFJaUUsYUFBYWhCLEdBRWpCekMsT0FBT0MsS0FBSzdFLE1BQU1zSSxnQkFBZ0JsRSxFQUFLLE9BQVEsV0FFM0MsR0FBS08sRUFBSzFILE9BQVMsQ0FFZixHQUFJOEgsSUFBWUMsSUFBS0wsRUFBS3RCLE9BQU8sV0FBV21CLEtBQUssV0FBWVMsSUFBS04sRUFBS3RCLE9BQU8sV0FBV21CLEtBQUssV0FFOUZKLEdBQUljLFVBQVdILEdBRWZJLEVBQWVmLEVBQUlnQixZQUFhLEVBQUcsUUFPL0N2SixFQUFRLFdBQ0orSSxPQUFPQyxLQUFLN0UsTUFBTThFLGVBQWV4SixPQUFRLE9BQVFtTCxHQUNqRGhMLElBQ0F3RixLQUVKQSxFQUFhLFdBRVQsR0FBSXNILEdBQVVqTyxFQUFFLGtCQUVaZSxHQUFRbUIsU0FBVyxLQUVmK0wsRUFBUWxMLGNBQWdCa0wsRUFBUUMsY0FDaEN0TSxFQUFLMkMsT0FBUTBKLEVBQVFsTCxjQUFxQyxJQUF0QmtMLEVBQVFsTCxlQUM1Q25CLEVBQUtNLE1BQU8rTCxFQUFRbEwsY0FBcUMsSUFBdEJrTCxFQUFRbEwsaUJBRTNDbkIsRUFBSzJDLE9BQVEwSixFQUFRQyxhQUFtQyxJQUFyQkQsRUFBUUMsY0FDM0N0TSxFQUFLTSxNQUFPK0wsRUFBUUMsYUFBbUMsSUFBckJELEVBQVFDLGVBRzFDRCxFQUFRdkwsUUFBUSxhQUFhc0IsU0FBUyxnQkFFbENpSyxFQUFRbEwsY0FBZ0JrTCxFQUFRQyxjQUNoQ3RNLEVBQUsyQyxPQUFRMEosRUFBUWxMLGNBQXFDLEdBQXRCa0wsRUFBUWxMLGVBQzVDbkIsRUFBS00sTUFBTytMLEVBQVFsTCxjQUFxQyxHQUF0QmtMLEVBQVFsTCxpQkFFM0NuQixFQUFLMkMsT0FBUTBKLEVBQVFDLGFBQW1DLEdBQXJCRCxFQUFRQyxjQUMzQ3RNLEVBQUtNLE1BQU8rTCxFQUFRQyxhQUFtQyxHQUFyQkQsRUFBUUMsaUJBU2xEdE0sRUFBS2lELEtBQUssUUFBUSxJQU85QnRELE1BR0FYLEVBQXFCLFNBQVdDLEdBR2hDLEdBQ0llLEdBQU9mLEVBQ1BzTixFQUFTdk0sRUFBS0ksS0FBSyxpQkFDbkJqQixFQUFVZixFQUFHZ0IsUUFHYkcsRUFBYSxXQUVUSixFQUFRSyxJQUNKQyxLQUFNLGFBR05nQixPQUFRLFdBRUorTCxRQU1aQSxFQUFlLFdBRVhELEVBQU9uTSxLQUFLLFNBQVM5QixLQUFLLFdBRXRCLEdBQUk2SyxHQUFVL0ssRUFBRUksTUFDWmlPLEVBQVd0RCxFQUFRYixLQUFLLFFBRzVCLElBQWdCb0UsUUFBWkQsRUFBd0IsQ0FFeEIsSUFBSyxHQUFJRSxHQUFJLEVBQUdBLEVBQUlGLEVBQVMxTCxPQUFRNEwsSUFBTSxDQUV2QyxHQUFJQyxFQUVBek4sR0FBUW1CLFNBQVcsS0FFbkJzTSxFQUFXSCxFQUFTLEdBRWJ0TixFQUFRbUIsUUFBVSxNQUFRbkIsRUFBUW1CLFNBQVUsSUFFbkRzTSxFQUFXSCxFQUFTLEdBRWJ0TixFQUFRbUIsUUFBVSxNQUV6QnNNLEVBQVdILEVBQVMsSUFNeEJHLEVBQVNDLElBQUk5TCxRQUVib0ksRUFBUTNHLEtBQ0pzSyxtQkFBb0IsUUFBU0YsRUFBU0MsSUFBSyxLQUMzQ3ZILElBQUssT0FDTFMsTUFBTyxPQUNQRCxPQUFRLE9BQ1JELEtBQU0sUUFLZCxLQUFLLEdBQUlrSCxLQUFPSCxHQUFTSSxVQUVyQjdELEVBQVEzRyxJQUFLdUssRUFBS0gsRUFBU0ksVUFBVUQsR0FBSyxJQUFNLFVBVWhFcE4sRUFBUSxXQUNKSixJQUNBaU4sSUFHUjdNIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4oIGZ1bmN0aW9uKCkge1xuXG4gICAgJCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgbmV3IFByZWxvYWRlciggJCgnLnByZWxvYWRlcicpICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuc2l0ZV9faW5kZXgtcGFnZScgKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgUGFnZSggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJ2JvZHknKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgWm9vbVNpdGUoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuc2l0ZV9faGVhZGVyJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IE1lbnUoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcubWFpbi1zbGlkZXInKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgTWFpblNsaWRlciggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5leHBlcnRpc2VfX2l0ZW1zJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IEV4cGVydGlzZVNsaWRlciggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5yZXZpZXdzJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFJldmlld3NTbGlkZXIoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuY29udGFjdHNfX21hcCcpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBMb2NhdGlvbiggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5jYXNlIC5tYWluLXNsaWRlcl9fYnRuLWRvd24nKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgU2Nyb2xsRG93biggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5tYWluLXNsaWRlcicpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBNYWluU2xpZGVyUGljdHVyZXMoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cblxuICAgIH0gKTtcblxuICAgIHZhciBQcmVsb2FkZXIgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcbiAgICAgICAgICAgIF9wcmVsb2FkZXIgPSBvYmosXG4gICAgICAgICAgICBfYm9keSA9ICQoJ2JvZHknKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3dTaXRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2JvZHlbMF0ucHJlbG9hZGVyID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3Nob3dTaXRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfcHJlbG9hZGVyLmFkZENsYXNzKCAncHJlbG9hZGVyX2xvYWRlZCcgKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgX3ByZWxvYWRlci5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGUnKS5hZGRDbGFzcyggJ3NpdGVfX2xvYWRlZCcgKTtcblxuICAgICAgICAgICAgICAgIH0sNTAwKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBQYWdlID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfZG9tID0gJCggJ2h0bWwsIGJvZHknICksXG4gICAgICAgICAgICBfc3dpcGVySW5pdCA9IGZhbHNlLFxuICAgICAgICAgICAgX3N3aXBlcixcbiAgICAgICAgICAgIF9zbGlkZUNvbnRlbnQgPSBfb2JqLmZpbmQoJy5zbGlkZV9fY29udGVudCcpLFxuICAgICAgICAgICAgX21haW5TbGlkZXIgPSAkKCcubWFpbi1zbGlkZXInKSxcbiAgICAgICAgICAgIF9idG5Eb3duID0gX21haW5TbGlkZXIuZmluZCgnLm1haW4tc2xpZGVyX19idG4tZG93bicpO1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICFfc3dpcGVySW5pdCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW5pdEZ1bGxQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jZW50ZXJDb250ZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zd2lwZXJJbml0ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICFfc3dpcGVySW5pdCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW5pdEZ1bGxQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zd2lwZXJJbml0ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jZW50ZXJDb250ZW50KCk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfc3dpcGVySW5pdCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGVzdHJveUZ1bGxQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zd2lwZXJJbml0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2J0bkRvd24ub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygzMDApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAkKCB0aGlzICkucGFyZW50cyggJy5jYXNlJyApLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9tLnN0b3AoIHRydWUsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uYW5pbWF0ZSggeyBzY3JvbGxUb3A6IF9tYWluU2xpZGVyLmlubmVySGVpZ2h0KCkgfSwgMzAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLm1vdmVUbygyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uc3RvcCggdHJ1ZSwgZmFsc2UgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9tLmFuaW1hdGUoIHsgc2Nyb2xsVG9wOiBfbWFpblNsaWRlci5pbm5lckhlaWdodCgpIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0RnVsbFBhZ2UgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICQoJyNmdWxscGFnZScpLmZ1bGxwYWdlKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsT3ZlcmZsb3c6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb25TZWxlY3RvcjogJy5zbGlkZV9fY29udGVudCcsXG4gICAgICAgICAgICAgICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uKCBhbmNob3JMaW5rLCBpbmRleCwgc2xpZGVJbmRleCwgZGlyZWN0aW9uLCBuZXh0U2xpZGVJbmRleCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGluZGV4ID4gMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5sb2dvX2luZGV4JykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5tb3ZlJykuYWRkQ2xhc3MoJ21vdmVzX3VwIGFuaW1hdGVkX21vdmVzJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcubG9nb19pbmRleCcpLnNob3coKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcubW92ZScpLnJlbW92ZUNsYXNzKCdtb3Zlc191cCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm1vdmUnKS5yZW1vdmVDbGFzcygnYW5pbWF0ZWRfbW92ZXMnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDgwMCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmxvY2sgPSAkKCcuc2xpZGVfX2NvbnRlbnQnKS5lcSggaW5kZXgtMSkuZmluZCgnLnNsaWRlX19jb250ZW50LWlubmVyPmRpdj5kaXYnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGJsb2NrLmhhc0NsYXNzKCdyZXZpZXdzJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jay5maW5kKCcucmV2aWV3c19faXRlbScpLmFkZENsYXNzKCdhbmltYXRpb24nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9kZXN0cm95RnVsbFBhZ2UgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICQuZm4uZnVsbHBhZ2UuZGVzdHJveSgnYWxsJyk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2VudGVyQ29udGVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vX3NsaWRlQ29udGVudC5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgIHZhciBjdXJDb250ZW50ID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgY3VyQ29udGVudElubmVyID0gY3VyQ29udGVudC5maW5kKCcuc2xpZGVfX2NvbnRlbnQtaW5uZXInKTtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgIGN1ckNvbnRlbnRJbm5lci5jc3MoIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgJ21pbi1oZWlnaHQnOiBfd2luZG93LmhlaWdodCgpXG4gICAgICAgICAgICAgICAgLy8gICAgfSApO1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgaWYoIGN1ckNvbnRlbnRJbm5lci5maW5kKCc+ZGl2JykuaGVpZ2h0KCkgPCBfd2luZG93LmhlaWdodCgpICkge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIGlmKCBjdXJDb250ZW50LmZpbmQoJy5jb250YWN0cycpLmxlbmd0aCApIHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgaWYoIGN1ckNvbnRlbnQuZmluZCgnLmNvbnRhY3RzX19tYXAnKS5oZWlnaHQoKSA8IGN1ckNvbnRlbnRJbm5lci5maW5kKCc+ZGl2JykuaGVpZ2h0KCkgKSB7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBjdXJDb250ZW50SW5uZXIuYWRkQ2xhc3MoJ2NlbnRlcmVkJyk7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBjdXJDb250ZW50SW5uZXIucmVtb3ZlQ2xhc3MoJ2NlbnRlcmVkJyk7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIGN1ckNvbnRlbnRJbm5lci5hZGRDbGFzcygnY2VudGVyZWQnKTtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIGN1ckNvbnRlbnRJbm5lci5yZW1vdmVDbGFzcygnY2VudGVyZWQnKTtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vfSApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG5cblxuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBab29tU2l0ZSA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfbWFpblNsaWRlciA9ICQoJy5tYWluLXNsaWRlcicpLFxuICAgICAgICAgICAgX2JvZHkgPSAkKCAnYm9keScgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDc2OCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRTaXplKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6ICc3NXB4J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tYWluU2xpZGVyLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZm9udC1zaXplJzogJzc1cHgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gNzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9zZXRTaXplKCk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldFNpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgbmV3U2l6ZTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LmhlaWdodCgpID4gNTAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgIG5ld1NpemUgPSAoKCAxMDAgKiAoIHdpbmRvdy5pbm5lckhlaWdodCAvIDkwMCApICkpICsgJ3B4JztcblxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBuZXdTaXplID0gKCggMTAwICogKCA1MDAgLyA5MDAgKSApKSArICdweCc7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6IG5ld1NpemVcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfbWFpblNsaWRlci5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6IG5ld1NpemVcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgTWVudSA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cpLFxuICAgICAgICAgICAgX21lbnVCdG4gPSBfb2JqLmZpbmQoJy5zaXRlX19oZWFkZXJfX2J0bicpLFxuICAgICAgICAgICAgX21lbnVJdGVtcyA9IF9vYmouZmluZCgnLnNpdGVfX2hlYWRlci1tZW51JyksXG4gICAgICAgICAgICBfaHRtbCA9ICQoJ2h0bWwnKSxcbiAgICAgICAgICAgIF9ib2R5ID0gJCgnYm9keScpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfY2xvc2VNZW51ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgIF9ib2R5LmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX21lbnVJdGVtcy5hdHRyKCAnc3R5bGUnLCAnJyApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGw6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cuc2Nyb2xsVG9wKCkgPiAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcygnZml4ZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoJ2ZpeGVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX21lbnVCdG4ub24oIHtcblxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX29iai5oYXNDbGFzcyggJ29wZW5lZCcgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZU1lbnUoKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5NZW51KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vcGVuTWVudSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ29wZW5lZCcgKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9odG1sLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgIF9ib2R5LmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LnNjcm9sbFRvcCgpID4gX29iai5pbm5lckhlaWdodCgpLzIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcygnZml4ZWQnKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcygnZml4ZWQnKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBNYWluU2xpZGVyID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfaGVhZGVyID0gJCggJy5zaXRlX19oZWFkZXInKSxcbiAgICAgICAgICAgIF9zdGVwMSA9IDE1LFxuICAgICAgICAgICAgX3N0ZXAyID0gMTAsXG4gICAgICAgICAgICBfc3RlcDMgPSA1LFxuICAgICAgICAgICAgX3N0ZXA0ID0gMjAsXG4gICAgICAgICAgICBfc3RlcDUgPSAyNSxcbiAgICAgICAgICAgIF9zd2lwZXIxLFxuICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gMDtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFxuICAgICAgICAgICAgICAgICAgICAnbW91c2Vtb3ZlJyxcbiAgICAgICAgICAgICAgICAgICAgJy5tYWluLXNsaWRlciAuc3dpcGVyLXNsaWRlJyxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oIGUgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNsaWRlID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW1nMSA9IHNsaWRlLmZpbmQoJy5tb3ZlMScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbWcyID0gc2xpZGUuZmluZCgnLm1vdmUyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ltZzMgPSBzbGlkZS5maW5kKCcubW92ZTMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW1nNCA9IHNsaWRlLmZpbmQoJy5tb3ZlNCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbWc1ID0gc2xpZGUuZmluZCgnLm1vdmU1Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggX3dpbmRvdy53aWR0aCgpID4gMTAyNCAmJiAhKCBfaGVhZGVyLmhhc0NsYXNzKCdvcGVuZWQnKSApICYmICEoICQoZG9jdW1lbnQpLmZpbmQoJy5tb3ZlJykuaGFzQ2xhc3MoJ2FuaW1hdGVkX21vdmVzJykgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYWdlWCA9IGUucGFnZVgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VZID0gZS5wYWdlWSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFsZldpZHRoID0gX29iai53aWR0aCgpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFsZkhlaWdodCA9IF9vYmouaGVpZ2h0KCkgLyAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50RnJvbUNlbnRlclggPSAoIHBhZ2VYIC0gaGFsZldpZHRoICkgLyBoYWxmV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRGcm9tQ2VudGVyWSA9ICggcGFnZVkgLSBoYWxmSGVpZ2h0ICkgLyBoYWxmSGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF93aW5kb3cub3V0ZXJXaWR0aCgpID4gMTAyNCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlQm90dG9tKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDEsX2ltZzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZUJvdHRvbShwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXAxLCAkKGRvY3VtZW50KS5maW5kKCcuY29weV8xJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZVRvcChwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXAyLF9pbWcyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVUb3AocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwMiwgJChkb2N1bWVudCkuZmluZCgnLmNvcHlfMicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVUb3AocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwMyxfaW1nMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlVG9wKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDMsICQoZG9jdW1lbnQpLmZpbmQoJy5jb3B5XzMnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlQm90dG9tKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDQsX2ltZzQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZUJvdHRvbShwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXA0LCAkKGRvY3VtZW50KS5maW5kKCcuY29weV80JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZUJvdHRvbShwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXA1LF9pbWc1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVCb3R0b20ocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwNSwgJChkb2N1bWVudCkuZmluZCgnLmNvcHlfNScpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaW5pdFN3aXBlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9nbG9iYWxXaWR0aCAhPSBfd2luZG93LndpZHRoKCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCkrMTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCAmJiBzY3JlZW4ud2lkdGggPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyQoJy5tb3ZlJykuYXR0cignc3R5bGUnLCAnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9vYmouaGFzQ2xhc3MoJ21haW4tc2xpZGVyX2luZGV4JykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFNlY3Rpb24gPSBfb2JqLnBhcmVudHMoJy5zbGlkZV9fY29udGVudCcpLm5leHQoKS5maW5kKCcuc2xpZGVfX2NvbnRlbnQtaW5uZXInKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gX29iai5maW5kKCcuc3dpcGVyLXNsaWRlLWFjdGl2ZScpLmlubmVySGVpZ2h0KCk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLnN3aXBlci1zbGlkZS1hY3RpdmUgLm1vdmUnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2ZWdldGFibGUgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IHZlZ2V0YWJsZS5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHRWZWcgPSB2ZWdldGFibGUuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwb3MgKyBoZWlnaHRWZWcgPiBoZWlnaHQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtID0gdmVnZXRhYmxlLmF0dHIoJ2NsYXNzJykucmVwbGFjZSggLyheLitcXEQpKFxcZCspKFxcRC4rJCkvaSwnJDInKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggJCgnLmNvcHlfbW92ZS5jb3B5XycrbnVtKycnKS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZEltZyA9ICAkKCcuY29weV9tb3ZlLmNvcHlfJytudW0rJycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKCcuc2xpZGVfX2NvbnRlbnQnKS5pbm5lckhlaWdodCgpIDwgJCgnLm1haW4tc2xpZGVyJykuaW5uZXJIZWlnaHQoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9ICQoJy5tYWluLXNsaWRlcicpLmlubmVySGVpZ2h0KCktJCgnLnNsaWRlX19jb250ZW50JykuaW5uZXJIZWlnaHQoKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRJbWcub2Zmc2V0KCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHZlZ2V0YWJsZS5vZmZzZXQoKS50b3AtZGlmZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHZlZ2V0YWJsZS5vZmZzZXQoKS5sZWZ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRJbWcuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdmVnZXRhYmxlLndpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHZlZ2V0YWJsZS5oZWlnaHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdJbWcgPSB2ZWdldGFibGUuY2xvbmUodHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW1nLmFkZENsYXNzKCdjb3B5X21vdmUgY29weV8nK251bSsnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRTZWN0aW9uLnByZXBlbmQobmV3SW1nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggJCgnLnNsaWRlX19jb250ZW50JykuaW5uZXJIZWlnaHQoKSA8ICQoJy5tYWluLXNsaWRlcicpLmlubmVySGVpZ2h0KCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmYgPSAkKCcubWFpbi1zbGlkZXInKS5pbm5lckhlaWdodCgpLSQoJy5zbGlkZV9fY29udGVudCcpLmlubmVySGVpZ2h0KClcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW1nLm9mZnNldCgge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB2ZWdldGFibGUub2Zmc2V0KCkudG9wLWRpZmYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB2ZWdldGFibGUub2Zmc2V0KCkubGVmdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW1nLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHZlZ2V0YWJsZS53aWR0aCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB2ZWdldGFibGUuaGVpZ2h0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtID0gdmVnZXRhYmxlLmF0dHIoJ2NsYXNzJykucmVwbGFjZSggLyheLitcXEQpKFxcZCspKFxcRC4rJCkvaSwnJDInKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jb3B5X21vdmUuY29weV8nK251bSsnJykucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxNTAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHNjcmVlbi53aWR0aCA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9LCA1MDAgKTtcblxuXG4gICAgICAgICAgICAgICAgfSwgZmFsc2UpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXRTd2lwZXIgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9zd2lwZXIxID0gbmV3IFN3aXBlciggX29iai5maW5kKCAnLnN3aXBlci1jb250YWluZXInICksIHtcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgICAgICAgICAgICAgICBzcGVlZDogNzAwLFxuICAgICAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6ICdmYWRlJyxcbiAgICAgICAgICAgICAgICAgICAgZmFkZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NGYWRlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5RGlzYWJsZU9uSW50ZXJhY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBuZXh0QnV0dG9uOiBfb2JqLmZpbmQoJy5zd2lwZXItYnV0dG9uLW5leHQnKVswXSxcbiAgICAgICAgICAgICAgICAgICAgcHJldkJ1dHRvbjogX29iai5maW5kKCcuc3dpcGVyLWJ1dHRvbi1wcmV2JylbMF0sXG4gICAgICAgICAgICAgICAgICAgIG9uSW5pdDogZnVuY3Rpb24oIHN3aXBlciApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdFNsaWRlID0gc3dpcGVyLnNsaWRlcy5maWx0ZXIoJy5zd2lwZXItc2xpZGUtYWN0aXZlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbkluZGV4ID0gYWN0U2xpZGUucGFyZW50cygnLnNsaWRlX19jb250ZW50JykuaW5kZXgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0U2VjdGlvbiA9ICQoJy5zbGlkZV9fY29udGVudCcpLmVxKHNlY3Rpb25JbmRleCsxKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9vYmouaGFzQ2xhc3MoJ21haW4tc2xpZGVyX2luZGV4JykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gYWN0U2xpZGUuaW5uZXJIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdFNsaWRlLmZpbmQoJy5tb3ZlJykuZWFjaChmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2ZWdldGFibGUgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gdmVnZXRhYmxlLnBvc2l0aW9uKCkudG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0VmVnID0gdmVnZXRhYmxlLmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwb3MgKyBoZWlnaHRWZWcgPiBoZWlnaHQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW0gPSB2ZWdldGFibGUuYXR0cignY2xhc3MnKS5yZXBsYWNlKCAvKF4uK1xcRCkoXFxkKykoXFxELiskKS9pLCckMicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmYgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3SW1nID0gdmVnZXRhYmxlLmNsb25lKHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbWcuYWRkQ2xhc3MoJ2NvcHlfbW92ZSBjb3B5XycrbnVtKycnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRTZWN0aW9uLnByZXBlbmQobmV3SW1nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQoJy5zbGlkZV9fY29udGVudCcpLmlubmVySGVpZ2h0KCkgPCAkKCcubWFpbi1zbGlkZXInKS5pbm5lckhlaWdodCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9ICQoJy5tYWluLXNsaWRlcicpLmlubmVySGVpZ2h0KCktJCgnLnNsaWRlX19jb250ZW50JykuaW5uZXJIZWlnaHQoKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0ltZy5vZmZzZXQoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHZlZ2V0YWJsZS5vZmZzZXQoKS50b3AtZGlmZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB2ZWdldGFibGUub2Zmc2V0KCkubGVmdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbWcuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdmVnZXRhYmxlLndpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB2ZWdldGFibGUuaGVpZ2h0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uU2xpZGVDaGFuZ2VTdGFydDogZnVuY3Rpb24oIHN3aXBlciApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdFNsaWRlID0gc3dpcGVyLnNsaWRlcy5maWx0ZXIoJy5zd2lwZXItc2xpZGUtYWN0aXZlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbkluZGV4ID0gYWN0U2xpZGUucGFyZW50cygnLnNsaWRlX19jb250ZW50JykuaW5kZXgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0U2VjdGlvbiA9ICQoJy5zbGlkZV9fY29udGVudCcpLmVxKHNlY3Rpb25JbmRleCsxKS5maW5kKCcuc2xpZGVfX2NvbnRlbnQtaW5uZXInKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNvcHlfbW92ZScpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uU2xpZGVDaGFuZ2VFbmQ6IGZ1bmN0aW9uKCBzd2lwZXIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3RTbGlkZSA9IHN3aXBlci5zbGlkZXMuZmlsdGVyKCcuc3dpcGVyLXNsaWRlLWFjdGl2ZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb25JbmRleCA9IGFjdFNsaWRlLnBhcmVudHMoJy5zbGlkZV9fY29udGVudCcpLmluZGV4KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFNlY3Rpb24gPSAkKCcuc2xpZGVfX2NvbnRlbnQnKS5lcShzZWN0aW9uSW5kZXgrMSkuZmluZCgnLnNsaWRlX19jb250ZW50LWlubmVyJyk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9vYmouaGFzQ2xhc3MoJ21haW4tc2xpZGVyX2luZGV4JykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gYWN0U2xpZGUuaW5uZXJIZWlnaHQoKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0U2xpZGUuZmluZCgnLm1vdmUnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZlZ2V0YWJsZSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSB2ZWdldGFibGUucG9zaXRpb24oKS50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHRWZWcgPSB2ZWdldGFibGUuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHBvcyArIGhlaWdodFZlZyA+IGhlaWdodCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG51bSA9IHZlZ2V0YWJsZS5hdHRyKCdjbGFzcycpLnJlcGxhY2UoIC8oXi4rXFxEKShcXGQrKShcXEQuKyQpL2ksJyQyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZiA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdJbWcgPSB2ZWdldGFibGUuY2xvbmUodHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0ltZy5hZGRDbGFzcygnY29weV9tb3ZlIGNvcHlfJytudW0rJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFNlY3Rpb24ucHJlcGVuZChuZXdJbWcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggJCgnLnNsaWRlX19jb250ZW50JykuaW5uZXJIZWlnaHQoKSA8ICQoJy5tYWluLXNsaWRlcicpLmlubmVySGVpZ2h0KCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmID0gJCgnLm1haW4tc2xpZGVyJykuaW5uZXJIZWlnaHQoKS0kKCcuc2xpZGVfX2NvbnRlbnQnKS5pbm5lckhlaWdodCgpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW1nLm9mZnNldCgge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdmVnZXRhYmxlLm9mZnNldCgpLnRvcC1kaWZmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHZlZ2V0YWJsZS5vZmZzZXQoKS5sZWZ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0ltZy5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB2ZWdldGFibGUud2lkdGgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHZlZ2V0YWJsZS5oZWlnaHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX21vdmVCb3R0b20gPSBmdW5jdGlvbiggeFBlcmNlbnQsIHlQZXJjZW50LCBzdGVwLCBpbWFnZSApIHtcblxuICAgICAgICAgICAgICAgIGltYWdlLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAnICsgLSggeFBlcmNlbnQgKiBzdGVwICkgKyAncHgsJyArIC0oIHlQZXJjZW50ICogc3RlcCApICsgJ3B4ICknLFxuICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggJyArIC0oIHhQZXJjZW50ICogc3RlcCApICsgJ3B4LCAnICsgLSggeVBlcmNlbnQgKiBzdGVwICkgKyAncHggICknXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX21vdmVUb3AgPSBmdW5jdGlvbiggeFBlcmNlbnQsIHlQZXJjZW50LCBzdGVwLCBpbWFnZSApIHtcblxuICAgICAgICAgICAgICAgIGltYWdlLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAnICsgKCB4UGVyY2VudCAqIHN0ZXAgKSArICdweCAsJyArICggeVBlcmNlbnQgKiBzdGVwICkgKyAncHggICknLFxuICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggJyArICggeFBlcmNlbnQgKiBzdGVwICkgKyAncHggLCAnICsgKCB5UGVyY2VudCAqIHN0ZXAgKSArICdweCAgKSdcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gX3dpbmRvdy5oZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgIGlmICggX29iai5wYXJlbnRzKCcuY2FzZScpLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQgKyBoZWlnaHQvNVxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cblxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcblxuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBFeHBlcnRpc2VTbGlkZXIgPSBmdW5jdGlvbiAoIG9iaiApIHtcblxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcbiAgICAgICAgICAgIF9zd2lwZXJJbml0ID0gZmFsc2UsXG4gICAgICAgICAgICBfc3dpcGVyO1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgNzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICFfc3dpcGVySW5pdCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW5pdFN3aXBlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3dpcGVySW5pdCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfc3dpcGVySW5pdCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGVzdHJveVN3aXBlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3dpcGVySW5pdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdFN3aXBlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3N3aXBlciA9IG5ldyBTd2lwZXIoIF9vYmouZmluZCggJy5zd2lwZXItY29udGFpbmVyJyApLCB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEuOSxcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IHRydWVcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfZGVzdHJveVN3aXBlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3N3aXBlci5kZXN0cm95KCB0cnVlLCB0cnVlKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG5cbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgNzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCAhX3N3aXBlckluaXQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbml0U3dpcGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc3dpcGVySW5pdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgU2Nyb2xsRG93biA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3Njcm9sbGVyID0gJCggJ2h0bWwsIGJvZHknICksXG4gICAgICAgICAgICBfbWFpblNsaWRlclBpYyA9ICQoJy5tYWluLXNsaWRlcl9faW5uZXItcGljJyk7XG5cbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coMzAwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3Njcm9sbGVyLmFuaW1hdGUoIHsgc2Nyb2xsVG9wOiBfbWFpblNsaWRlclBpYy5pbm5lckhlaWdodCgpIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgUmV2aWV3c1NsaWRlciA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX3N3aXBlcjtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0U3dpcGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc3dpcGVyID0gbmV3IFN3aXBlciggX29iai5maW5kKCAnLnN3aXBlci1jb250YWluZXInICksIHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiAnZmFkZScsXG4gICAgICAgICAgICAgICAgICAgIGZhZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzRmFkZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX29iai5maW5kKCcuc3dpcGVyLWJ1dHRvbi1uZXh0JylbMF0sXG4gICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246IF9vYmouZmluZCgnLnN3aXBlci1idXR0b24tcHJldicpWzBdXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfaW5pdFN3aXBlcigpO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBMb2NhdGlvbiA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX21hcCA9IF9vYmouZmluZCgnI2NvbnRhY3QtZ29vZ2xlLW1hcCcpLFxuICAgICAgICAgICAgX21hcExhdCA9IF9tYXAuZGF0YSgnbWFwLWxhdCcpLFxuICAgICAgICAgICAgX21hcExuZyA9IF9tYXAuZGF0YSgnbWFwLWxuZycpLFxuICAgICAgICAgICAgX21hcFpvb20gPSBfbWFwLmRhdGEoJ21hcC16b29tJyksXG4gICAgICAgICAgICBfYnRuID0gJCgnLmNvbnRhY3RzX19jaXRpZXMgLmJ0bicpLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgbWFwLFxuICAgICAgICAgICAgbWFya2VyO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuXG5cbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lciggd2luZG93LCAncmVzaXplJywgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBfYnRuLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG15TGF0TG5nID0ge2xhdDogX2J0bi5maWx0ZXIoJy5hY3RpdmUnKS5kYXRhKCdtYXAtbGF0JyksIGxuZzogX2J0bi5maWx0ZXIoJy5hY3RpdmUnKS5kYXRhKCdtYXAtbG5nJyl9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuc2V0Q2VudGVyKCBteUxhdExuZyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2Zmc2V0Q2VudGVyKCBtYXAuZ2V0Q2VudGVyKCksIDAsIDUwKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2J0bi5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKGN1ckl0ZW0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9idG4ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG15TGF0TG5nID0ge2xhdDogJCh0aGlzKS5kYXRhKCdtYXAtbGF0JyksIGxuZzogJCh0aGlzKS5kYXRhKCdtYXAtbG5nJyl9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlci5zZXRQb3NpdGlvbihteUxhdExuZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcihtYXAsICdyZXNpemUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnNldENlbnRlcihteUxhdExuZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vZmZzZXRDZW50ZXIoIG1hcC5nZXRDZW50ZXIoKSwgMCwgNTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29mZnNldENlbnRlciA9IGZ1bmN0aW9uICggbGF0bG5nLCBvZmZzZXR4LCBvZmZzZXR5ICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gTWF0aC5wb3coIDIsIG1hcC5nZXRab29tKCkgKSxcbiAgICAgICAgICAgICAgICAgICAgd29ybGRDb29yZGluYXRlQ2VudGVyID0gbWFwLmdldFByb2plY3Rpb24oKS5mcm9tTGF0TG5nVG9Qb2ludCggbGF0bG5nICksXG4gICAgICAgICAgICAgICAgICAgIHBpeGVsT2Zmc2V0ID0gbmV3IGdvb2dsZS5tYXBzLlBvaW50KCAoIG9mZnNldHgvc2NhbGUgKSB8fCAwLCAoIG9mZnNldHkvc2NhbGUgKSB8fCAwICksXG4gICAgICAgICAgICAgICAgICAgIHdvcmxkQ29vcmRpbmF0ZU5ld0NlbnRlciA9IG5ldyBnb29nbGUubWFwcy5Qb2ludChcblxuICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRDb29yZGluYXRlQ2VudGVyLnggLSBwaXhlbE9mZnNldC54LFxuICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRDb29yZGluYXRlQ2VudGVyLnkgKyBwaXhlbE9mZnNldC55XG5cbiAgICAgICAgICAgICAgICAgICAgKSxcblxuICAgICAgICAgICAgICAgICAgICBuZXdDZW50ZXIgPSBtYXAuZ2V0UHJvamVjdGlvbigpLmZyb21Qb2ludFRvTGF0TG5nKCB3b3JsZENvb3JkaW5hdGVOZXdDZW50ZXIgKTtcblxuICAgICAgICAgICAgICAgIG1hcC5zZXRDZW50ZXIoIG5ld0NlbnRlciApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXRNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1c3RvbU1hcFR5cGUgPSBuZXcgZ29vZ2xlLm1hcHMuU3R5bGVkTWFwVHlwZShbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImh1ZVwiOiBcIiNiMDAwNDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNhdHVyYXRpb25cIjogNjBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsaWdodG5lc3NcIjogLTQwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjZmY2ZmE0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJ3YXRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjQjYxNTMwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJyb2FkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiNCNjE1MzBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge31cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInJvYWQubG9jYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiI0I2MTUzMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlnaHRuZXNzXCI6IDZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmhpZ2h3YXlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiI0I2MTUzMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlnaHRuZXNzXCI6IC0yNVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuYXJ0ZXJpYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiI0I2MTUzMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlnaHRuZXNzXCI6IC0xMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInRyYW5zaXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiI0I2MTUzMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlnaHRuZXNzXCI6IDcwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwidHJhbnNpdC5saW5lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiNCNjE1MzBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImxpZ2h0bmVzc1wiOiA5MFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcImFkbWluaXN0cmF0aXZlLmNvdW50cnlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInZpc2liaWxpdHlcIjogXCJvZmZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInRyYW5zaXQuc3RhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImxhYmVscy50ZXh0LnN0cm9rZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidmlzaWJpbGl0eVwiOiBcIm9mZlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwidHJhbnNpdC5zdGF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjZmY2ZmE0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdDdXN0b20gU3R5bGUnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGN1c3RvbU1hcFR5cGVJZCA9ICdjdXN0b21fc3R5bGUnO1xuXG4gICAgICAgICAgICAgICAgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcCggX21hcFswXSwge1xuICAgICAgICAgICAgICAgICAgICB6b29tOiBfbWFwWm9vbSxcbiAgICAgICAgICAgICAgICAgICAgem9vbUNvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtYXBUeXBlQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHN0cmVldFZpZXdDb250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcm90YXRlQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcjoge2xhdDogX21hcExhdCwgbG5nOiBfbWFwTG5nfSxcbiAgICAgICAgICAgICAgICAgICAgbWFwVHlwZUNvbnRyb2xPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXBUeXBlSWRzOiBbZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVAsIGN1c3RvbU1hcFR5cGVJZF1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7bGF0OiBfbWFwTGF0LCBsbmc6IF9tYXBMbmd9LFxuICAgICAgICAgICAgICAgICAgICBtYXA6IG1hcFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbWFwLm1hcFR5cGVzLnNldChjdXN0b21NYXBUeXBlSWQsIGN1c3RvbU1hcFR5cGUpO1xuICAgICAgICAgICAgICAgIG1hcC5zZXRNYXBUeXBlSWQoY3VzdG9tTWFwVHlwZUlkKTtcblxuICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyT25jZShtYXAsICdpZGxlJywgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBfYnRuLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG15TGF0TG5nID0ge2xhdDogX2J0bi5maWx0ZXIoJy5hY3RpdmUnKS5kYXRhKCdtYXAtbGF0JyksIGxuZzogX2J0bi5maWx0ZXIoJy5hY3RpdmUnKS5kYXRhKCdtYXAtbG5nJyl9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuc2V0Q2VudGVyKCBteUxhdExuZyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2Zmc2V0Q2VudGVyKCBtYXAuZ2V0Q2VudGVyKCksIDAsIDUwKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lcih3aW5kb3csICdsb2FkJywgX2luaXRNYXApO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSAkKCcuY29udGFjdHNfX2luZm8nKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gNzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjb250ZW50LmlubmVySGVpZ2h0KCkgPiBjb250ZW50LmlubmVyV2lkdGgoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5oZWlnaHQoIGNvbnRlbnQuaW5uZXJIZWlnaHQoKSsoY29udGVudC5pbm5lckhlaWdodCgpKjAuMjUpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLndpZHRoKCBjb250ZW50LmlubmVySGVpZ2h0KCkrKGNvbnRlbnQuaW5uZXJIZWlnaHQoKSowLjI1KSApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5oZWlnaHQoIGNvbnRlbnQuaW5uZXJXaWR0aCgpKyhjb250ZW50LmlubmVyV2lkdGgoKSowLjI1KSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX29iai53aWR0aCggY29udGVudC5pbm5lcldpZHRoKCkrKGNvbnRlbnQuaW5uZXJXaWR0aCgpKjAuMjUpICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiggY29udGVudC5wYXJlbnRzKCcuY29udGFjdHMnKS5oYXNDbGFzcygnY29udGFjdHNfMicpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggY29udGVudC5pbm5lckhlaWdodCgpID4gY29udGVudC5pbm5lcldpZHRoKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmhlaWdodCggY29udGVudC5pbm5lckhlaWdodCgpKyhjb250ZW50LmlubmVySGVpZ2h0KCkqMC42KSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoud2lkdGgoIGNvbnRlbnQuaW5uZXJIZWlnaHQoKSsoY29udGVudC5pbm5lckhlaWdodCgpKjAuNikgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5oZWlnaHQoIGNvbnRlbnQuaW5uZXJXaWR0aCgpKyhjb250ZW50LmlubmVyV2lkdGgoKSowLjYpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai53aWR0aCggY29udGVudC5pbm5lcldpZHRoKCkrKGNvbnRlbnQuaW5uZXJXaWR0aCgpKjAuNikgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cblxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmF0dHIoJ3N0eWxlJywnJyk7XG5cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgTWFpblNsaWRlclBpY3R1cmVzID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfc2xpZGUgPSBfb2JqLmZpbmQoJy5zd2lwZXItc2xpZGUnKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2FkZFBpY3R1cmVzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hZGRQaWN0dXJlcyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3NsaWRlLmZpbmQoJy5tb3ZlJykuZWFjaChmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFWaWV3ID0gY3VySXRlbS5kYXRhKCd2aWV3cycpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGRhdGFWaWV3ICE9IHVuZGVmaW5lZCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKCB2YXIgaSA9IDA7IGkgPCBkYXRhVmlldy5sZW5ndGg7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZWVkVmlldztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZWVkVmlldyA9IGRhdGFWaWV3WzJdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICYmIF93aW5kb3cud2lkdGgoKSA+PTc2OCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZWVkVmlldyA9IGRhdGFWaWV3WzFdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBfd2luZG93LndpZHRoKCkgPCA3NjggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmVlZFZpZXcgPSBkYXRhVmlld1swXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggbmVlZFZpZXcudXJsLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWltYWdlJzogJ3VybChcIicrIG5lZWRWaWV3LnVybCArJ1wiKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBuZWVkVmlldy5wb3NpdGlvbnMpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uY3NzKCBrZXksIG5lZWRWaWV3LnBvc2l0aW9uc1trZXldLzEwMCArICdlbScgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9hZGRQaWN0dXJlcygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
